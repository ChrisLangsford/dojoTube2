if(!AmCharts)var AmCharts={themes:{},maps:{},inheriting:{},charts:[],onReadyArray:[],useUTC:!1,updateRate:40,uid:0,lang:{},translations:{},mapTranslations:{}};AmCharts.Class=function(t){var e=function(){arguments[0]!==AmCharts.inheriting&&(this.events={},this.construct.apply(this,arguments))};t.inherits?(e.prototype=new t.inherits(AmCharts.inheriting),e.base=t.inherits.prototype,delete t.inherits):(e.prototype.createEvents=function(){for(var t=0,e=arguments.length;e>t;t++)this.events[arguments[t]]=[]},e.prototype.listenTo=function(t,e,i){this.removeListener(t,e,i),t.events[e].push({handler:i,scope:this})},e.prototype.addListener=function(t,e,i){this.removeListener(this,t,e),this.events[t].push({handler:e,scope:i})},e.prototype.removeListener=function(t,e,i){if(t&&t.events)for(t=t.events[e],e=t.length-1;e>=0;e--)t[e].handler===i&&t.splice(e,1)},e.prototype.fire=function(t,e){for(var i=this.events[t],s=0,a=i.length;a>s;s++){var r=i[s];r.handler.call(r.scope,e)}});for(var i in t)e.prototype[i]=t[i];return e},AmCharts.addChart=function(t){AmCharts.charts.push(t)},AmCharts.removeChart=function(t){for(var e=AmCharts.charts,i=e.length-1;i>=0;i--)e[i]==t&&e.splice(i,1)},AmCharts.isModern=!0,AmCharts.getIEVersion=function(){var t=0;if("Microsoft Internet Explorer"==navigator.appName){var e=navigator.userAgent,i=/MSIE ([0-9]{1,}[.0-9]{0,})/;null!=i.exec(e)&&(t=parseFloat(RegExp.$1))}else"Netscape"==navigator.appName&&(e=navigator.userAgent,i=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/,null!=i.exec(e)&&(t=parseFloat(RegExp.$1)));return t},AmCharts.applyLang=function(t){var e=AmCharts.translations;e&&(t=e[t])&&(AmCharts.lang=t,t.monthNames&&(AmCharts.dayNames=t.dayNames,AmCharts.shortDayNames=t.shortDayNames,AmCharts.monthNames=t.monthNames,AmCharts.shortMonthNames=t.shortMonthNames))},AmCharts.IEversion=AmCharts.getIEVersion(),9>AmCharts.IEversion&&0<AmCharts.IEversion&&(AmCharts.isModern=!1,AmCharts.isIE=!0),AmCharts.dx=0,AmCharts.dy=0,(document.addEventListener||window.opera)&&(AmCharts.isNN=!0,AmCharts.isIE=!1,AmCharts.dx=.5,AmCharts.dy=.5),document.attachEvent&&(AmCharts.isNN=!1,AmCharts.isIE=!0,AmCharts.isModern||(AmCharts.dx=0,AmCharts.dy=0)),window.chrome&&(AmCharts.chrome=!0),AmCharts.handleResize=function(){for(var t=AmCharts.charts,e=0;e<t.length;e++){var i=t[e];i&&i.div&&i.handleResize()}},AmCharts.handleMouseUp=function(t){for(var e=AmCharts.charts,i=0;i<e.length;i++){var s=e[i];s&&s.handleReleaseOutside(t)}},AmCharts.handleMouseMove=function(t){for(var e=AmCharts.charts,i=0;i<e.length;i++){var s=e[i];s&&s.handleMouseMove(t)}},AmCharts.resetMouseOver=function(){for(var t=AmCharts.charts,e=0;e<t.length;e++){var i=t[e];i&&(i.mouseIsOver=!1)}},AmCharts.ready=function(t){AmCharts.onReadyArray.push(t)},AmCharts.handleLoad=function(){AmCharts.isReady=!0;for(var t=AmCharts.onReadyArray,e=0;e<t.length;e++){var i=t[e];isNaN(AmCharts.processDelay)?i():setTimeout(i,AmCharts.processDelay*e)}},AmCharts.getUniqueId=function(){return AmCharts.uid++,"AmChartsEl-"+AmCharts.uid},AmCharts.isNN&&(document.addEventListener("mousemove",AmCharts.handleMouseMove,!0),window.addEventListener("resize",AmCharts.handleResize,!0),document.addEventListener("mouseup",AmCharts.handleMouseUp,!0),window.addEventListener("load",AmCharts.handleLoad,!0)),AmCharts.isIE&&(document.attachEvent("onmousemove",AmCharts.handleMouseMove),window.attachEvent("onresize",AmCharts.handleResize),document.attachEvent("onmouseup",AmCharts.handleMouseUp),window.attachEvent("onload",AmCharts.handleLoad)),AmCharts.clear=function(){var t=AmCharts.charts;if(t)for(var e=0;e<t.length;e++)t[e].clear();AmCharts.charts=null,AmCharts.isNN&&(document.removeEventListener("mousemove",AmCharts.handleMouseMove,!0),window.removeEventListener("resize",AmCharts.handleResize,!0),document.removeEventListener("mouseup",AmCharts.handleMouseUp,!0),window.removeEventListener("load",AmCharts.handleLoad,!0)),AmCharts.isIE&&(document.detachEvent("onmousemove",AmCharts.handleMouseMove),window.detachEvent("onresize",AmCharts.handleResize),document.detachEvent("onmouseup",AmCharts.handleMouseUp),window.detachEvent("onload",AmCharts.handleLoad))},AmCharts.makeChart=function(t,e,i){var s=e.type,a=e.theme;AmCharts.isString(a)&&(a=AmCharts.themes[a],e.theme=a);var r;switch(s){case"serial":r=new AmCharts.AmSerialChart(a);break;case"xy":r=new AmCharts.AmXYChart(a);break;case"pie":r=new AmCharts.AmPieChart(a);break;case"radar":r=new AmCharts.AmRadarChart(a);break;case"gauge":r=new AmCharts.AmAngularGauge(a);break;case"funnel":r=new AmCharts.AmFunnelChart(a);break;case"map":r=new AmCharts.AmMap(a);break;case"stock":r=new AmCharts.AmStockChart(a)}return AmCharts.extend(r,e),AmCharts.isReady?isNaN(i)?r.write(t):setTimeout(function(){AmCharts.realWrite(r,t)},i):AmCharts.ready(function(){isNaN(i)?r.write(t):setTimeout(function(){AmCharts.realWrite(r,t)},i)}),r},AmCharts.realWrite=function(t,e){t.write(e)},AmCharts.toBoolean=function(t,e){if(void 0===t)return e;switch(String(t).toLowerCase()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case null:return!1;default:return Boolean(t)}},AmCharts.removeFromArray=function(t,e){var i;for(i=t.length-1;i>=0;i--)t[i]==e&&t.splice(i,1)},AmCharts.getDecimals=function(t){var e=0;return isNaN(t)||(t=String(t),-1!=t.indexOf("e-")?e=Number(t.split("-")[1]):-1!=t.indexOf(".")&&(e=t.split(".")[1].length)),e},AmCharts.wrappedText=function(t,e,i,s,a,r,h,o,n){var l=AmCharts.text(t,e,i,s,a,r,h),d="\n";if(AmCharts.isModern||(d="<br>"),n>10)return l;if(l){var u=l.getBBox();if(u.width>o){l.remove();for(var l=[],c=0;-1<(index=e.indexOf(" ",c));)l.push(index),c=index+1;for(var m,p=Math.round(e.length/2),f=1e3,c=0;c<l.length;c++){var g=Math.abs(l[c]-p);f>g&&(m=l[c],f=g)}if(isNaN(m)){for(o=Math.ceil(u.width/o),c=1;o>c;c++)m=Math.round(e.length/o*c),e=e.substr(0,m)+d+e.substr(m);return AmCharts.text(t,e,i,s,a,r,h)}return e=e.substr(0,m)+d+e.substr(m+1),AmCharts.wrappedText(t,e,i,s,a,r,h,o,n+1)}return l}},AmCharts.getStyle=function(t,e){var i="";return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(t,"").getPropertyValue(e):t.currentStyle&&(e=e.replace(/\-(\w)/g,function(t,e){return e.toUpperCase()}),i=t.currentStyle[e]),i},AmCharts.removePx=function(t){return void 0!=t?Number(t.substring(0,t.length-2)):void 0},AmCharts.getURL=function(t,e){if(t)if("_self"!=e&&e)if("_top"==e&&window.top)window.top.location.href=t;else if("_parent"==e&&window.parent)window.parent.location.href=t;else{var i=document.getElementsByName(e)[0];i?i.src=t:window.open(t)}else window.location.href=t},AmCharts.ifArray=function(t){return t&&0<t.length?!0:!1},AmCharts.callMethod=function(t,e){var i;for(i=0;i<e.length;i++){var s=e[i];if(s){s[t]&&s[t]();var a=s.length;if(a>0){var r;for(r=0;a>r;r++){var h=s[r];h&&h[t]&&h[t]()}}}}},AmCharts.toNumber=function(t){return"number"==typeof t?t:Number(String(t).replace(/[^0-9\-.]+/g,""))},AmCharts.toColor=function(t){if(""!==t&&void 0!==t)if(-1!=t.indexOf(",")){t=t.split(",");var e;for(e=0;e<t.length;e++){var i=t[e].substring(t[e].length-6,t[e].length);t[e]="#"+i}}else t=t.substring(t.length-6,t.length),t="#"+t;return t},AmCharts.toCoordinate=function(t,e,i){var s;return void 0!==t&&(t=String(t),i&&e>i&&(e=i),s=Number(t),-1!=t.indexOf("!")&&(s=e-Number(t.substr(1))),-1!=t.indexOf("%")&&(s=e*Number(t.substr(0,t.length-1))/100)),s},AmCharts.fitToBounds=function(t,e,i){return e>t&&(t=e),t>i&&(t=i),t},AmCharts.isDefined=function(t){return void 0===t?!1:!0},AmCharts.stripNumbers=function(t){return t.replace(/[0-9]+/g,"")},AmCharts.roundTo=function(t,e){if(0>e)return t;var i=Math.pow(10,e);return Math.round(t*i)/i},AmCharts.toFixed=function(t,e){var i=String(Math.round(t*Math.pow(10,e)));if(e>0){var s=i.length;if(e>s){var a;for(a=0;e-s>a;a++)i="0"+i}return s=i.substring(0,i.length-e),""===s&&(s=0),s+"."+i.substring(i.length-e,i.length)}return String(i)},AmCharts.formatDuration=function(t,e,i,s,a,r){var h=AmCharts.intervals,o=r.decimalSeparator;if(t>=h[e].contains){var n=t-Math.floor(t/h[e].contains)*h[e].contains;return"ss"==e&&(n=AmCharts.formatNumber(n,r),1==n.split(o)[0].length&&(n="0"+n)),("mm"==e||"hh"==e)&&10>n&&(n="0"+n),i=n+""+s[e]+i,t=Math.floor(t/h[e].contains),e=h[e].nextInterval,AmCharts.formatDuration(t,e,i,s,a,r)}if("ss"==e&&(t=AmCharts.formatNumber(t,r),1==t.split(o)[0].length&&(t="0"+t)),("mm"==e||"hh"==e)&&10>t&&(t="0"+t),i=t+""+s[e]+i,h[a].count>h[e].count)for(t=h[e].count;t<h[a].count;t++)e=h[e].nextInterval,"ss"==e||"mm"==e||"hh"==e?i="00"+s[e]+i:"DD"==e&&(i="0"+s[e]+i);return":"==i.charAt(i.length-1)&&(i=i.substring(0,i.length-1)),i},AmCharts.formatNumber=function(t,e,i,s,a){t=AmCharts.roundTo(t,e.precision),isNaN(i)&&(i=e.precision);var r=e.decimalSeparator;e=e.thousandsSeparator;var h;h=0>t?"-":"",t=Math.abs(t);var o=String(t),n=!1;-1!=o.indexOf("e")&&(n=!0),i>=0&&!n&&(o=AmCharts.toFixed(t,i));var l="";if(n)l=o;else{var d,o=o.split("."),n=String(o[0]);for(d=n.length;d>=0;d-=3)l=d!=n.length?0!==d?n.substring(d-3,d)+e+l:n.substring(d-3,d)+l:n.substring(d-3,d);void 0!==o[1]&&(l=l+r+o[1]),void 0!==i&&i>0&&"0"!=l&&(l=AmCharts.addZeroes(l,r,i))}return l=h+l,""===h&&!0===s&&0!==t&&(l="+"+l),!0===a&&(l+="%"),l},AmCharts.addZeroes=function(t,e,i){return t=t.split(e),void 0===t[1]&&i>0&&(t[1]="0"),t[1].length<i?(t[1]+="0",AmCharts.addZeroes(t[0]+e+t[1],e,i)):void 0!==t[1]?t[0]+e+t[1]:t[0]},AmCharts.scientificToNormal=function(t){var e;t=String(t).split("e");var i;if("-"==t[1].substr(0,1)){for(e="0.",i=0;i<Math.abs(Number(t[1]))-1;i++)e+="0";e+=t[0].split(".").join("")}else{var s=0;for(e=t[0].split("."),e[1]&&(s=e[1].length),e=t[0].split(".").join(""),i=0;i<Math.abs(Number(t[1]))-s;i++)e+="0"}return e},AmCharts.toScientific=function(t,e){if(0===t)return"0";var i=Math.floor(Math.log(Math.abs(t))*Math.LOG10E);return Math.pow(10,i),mantissa=String(mantissa).split(".").join(e),String(mantissa)+"e"+i},AmCharts.randomColor=function(){return"#"+("00000"+(16777216*Math.random()<<0).toString(16)).substr(-6)},AmCharts.hitTest=function(t,e,i){var s=!1,a=t.x,r=t.x+t.width,h=t.y,o=t.y+t.height,n=AmCharts.isInRectangle;return s||(s=n(a,h,e)),s||(s=n(a,o,e)),s||(s=n(r,h,e)),s||(s=n(r,o,e)),s||!0===i||(s=AmCharts.hitTest(e,t,!0)),s},AmCharts.isInRectangle=function(t,e,i){return t>=i.x-5&&t<=i.x+i.width+5&&e>=i.y-5&&e<=i.y+i.height+5?!0:!1},AmCharts.isPercents=function(t){return-1!=String(t).indexOf("%")?!0:void 0},AmCharts.findPosX=function(t){var e=t,i=t.offsetLeft;if(t.offsetParent){for(;t=t.offsetParent;)i+=t.offsetLeft;for(;(e=e.parentNode)&&e!=document.body;)i-=e.scrollLeft||0}return i},AmCharts.findPosY=function(t){var e=t,i=t.offsetTop;if(t.offsetParent){for(;t=t.offsetParent;)i+=t.offsetTop;for(;(e=e.parentNode)&&e!=document.body;)i-=e.scrollTop||0}return i},AmCharts.findIfFixed=function(t){if(t.offsetParent)for(;t=t.offsetParent;)if("fixed"==AmCharts.getStyle(t,"position"))return!0;return!1},AmCharts.findIfAuto=function(t){return t.style&&"auto"==AmCharts.getStyle(t,"overflow")?!0:t.parentNode?AmCharts.findIfAuto(t.parentNode):!1},AmCharts.findScrollLeft=function(t,e){return t.scrollLeft&&(e+=t.scrollLeft),t.parentNode?AmCharts.findScrollLeft(t.parentNode,e):e},AmCharts.findScrollTop=function(t,e){return t.scrollTop&&(e+=t.scrollTop),t.parentNode?AmCharts.findScrollTop(t.parentNode,e):e},AmCharts.formatValue=function(t,e,i,s,a,r,h,o){if(e){void 0===a&&(a="");var n;for(n=0;n<i.length;n++){var l=i[n],d=e[l];void 0!==d&&(d=r?AmCharts.addPrefix(d,o,h,s):AmCharts.formatNumber(d,s),t=t.replace(new RegExp("\\[\\["+a+l+"\\]\\]","g"),d))}}return t},AmCharts.formatDataContextValue=function(t,e){if(t){var i,s=t.match(/\[\[.*?\]\]/g);for(i=0;i<s.length;i++){var a=s[i],a=a.substr(2,a.length-4);void 0!==e[a]&&(t=t.replace(new RegExp("\\[\\["+a+"\\]\\]","g"),e[a]))}}return t},AmCharts.massReplace=function(t,e){for(var i in e)if(e.hasOwnProperty(i)){var s=e[i];void 0===s&&(s=""),t=t.replace(i,s)}return t},AmCharts.cleanFromEmpty=function(t){return t.replace(/\[\[[^\]]*\]\]/g,"")},AmCharts.addPrefix=function(t,e,i,s,a){var r,h,o,n=AmCharts.formatNumber(t,s),l="";if(0===t)return"0";if(0>t&&(l="-"),t=Math.abs(t),t>1){for(r=e.length-1;r>-1;r--)if(t>=e[r].number&&(h=t/e[r].number,o=Number(s.precision),1>o&&(o=1),i=AmCharts.roundTo(h,o),o=AmCharts.formatNumber(i,{precision:-1,decimalSeparator:s.decimalSeparator,thousandsSeparator:s.thousandsSeparator}),!a||h==i)){n=l+""+o+e[r].prefix;break}}else for(r=0;r<i.length;r++)if(t<=i[r].number){h=t/i[r].number,o=Math.abs(Math.round(Math.log(h)*Math.LOG10E)),h=AmCharts.roundTo(h,o),n=l+""+h+i[r].prefix;break}return n},AmCharts.remove=function(t){t&&t.remove()},AmCharts.recommended=function(){var t="js";return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")||swfobject&&swfobject.hasFlashPlayerVersion("8")&&(t="flash"),t},AmCharts.getEffect=function(t){return">"==t&&(t="easeOutSine"),"<"==t&&(t="easeInSine"),"elastic"==t&&(t="easeOutElastic"),t},AmCharts.getObjById=function(t,e){var i,s;for(s=0;s<t.length;s++){var a=t[s];a.id==e&&(i=a)}return i},AmCharts.applyTheme=function(t,e,i){e||(e=AmCharts.theme),e&&e[i]&&AmCharts.extend(t,e[i])},AmCharts.isString=function(t){return"string"==typeof t?!0:!1},AmCharts.extend=function(t,e,i){for(var s in e)i?t.hasOwnProperty(s)||(t[s]=e[s]):t[s]=e[s];return t},AmCharts.copyProperties=function(t,e){for(var i in t)t.hasOwnProperty(i)&&"events"!=i&&void 0!==t[i]&&"function"!=typeof t[i]&&"cname"!=i&&(e[i]=t[i])},AmCharts.processObject=function(t,e,i){return!1==t instanceof e&&(t=AmCharts.extend(new e(i),t)),t},AmCharts.fixNewLines=function(t){var e=RegExp("\\n","g");return t&&(t=t.replace(e,"<br />")),t},AmCharts.fixBrakes=function(t){if(AmCharts.isModern){var e=RegExp("<br>","g");t&&(t=t.replace(e,"\n"))}else t=AmCharts.fixNewLines(t);return t},AmCharts.deleteObject=function(t,e){if(t&&((void 0===e||null===e)&&(e=20),0!==e))if("[object Array]"===Object.prototype.toString.call(t))for(var i=0;i<t.length;i++)AmCharts.deleteObject(t[i],e-1),t[i]=null;else if(t&&!t.tagName)try{for(i in t)t[i]&&("object"==typeof t[i]&&AmCharts.deleteObject(t[i],e-1),"function"!=typeof t[i]&&(t[i]=null))}catch(s){}},AmCharts.bounce=function(t,e,i,s,a){return(e/=a)<1/2.75?7.5625*s*e*e+i:2/2.75>e?s*(7.5625*(e-=1.5/2.75)*e+.75)+i:2.5/2.75>e?s*(7.5625*(e-=2.25/2.75)*e+.9375)+i:s*(7.5625*(e-=2.625/2.75)*e+.984375)+i},AmCharts.easeInSine=function(t,e,i,s,a){return-s*Math.cos(e/a*(Math.PI/2))+s+i},AmCharts.easeOutSine=function(t,e,i,s,a){return s*Math.sin(e/a*(Math.PI/2))+i},AmCharts.easeOutElastic=function(t,e,i,s,a){t=1.70158;var r=0,h=s;return 0===e?i:1==(e/=a)?i+s:(r||(r=.3*a),h<Math.abs(s)?(h=s,t=r/4):t=r/(2*Math.PI)*Math.asin(s/h),h*Math.pow(2,-10*e)*Math.sin(2*(e*a-t)*Math.PI/r)+s+i)},AmCharts.AxisBase=AmCharts.Class({construct:function(t){this.createEvents("clickItem","rollOverItem","rollOutItem"),this.viY=this.viX=this.y=this.x=this.dy=this.dx=0,this.axisThickness=1,this.axisColor="#000000",this.axisAlpha=1,this.gridCount=this.tickLength=5,this.gridAlpha=.15,this.gridThickness=1,this.gridColor="#000000",this.dashLength=0,this.labelFrequency=1,this.showLastLabel=this.showFirstLabel=!0,this.fillColor="#FFFFFF",this.fillAlpha=0,this.labelsEnabled=!0,this.labelRotation=0,this.autoGridCount=!0,this.valueRollOverColor="#CC0000",this.offset=0,this.guides=[],this.visible=!0,this.counter=0,this.guides=[],this.ignoreAxisWidth=this.inside=!1,this.minHorizontalGap=75,this.minVerticalGap=35,this.titleBold=!0,this.minorGridEnabled=!1,this.minorGridAlpha=.07,this.autoWrap=!1,this.titleAlign="middle",this.labelOffset=0,AmCharts.applyTheme(this,t,"AxisBase")},zoom:function(t,e){this.start=t,this.end=e,this.dataChanged=!0,this.draw()},fixAxisPosition:function(){var t=this.position;"H"==this.orientation?("left"==t&&(t="bottom"),"right"==t&&(t="top")):("bottom"==t&&(t="left"),"top"==t&&(t="right")),this.position=t},draw:function(){var t=this.chart;this.allLabels=[],this.counter=0,this.destroy(),this.fixAxisPosition(),this.labels=[];var e=t.container,i=e.set();t.gridSet.push(i),this.set=i,e=e.set(),t.axesLabelsSet.push(e),this.labelsSet=e,this.axisLine=new this.axisRenderer(this),this.autoGridCount?("V"==this.orientation?(t=this.height/this.minVerticalGap,3>t&&(t=3)):t=this.width/this.minHorizontalGap,this.gridCountR=Math.max(t,1)):this.gridCountR=this.gridCount,this.axisWidth=this.axisLine.axisWidth,this.addTitle()},setOrientation:function(t){this.orientation=t?"H":"V"},addTitle:function(){var t=this.title;if(t){var e=this.chart,i=this.titleColor;void 0===i&&(i=e.color);var s=this.titleFontSize;isNaN(s)&&(s=e.fontSize+1),this.titleLabel=AmCharts.text(e.container,t,i,e.fontFamily,s,this.titleAlign,this.titleBold)}},positionTitle:function(){var t=this.titleLabel;if(t){var e,i,s=this.labelsSet,a={};0<s.length()?a=s.getBBox():(a.x=0,a.y=0,a.width=this.viW,a.height=this.viH),s.push(t);var s=a.x,r=a.y;AmCharts.VML&&(this.rotate?s-=this.x:r-=this.y);var h=a.width,a=a.height,o=this.viW,n=this.viH,l=0,d=t.getBBox().height/2,u=this.inside,c=this.titleAlign;switch(this.position){case"top":e="left"==c?-1:"right"==c?o:o/2,i=r-10-d;break;case"bottom":e="left"==c?-1:"right"==c?o:o/2,i=r+a+10+d;break;case"left":e=s-10-d,u&&(e-=5),i="left"==c?n+1:"right"==c?-1:n/2,l=-90;break;case"right":e=s+h+10+d-3,u&&(e+=7),i="left"==c?n+2:"right"==c?-2:n/2,l=-90}this.marginsChanged?(t.translate(e,i),this.tx=e,this.ty=i):t.translate(this.tx,this.ty),this.marginsChanged=!1,0!==l&&t.rotate(l)}},pushAxisItem:function(t,e){var i=this,s=t.graphics();0<s.length()&&(e?i.labelsSet.push(s):i.set.push(s)),(s=t.getLabel())&&(this.labelsSet.push(s),s.click(function(e){i.handleMouse(e,t,"clickItem")}).mouseover(function(e){i.handleMouse(e,t,"rollOverItem")}).mouseout(function(e){i.handleMouse(e,t,"rollOutItem")}))},handleMouse:function(t,e,i){this.fire(i,{type:i,value:e.value,serialDataItem:e.serialDataItem,axis:this,target:e.label,chart:this.chart,event:t})},addGuide:function(t){for(var e=this.guides,i=!1,s=0;s<e.length;s++)e[s]==t&&(i=!0);i||e.push(t)},removeGuide:function(t){var e,i=this.guides;for(e=0;e<i.length;e++)i[e]==t&&i.splice(e,1)},handleGuideOver:function(t){clearTimeout(this.chart.hoverInt);var e=t.graphics.getBBox(),i=e.x+e.width/2,e=e.y+e.height/2,s=t.fillColor;void 0===s&&(s=t.lineColor),this.chart.showBalloon(t.balloonText,s,!0,i,e)},handleGuideOut:function(){this.chart.hideBalloon()},addEventListeners:function(t,e){var i=this;t.mouseover(function(){i.handleGuideOver(e)}),t.mouseout(function(){i.handleGuideOut(e)})},getBBox:function(){var t=this.labelsSet.getBBox();return AmCharts.VML||(t={x:t.x+this.x,y:t.y+this.y,width:t.width,height:t.height}),t},destroy:function(){AmCharts.remove(this.set),AmCharts.remove(this.labelsSet);var t=this.axisLine;t&&AmCharts.remove(t.set),AmCharts.remove(this.grid0)}}),AmCharts.ValueAxis=AmCharts.Class({inherits:AmCharts.AxisBase,construct:function(t){this.cname="ValueAxis",this.createEvents("axisChanged","logarithmicAxisFailed","axisSelfZoomed","axisZoomed"),AmCharts.ValueAxis.base.construct.call(this,t),this.dataChanged=!0,this.stackType="none",this.position="left",this.unitPosition="right",this.recalculateToPercents=this.includeHidden=this.includeGuidesInMinMax=this.integersOnly=!1,this.durationUnits={DD:"d. ",hh:":",mm:":",ss:""},this.scrollbar=!1,this.baseValue=0,this.radarCategoriesEnabled=!0,this.gridType="polygons",this.useScientificNotation=!1,this.axisTitleOffset=10,this.minMaxMultiplier=1,this.logGridLimit=2,AmCharts.applyTheme(this,t,this.cname)},updateData:function(){0>=this.gridCountR&&(this.gridCountR=1),this.totals=[],this.data=this.chart.chartData;var t=this.chart;"xy"!=t.type&&(this.stackGraphs("smoothedLine"),this.stackGraphs("line"),this.stackGraphs("column"),this.stackGraphs("step")),this.recalculateToPercents&&this.recalculate(),this.synchronizationMultiplier&&this.synchronizeWith?(AmCharts.isString(this.synchronizeWith)&&(this.synchronizeWith=t.getValueAxisById(this.synchronizeWith)),this.synchronizeWith&&(this.synchronizeWithAxis(this.synchronizeWith),this.foundGraphs=!0)):(this.foundGraphs=!1,this.getMinMax())},draw:function(){AmCharts.ValueAxis.base.draw.call(this);var t=this.chart,e=this.set;if("duration"==this.type&&(this.duration="ss"),!0===this.dataChanged&&(this.updateData(),this.dataChanged=!1),this.logarithmic&&(0>=this.getMin(0,this.data.length-1)||0>=this.minimum))this.fire("logarithmicAxisFailed",{type:"logarithmicAxisFailed",chart:t});else{this.grid0=null;var i,s,a=t.dx,r=t.dy,h=!1,o=this.logarithmic;if(isNaN(this.min)||isNaN(this.max)||!this.foundGraphs||1/0==this.min||-1/0==this.max)h=!0;else{var n,l=this.labelFrequency,d=this.showFirstLabel,u=this.showLastLabel,c=1,m=0,p=Math.round((this.max-this.min)/this.step)+1;!0===o?(n=Math.log(this.max)*Math.LOG10E-Math.log(this.minReal)*Math.LOG10E,this.stepWidth=this.axisWidth/n,n>this.logGridLimit&&(p=Math.ceil(Math.log(this.max)*Math.LOG10E)+1,m=Math.round(Math.log(this.minReal)*Math.LOG10E),p>this.gridCountR&&(c=Math.ceil(p/this.gridCountR)))):this.stepWidth=this.axisWidth/(this.max-this.min);var f=0;1>this.step&&-1<this.step&&(f=AmCharts.getDecimals(this.step)),this.integersOnly&&(f=0),f>this.maxDecCount&&(f=this.maxDecCount);var g=this.precision;isNaN(g)||(f=g),this.max=AmCharts.roundTo(this.max,this.maxDecCount),this.min=AmCharts.roundTo(this.min,this.maxDecCount);var v={};v.precision=f,v.decimalSeparator=t.nf.decimalSeparator,v.thousandsSeparator=t.nf.thousandsSeparator,this.numberFormatter=v;var C,A=this.guides,b=A.length;if(b>0){for(i=this.fillAlpha,s=this.fillAlpha=0;b>s;s++){var x=A[s],y=0/0,w=x.above;isNaN(x.toValue)||(y=this.getCoordinate(x.toValue),C=new this.axisItemRenderer(this,y,"",!0,0/0,0/0,x),this.pushAxisItem(C,w));var M=0/0;isNaN(x.value)||(M=this.getCoordinate(x.value),C=new this.axisItemRenderer(this,M,x.label,!0,0/0,(y-M)/2,x),this.pushAxisItem(C,w)),isNaN(y-M)||(C=new this.guideFillRenderer(this,M,y,x),this.pushAxisItem(C,w),C=C.graphics(),x.graphics=C,x.balloonText&&this.addEventListeners(C,x))}this.fillAlpha=i}for(A=!1,s=m;p>s;s+=c)b=AmCharts.roundTo(this.step*s+this.min,f),-1!=String(b).indexOf("e")&&(A=!0,String(b).split("e"));this.duration&&(this.maxInterval=AmCharts.getMaxInterval(this.max,this.duration));var S,f=this.step,b=this.minorGridAlpha;for(this.minorGridEnabled&&(S=this.getMinorGridStep(f,this.stepWidth*f)),s=m;p>s;s+=c)if(m=f*s+this.min,o&&this.max-this.min>5*this.min&&(m-=this.min),m=AmCharts.roundTo(m,this.maxDecCount+1),!(this.integersOnly&&Math.round(m)!=m||!isNaN(g)&&Number(AmCharts.toFixed(m,g))!=m)){if(!0===o&&(0===m&&(m=this.minReal),n>this.logGridLimit&&(m=Math.pow(10,s)),A=-1!=String(m).indexOf("e")?!0:!1),this.useScientificNotation&&(A=!0),this.usePrefixes&&(A=!1),A?(C=-1==String(m).indexOf("e")?m.toExponential(15):String(m),i=C.split("e"),C=Number(i[0]),i=Number(i[1]),C=AmCharts.roundTo(C,14),10==C&&(C=1,i+=1),C=C+"e"+i,0===m&&(C="0"),1==m&&(C="1")):(o&&(C=String(m).split("."),C[1]?(v.precision=C[1].length,0>s&&(v.precision=Math.abs(s))):v.precision=-1),C=this.usePrefixes?AmCharts.addPrefix(m,t.prefixesOfBigNumbers,t.prefixesOfSmallNumbers,v,!0):AmCharts.formatNumber(m,v,v.precision)),this.duration&&(C=AmCharts.formatDuration(m,this.duration,"",this.durationUnits,this.maxInterval,v)),this.recalculateToPercents?C+="%":(i=this.unit)&&(C="left"==this.unitPosition?i+C:C+i),Math.round(s/l)!=s/l&&(C=void 0),(0===s&&!d||s==p-1&&!u)&&(C=" "),i=this.getCoordinate(m),this.labelFunction&&(C=this.labelFunction(m,C,this).toString()),C=new this.axisItemRenderer(this,i,C,void 0,void 0,void 0,void 0,this.boldLabels),this.pushAxisItem(C),m==this.baseValue&&"radar"!=t.type){var N,D,w=this.viW,y=this.viH;C=this.viX,x=this.viY,"H"==this.orientation?i>=0&&w+1>=i&&(N=[i,i,i+a],D=[y,0,r]):i>=0&&y+1>=i&&(N=[0,w,w+a],D=[i,i,i+r]),N&&(i=AmCharts.fitToBounds(2*this.gridAlpha,0,1),i=AmCharts.line(t.container,N,D,this.gridColor,i,1,this.dashLength),i.translate(C,x),this.grid0=i,t.axesSet.push(i),i.toBack())}if(!isNaN(S)&&b>0&&p-1>s){for(C=this.gridAlpha,this.gridAlpha=this.minorGridAlpha,i=1;f/S>i;i++)x=this.getCoordinate(m+S*i),x=new this.axisItemRenderer(this,x,"",!1,0,0,!1,!1,0,!0),this.pushAxisItem(x);this.gridAlpha=C}}s=this.baseValue,this.min>this.baseValue&&this.max>this.baseValue&&(s=this.min),this.min<this.baseValue&&this.max<this.baseValue&&(s=this.max),o&&s<this.minReal&&(s=this.minReal),this.baseCoord=this.getCoordinate(s),s={type:"axisChanged",target:this,chart:t},s.min=o?this.minReal:this.min,s.max=this.max,this.fire("axisChanged",s),this.axisCreated=!0}o=this.axisLine.set,s=this.labelsSet,this.positionTitle(),"radar"!=t.type?(t=this.viX,a=this.viY,e.translate(t,a),s.translate(t,a)):o.toFront(),!this.visible||h?(e.hide(),o.hide(),s.hide()):(e.show(),o.show(),s.show()),this.axisY=this.y-this.viY,this.axisX=this.x-this.viX}},getMinorGridStep:function(t,e){var i=[5,4,2];60>e&&i.shift();for(var s=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),a=0;a<i.length;a++){var r=t/i[a],h=Math.floor(Math.log(Math.abs(r))*Math.LOG10E);if(!(0<Math.abs(s-h)))if(1>t){if(h=Math.pow(10,-h)*r,h==Math.round(h))return r}else if(r==Math.round(r))return r}},stackGraphs:function(t){var e=this.stackType;"stacked"==e&&(e="regular"),"line"==e&&(e="none"),"100% stacked"==e&&(e="100%"),this.stackType=e;var i,s,a,r,h,o=[],n=[],l=[],d=[],u=this.chart.graphs,c=this.baseValue,m=!1;if(("line"==t||"step"==t||"smoothedLine"==t)&&(m=!0),m&&("regular"==e||"100%"==e))for(h=0;h<u.length;h++)r=u[h],r.hidden||(a=r.type,r.chart==this.chart&&r.valueAxis==this&&t==a&&r.stackable&&(s&&(r.stackGraph=s),s=r));for(s=this.start;s<=this.end;s++){var p=0;for(h=0;h<u.length;h++)if(r=u[h],r.hidden)r.newStack&&(l[s]=0/0,n[s]=0/0);else if(a=r.type,r.chart==this.chart&&r.valueAxis==this&&t==a&&r.stackable&&(a=this.data[s].axes[this.id].graphs[r.id],i=a.values.value,!isNaN(i))){var f=AmCharts.getDecimals(i);f>p&&(p=f),isNaN(d[s])?d[s]=Math.abs(i):d[s]+=Math.abs(i),d[s]=AmCharts.roundTo(d[s],p),f=r.fillToGraph,m&&f&&(f=this.data[s].axes[this.id].graphs[f.id])&&(a.values.open=f.values.value),"regular"==e&&(m&&(isNaN(o[s])?(o[s]=i,a.values.close=i,a.values.open=this.baseValue):(a.values.close=isNaN(i)?o[s]:i+o[s],a.values.open=o[s],o[s]=a.values.close)),"column"!=t||isNaN(i)||(r.newStack&&(l[s]=0/0,n[s]=0/0),a.values.close=i,0>i?(a.values.close=i,isNaN(n[s])?a.values.open=c:(a.values.close+=n[s],a.values.open=n[s]),n[s]=a.values.close):(a.values.close=i,isNaN(l[s])?a.values.open=c:(a.values.close+=l[s],a.values.open=l[s]),l[s]=a.values.close)))}}for(s=this.start;s<=this.end;s++)for(h=0;h<u.length;h++)r=u[h],r.hidden?r.newStack&&(l[s]=0/0,n[s]=0/0):(a=r.type,r.chart==this.chart&&r.valueAxis==this&&t==a&&r.stackable&&(a=this.data[s].axes[this.id].graphs[r.id],i=a.values.value,isNaN(i)||(o=i/d[s]*100,a.values.percents=o,a.values.total=d[s],r.newStack&&(l[s]=0/0,n[s]=0/0),"100%"==e&&(isNaN(n[s])&&(n[s]=0),isNaN(l[s])&&(l[s]=0),0>o?(a.values.close=AmCharts.fitToBounds(o+n[s],-100,100),a.values.open=n[s],n[s]=a.values.close):(a.values.close=AmCharts.fitToBounds(o+l[s],-100,100),a.values.open=l[s],l[s]=a.values.close)))))},recalculate:function(){var t,e=this.chart,i=e.graphs;for(t=0;t<i.length;t++){var s=i[t];if(s.valueAxis==this){var a="value";("candlestick"==s.type||"ohlc"==s.type)&&(a="open");var r,h,o=this.end+2,o=AmCharts.fitToBounds(this.end+1,0,this.data.length-1),n=this.start;n>0&&n--;var l;if(h=this.start,s.compareFromStart&&(h=0),!isNaN(e.startTime)&&(l=e.categoryAxis)){minDuration=l.minDuration();var d=new Date(e.startTime+minDuration/2),u=AmCharts.resetDateToMin(new Date(e.startTime),l.minPeriod).getTime();AmCharts.resetDateToMin(new Date(d),l.minPeriod).getTime()>u&&h++}for((l=e.recalculateFromDate)&&(e.dataDateFormat&&(l=AmCharts.stringToDate(l,e.dataDateFormat)),h=e.getClosestIndex(e.chartData,"time",l.getTime(),!0,0,e.chartData.length),o=e.chartData.length-1),l=h;o>=l&&(h=this.data[l].axes[this.id].graphs[s.id],r=h.values[a],isNaN(r));l++);for(this.recBaseValue=r,a=n;o>=a;a++){h=this.data[a].axes[this.id].graphs[s.id],h.percents={};var c,n=h.values;for(c in n)h.percents[c]="percents"!=c?n[c]/r*100-100:n[c]}}}},getMinMax:function(){var t,e=!1,i=this.chart,s=i.graphs;for(t=0;t<s.length;t++){var a=s[t].type;("line"==a||"step"==a||"smoothedLine"==a)&&this.expandMinMax&&(e=!0)}if(e&&(0<this.start&&this.start--,this.end<this.data.length-1&&this.end++),"serial"==i.type&&(!0!==i.categoryAxis.parseDates||e||this.end<this.data.length-1&&this.end++),e=this.minMaxMultiplier,this.min=this.getMin(this.start,this.end),this.max=this.getMax(),e=(this.max-this.min)*(e-1),this.min-=e,this.max+=e,e=this.guides.length,this.includeGuidesInMinMax&&e>0)for(i=0;e>i;i++)s=this.guides[i],s.toValue<this.min&&(this.min=s.toValue),s.value<this.min&&(this.min=s.value),s.toValue>this.max&&(this.max=s.toValue),s.value>this.max&&(this.max=s.value);isNaN(this.minimum)||(this.min=this.minimum),isNaN(this.maximum)||(this.max=this.maximum),this.min>this.max&&(e=this.max,this.max=this.min,this.min=e),isNaN(this.minTemp)||(this.min=this.minTemp),isNaN(this.maxTemp)||(this.max=this.maxTemp),this.minReal=this.min,this.maxReal=this.max,0===this.min&&0===this.max&&(this.max=9),this.min>this.max&&(this.min=this.max-1),e=this.min,i=this.max,s=this.max-this.min,t=0===s?Math.pow(10,Math.floor(Math.log(Math.abs(this.max))*Math.LOG10E))/10:Math.pow(10,Math.floor(Math.log(Math.abs(s))*Math.LOG10E))/10,isNaN(this.maximum)&&isNaN(this.maxTemp)&&(this.max=Math.ceil(this.max/t)*t+t),isNaN(this.minimum)&&isNaN(this.minTemp)&&(this.min=Math.floor(this.min/t)*t-t),0>this.min&&e>=0&&(this.min=0),0<this.max&&0>=i&&(this.max=0),"100%"==this.stackType&&(this.min=0>this.min?-100:0,this.max=0>this.max?0:100),s=this.max-this.min,t=Math.pow(10,Math.floor(Math.log(Math.abs(s))*Math.LOG10E))/10,this.step=Math.ceil(s/this.gridCountR/t)*t,s=Math.pow(10,Math.floor(Math.log(Math.abs(this.step))*Math.LOG10E)),s=this.fixStepE(s),t=Math.ceil(this.step/s),t>5&&(t=10),5>=t&&t>2&&(t=5),this.step=Math.ceil(this.step/(s*t))*s*t,1>s?(this.maxDecCount=Math.abs(Math.log(Math.abs(s))*Math.LOG10E),this.maxDecCount=Math.round(this.maxDecCount),this.step=AmCharts.roundTo(this.step,this.maxDecCount+1)):this.maxDecCount=0,this.min=this.step*Math.floor(this.min/this.step),this.max=this.step*Math.ceil(this.max/this.step),0>this.min&&e>=0&&(this.min=0),0<this.max&&0>=i&&(this.max=0),1<this.minReal&&1<this.max-this.minReal&&(this.minReal=Math.floor(this.minReal)),s=Math.pow(10,Math.floor(Math.log(Math.abs(this.minReal))*Math.LOG10E)),0===this.min&&(this.minReal=s),0===this.min&&1<this.minReal&&(this.minReal=1),0<this.min&&0<this.minReal-this.step&&(this.minReal=this.min+this.step<this.minReal?this.min+this.step:this.min),s=Math.log(i)*Math.LOG10E-Math.log(e)*Math.LOG10E,this.logarithmic&&(s>2?(this.minReal=this.min=Math.pow(10,Math.floor(Math.log(Math.abs(e))*Math.LOG10E)),this.max=Math.pow(10,Math.ceil(Math.log(Math.abs(i))*Math.LOG10E))):(i=Math.pow(10,Math.floor(Math.log(Math.abs(this.min))*Math.LOG10E))/10,e=Math.pow(10,Math.floor(Math.log(Math.abs(e))*Math.LOG10E))/10,e>i&&(this.minReal=this.min=10*e)))},fixStepE:function(t){t=t.toExponential(0).split("e");var e=Number(t[1]);return 9==Number(t[0])&&e++,this.generateNumber(1,e)},generateNumber:function(t,e){var i,s="";i=0>e?Math.abs(e)-1:Math.abs(e);var a;for(a=0;i>a;a++)s+="0";return Number(0>e?"0."+s+String(t):String(t)+s)},getMin:function(t,e){var i,s;for(s=t;e>=s;s++){var a,r=this.data[s].axes[this.id].graphs;for(a in r)if(r.hasOwnProperty(a)){var h=this.chart.getGraphById(a);if(h.includeInMinMax&&(!h.hidden||this.includeHidden)){isNaN(i)&&(i=1/0),this.foundGraphs=!0,h=r[a].values,this.recalculateToPercents&&(h=r[a].percents);var o;if(this.minMaxField)o=h[this.minMaxField],i>o&&(i=o);else for(var n in h)h.hasOwnProperty(n)&&"percents"!=n&&"total"!=n&&(o=h[n],i>o&&(i=o))}}}return i},getMax:function(){var t,e;for(e=this.start;e<=this.end;e++){var i,s=this.data[e].axes[this.id].graphs;for(i in s)if(s.hasOwnProperty(i)){var a=this.chart.getGraphById(i);if(a.includeInMinMax&&(!a.hidden||this.includeHidden)){isNaN(t)&&(t=-1/0),this.foundGraphs=!0,a=s[i].values,this.recalculateToPercents&&(a=s[i].percents);var r;if(this.minMaxField)r=a[this.minMaxField],r>t&&(t=r);else for(var h in a)a.hasOwnProperty(h)&&"percents"!=h&&"total"!=h&&(r=a[h],r>t&&(t=r))}}}return t},dispatchZoomEvent:function(t,e){var i={type:"axisZoomed",startValue:t,endValue:e,target:this,chart:this.chart};this.fire(i.type,i)},zoomToValues:function(t,e){if(t>e){var i=e;e=t,t=i}t<this.min&&(t=this.min),e>this.max&&(e=this.max),i={type:"axisSelfZoomed"},i.chart=this.chart,i.valueAxis=this,i.multiplier=this.axisWidth/Math.abs(this.getCoordinate(e)-this.getCoordinate(t)),i.position=this.getCoordinate("V"==this.orientation?this.reversed?t:e:this.reversed?e:t),this.fire(i.type,i)},coordinateToValue:function(t){if(isNaN(t))return 0/0;
var e=this.axisWidth,i=this.stepWidth,s=this.reversed,a=this.rotate,r=this.min,h=this.minReal;return!0===this.logarithmic?Math.pow(10,(a?!0===s?(e-t)/i:t/i:!0===s?t/i:(e-t)/i)+Math.log(h)*Math.LOG10E):!0===s?a?r-(t-e)/i:t/i+r:a?t/i+r:r-(t-e)/i},getCoordinate:function(t){if(isNaN(t))return 0/0;var e=this.rotate,i=this.reversed,s=this.axisWidth,a=this.stepWidth,r=this.min,h=this.minReal;return!0===this.logarithmic?(t=Math.log(t)*Math.LOG10E-Math.log(h)*Math.LOG10E,e=e?!0===i?s-a*t:a*t:!0===i?a*t:s-a*t):e=!0===i?e?s-a*(t-r):a*(t-r):e?a*(t-r):s-a*(t-r),e=this.rotate?e+(this.x-this.viX):e+(this.y-this.viY),1e7<Math.abs(e)&&(e=1e7*(e/Math.abs(e))),Math.round(e)},synchronizeWithAxis:function(t){this.synchronizeWith=t,this.listenTo(this.synchronizeWith,"axisChanged",this.handleSynchronization)},handleSynchronization:function(t){var e=this.synchronizeWith;t=e.min;var i=e.max,e=e.step,s=this.synchronizationMultiplier;s&&(this.min=t*s,this.max=i*s,this.step=e*s,t=Math.pow(10,Math.floor(Math.log(Math.abs(this.step))*Math.LOG10E)),t=Math.abs(Math.log(Math.abs(t))*Math.LOG10E),this.maxDecCount=t=Math.round(t),this.draw())}}),AmCharts.RecAxis=AmCharts.Class({construct:function(t){var e=t.chart,i=t.axisThickness,s=t.axisColor,a=t.axisAlpha,r=t.offset,h=t.dx,o=t.dy,n=t.viX,l=t.viY,d=t.viH,u=t.viW,c=e.container;"H"==t.orientation?(s=AmCharts.line(c,[0,u],[0,0],s,a,i),this.axisWidth=t.width,"bottom"==t.position?(t=i/2+r+d+l-1,i=n):(t=-i/2-r+l+o,i=h+n)):(this.axisWidth=t.height,"right"==t.position?(s=AmCharts.line(c,[0,0,-h],[0,d,d-o],s,a,i),t=l+o,i=i/2+r+h+u+n-1):(s=AmCharts.line(c,[0,0],[0,d],s,a,i),t=l,i=-i/2-r+n)),s.translate(i,t),e.axesSet.push(s),this.set=s}}),AmCharts.RecItem=AmCharts.Class({construct:function(t,e,i,s,a,r,h,o,n,l,d){e=Math.round(e),this.value=i,void 0==i&&(i=""),n||(n=0),void 0==s&&(s=!0);var u=t.chart.fontFamily,c=t.fontSize;void 0==c&&(c=t.chart.fontSize);var m=t.color;void 0==m&&(m=t.chart.color),void 0!==d&&(m=d);var p=t.chart.container,f=p.set();this.set=f;var g=t.axisThickness,v=t.axisColor,C=t.axisAlpha,A=t.tickLength,b=t.gridAlpha,x=t.gridThickness,y=t.gridColor,w=t.dashLength,M=t.fillColor,S=t.fillAlpha,N=t.labelsEnabled;d=t.labelRotation;var D,B,L=t.counter,T=t.inside,k=t.labelOffset,O=t.dx,R=t.dy,I=t.orientation,F=t.position,G=t.previousCoord,z=t.viH,E=t.viW,P=t.offset;h?(N=!0,isNaN(h.tickLength)||(A=h.tickLength),void 0!=h.lineColor&&(y=h.lineColor),void 0!=h.color&&(m=h.color),isNaN(h.lineAlpha)||(b=h.lineAlpha),isNaN(h.dashLength)||(w=h.dashLength),isNaN(h.lineThickness)||(x=h.lineThickness),!0===h.inside&&(T=!0),isNaN(h.labelRotation)||(d=h.labelRotation),isNaN(h.fontSize)||(c=h.fontSize),h.position&&(F=h.position),void 0!==h.boldLabel&&(o=h.boldLabel),isNaN(h.labelOffset)||(k=h.labelOffset)):""===i&&(A=0),B="start",a&&(B="middle");var W,V=d*Math.PI/180,Y=0,H=0,X=0,j=W=0,U=0;"V"==I&&(d=0);var Z;N&&(Z=t.autoWrap&&0===d?AmCharts.wrappedText(p,i,m,u,c,B,o,a,0):AmCharts.text(p,i,m,u,c,B,o),B=Z.getBBox(),j=B.width,U=B.height),"H"==I?(e>=0&&E+1>=e&&(A>0&&C>0&&E+1>=e+n&&(D=AmCharts.line(p,[e+n,e+n],[0,A],v,C,x),f.push(D)),b>0&&(B=AmCharts.line(p,[e,e+O,e+O],[z,z+R,R],y,b,x,w),f.push(B))),H=0,Y=e,h&&90==d&&T&&(Y-=c),!1===s?(B="start",H="bottom"==F?T?H+A:H-A:T?H-A:H+A,Y+=3,a&&(Y+=a/2-3,B="middle"),d>0&&(B="middle")):B="middle",1==L&&S>0&&!h&&!l&&E>G&&(s=AmCharts.fitToBounds(e,0,E),G=AmCharts.fitToBounds(G,0,E),W=s-G,W>0&&(fill=AmCharts.rect(p,W,t.height,M,S),fill.translate(s-W+O,R),f.push(fill))),"bottom"==F?(H+=z+c/2+P,T?(d>0?(H=z-j/2*Math.sin(V)-A-3,Y+=j/2*Math.cos(V)-4+2):0>d?(H=z+j*Math.sin(V)-A-3+2,Y+=-j*Math.cos(V)-U*Math.sin(V)-4):H-=A+c+3+3,H-=k):(d>0?(H=z+j/2*Math.sin(V)+A+3,Y-=j/2*Math.cos(V)):0>d?(H=z+A+3-j/2*Math.sin(V)+2,Y+=j/2*Math.cos(V)):H+=A+g+3+3,H+=k)):(H+=R+c/2-P,Y+=O,T?(d>0?(H=j/2*Math.sin(V)+A+3,Y-=j/2*Math.cos(V)):H+=A+3,H+=k):(d>0?(H=-(j/2)*Math.sin(V)-A-6,Y+=j/2*Math.cos(V)):H-=A+c+3+g+3,H-=k)),"bottom"==F?W=(T?z-A-1:z+g-1)+P:(X=O,W=(T?R:R-A-g+1)-P),r&&(Y+=r),r=Y,d>0&&(r+=j/2*Math.cos(V)),Z&&(c=0,T&&(c=j/2*Math.cos(V)),r+c>E+2||0>r)&&(Z.remove(),Z=null)):(e>=0&&z+1>=e&&(A>0&&C>0&&z+1>=e+n&&(D=AmCharts.line(p,[0,A],[e+n,e+n],v,C,x),f.push(D)),b>0&&(B=AmCharts.line(p,[0,O,E+O],[e,e+R,e+R],y,b,x,w),f.push(B))),B="end",(!0===T&&"left"==F||!1===T&&"right"==F)&&(B="start"),H=e-c/2,1==L&&S>0&&!h&&!l&&(s=AmCharts.fitToBounds(e,0,z),G=AmCharts.fitToBounds(G,0,z),V=s-G,fill=AmCharts.polygon(p,[0,t.width,t.width,0],[0,0,V,V],M,S),fill.translate(O,s-V+R),f.push(fill)),H+=c/2,"right"==F?(Y+=O+E+P,H+=R,T?(r||(H-=c/2+3),Y=Y-(A+4)-k):(Y+=A+4+g,H-=2,Y+=k)):T?(Y+=A+4-P,r||(H-=c/2+3),h&&(Y+=O,H+=R),Y+=k):(Y+=-A-g-4-2-P,H-=2,Y-=k),D&&("right"==F?(X+=O+P+E,W+=R,X=T?X-g:X+g):(X-=P,T||(X-=A+g))),r&&(H+=r),T=-3,"right"==F&&(T+=R),Z&&(H>z+1||T>H)&&(Z.remove(),Z=null)),D&&D.translate(X,W),!1===t.visible&&(D&&D.remove(),Z&&(Z.remove(),Z=null)),Z&&(Z.attr({"text-anchor":B}),Z.translate(Y,H),0!==d&&Z.rotate(-d,t.chart.backgroundColor),t.allLabels.push(Z)," "!=i&&(this.label=Z)),l||(t.counter=0===L?1:0,t.previousCoord=e),0===this.set.node.childNodes.length&&this.set.remove()},graphics:function(){return this.set},getLabel:function(){return this.label}}),AmCharts.RecFill=AmCharts.Class({construct:function(t,e,i,s){var a=t.dx,r=t.dy,h=t.orientation,o=0;if(e>i){var n=e;e=i,i=n}var l=s.fillAlpha;isNaN(l)&&(l=0),n=t.chart.container,s=s.fillColor,"V"==h?(e=AmCharts.fitToBounds(e,0,t.viH),i=AmCharts.fitToBounds(i,0,t.viH)):(e=AmCharts.fitToBounds(e,0,t.viW),i=AmCharts.fitToBounds(i,0,t.viW)),i-=e,isNaN(i)&&(i=4,o=2,l=0),0>i&&"object"==typeof s&&(s=s.join(",").split(",").reverse()),"V"==h?(t=AmCharts.rect(n,t.width,i,s,l),t.translate(a,e-o+r)):(t=AmCharts.rect(n,i,t.height,s,l),t.translate(e-o+a,r)),this.set=n.set([t])},graphics:function(){return this.set},getLabel:function(){}}),AmCharts.AmChart=AmCharts.Class({construct:function(t){this.theme=t,this.version="3.10.0C",AmCharts.addChart(this),this.createEvents("dataUpdated","init","rendered","drawn"),this.height=this.width="100%",this.dataChanged=!0,this.chartCreated=!1,this.previousWidth=this.previousHeight=0,this.backgroundColor="#FFFFFF",this.borderAlpha=this.backgroundAlpha=0,this.color=this.borderColor="#000000",this.fontFamily="Verdana",this.fontSize=11,this.usePrefixes=!1,this.precision=-1,this.percentPrecision=2,this.decimalSeparator=".",this.thousandsSeparator=",",this.labels=[],this.allLabels=[],this.titles=[],this.marginRight=this.marginLeft=this.autoMarginOffset=0,this.timeOuts=[],this.creditsPosition="top-left";var e=document.createElement("div"),i=e.style;i.overflow="hidden",i.position="relative",i.textAlign="left",this.chartDiv=e,e=document.createElement("div"),i=e.style,i.overflow="hidden",i.position="relative",i.textAlign="left",this.legendDiv=e,this.titleHeight=0,this.hideBalloonTime=150,this.handDrawScatter=2,this.handDrawThickness=1,this.prefixesOfBigNumbers=[{number:1e3,prefix:"k"},{number:1e6,prefix:"M"},{number:1e9,prefix:"G"},{number:1e12,prefix:"T"},{number:1e15,prefix:"P"},{number:1e18,prefix:"E"},{number:1e21,prefix:"Z"},{number:1e24,prefix:"Y"}],this.prefixesOfSmallNumbers=[{number:1e-24,prefix:"y"},{number:1e-21,prefix:"z"},{number:1e-18,prefix:"a"},{number:1e-15,prefix:"f"},{number:1e-12,prefix:"p"},{number:1e-9,prefix:"n"},{number:1e-6,prefix:"\u03bc"},{number:.001,prefix:"m"}],this.panEventsEnabled=!0,AmCharts.bezierX=3,AmCharts.bezierY=6,this.product="amcharts",this.animations=[],this.balloon=new AmCharts.AmBalloon(this.theme),this.balloon.chart=this,AmCharts.applyTheme(this,t,"AmChart")},drawChart:function(){this.drawBackground(),this.redrawLabels(),this.drawTitles(),this.brr()},drawBackground:function(){AmCharts.remove(this.background);var t=this.container,e=this.backgroundColor,i=this.backgroundAlpha,s=this.set;AmCharts.isModern||0!==i||(i=.001);var a=this.updateWidth();this.realWidth=a;var r=this.updateHeight();this.realHeight=r,this.background=e=AmCharts.polygon(t,[0,a-1,a-1,0],[0,0,r-1,r-1],e,i,1,this.borderColor,this.borderAlpha),s.push(e),(e=this.backgroundImage)&&(this.path&&(e=this.path+e),this.bgImg=t=t.image(e,0,0,a,r),s.push(t))},drawTitles:function(){var t=this.titles;if(AmCharts.ifArray(t)){var e,i=20;for(e=0;e<t.length;e++){var s=t[e],a=s.color;void 0===a&&(a=this.color);var r=s.size;isNaN(r)&&(r=this.fontSize+2),isNaN(s.alpha);var h=this.marginLeft,a=AmCharts.text(this.container,s.text,a,this.fontFamily,r);a.translate(h+(this.realWidth-this.marginRight-h)/2,i),h=!0,void 0!==s.bold&&(h=s.bold),h&&a.attr({"font-weight":"bold"}),a.attr({opacity:s.alpha}),i+=r+6,this.freeLabelsSet.push(a)}}},write:function(t){if(t="object"!=typeof t?document.getElementById(t):t){t.innerHTML="",this.div=t,t.style.overflow="hidden",t.style.textAlign="left";var e=this.chartDiv,i=this.legendDiv,s=this.legend,a=i.style,r=e.style;this.measure();var h,o=document.createElement("div");h=o.style,h.position="relative",this.containerDiv=o,t.appendChild(o);var n=this.exportConfig;if(n&&AmCharts.AmExport&&!this.AmExport&&(this.AmExport=new AmCharts.AmExport(this,n)),this.amExport&&AmCharts.AmExport&&(this.AmExport=AmCharts.extend(this.amExport,new AmCharts.AmExport(this),!0)),this.AmExport&&this.AmExport.init&&this.AmExport.init(),s)switch(s=this.addLegend(s,s.divId),s.position){case"bottom":o.appendChild(e),o.appendChild(i);break;case"top":o.appendChild(i),o.appendChild(e);break;case"absolute":h.width=t.style.width,h.height=t.style.height,a.position="absolute",r.position="absolute",void 0!==s.left&&(a.left=s.left+"px"),void 0!==s.right&&(a.right=s.right+"px"),void 0!==s.top&&(a.top=s.top+"px"),void 0!==s.bottom&&(a.bottom=s.bottom+"px"),s.marginLeft=0,s.marginRight=0,o.appendChild(e),o.appendChild(i);break;case"right":h.width=t.style.width,h.height=t.style.height,a.position="relative",r.position="absolute",o.appendChild(e),o.appendChild(i);break;case"left":h.width=t.style.width,h.height=t.style.height,a.position="absolute",r.position="relative",o.appendChild(e),o.appendChild(i);break;case"outside":o.appendChild(e)}else o.appendChild(e);this.listenersAdded||(this.addListeners(),this.listenersAdded=!0),this.initChart()}},createLabelsSet:function(){AmCharts.remove(this.labelsSet),this.labelsSet=this.container.set(),this.freeLabelsSet.push(this.labelsSet)},initChart:function(){AmCharts.applyLang(this.language);var t=this.numberFormatter;t&&(isNaN(t.precision)||(this.precision=t.precision),void 0!==t.thousandsSeparator&&(this.thousandsSeparator=t.thousandsSeparator),void 0!==t.decimalSeparator&&(this.decimalSeparator=t.decimalSeparator)),(t=this.percentFormatter)&&!isNaN(t.precision)&&(this.percentPrecision=t.precision),this.nf={precision:this.precision,thousandsSeparator:this.thousandsSeparator,decimalSeparator:this.decimalSeparator},this.pf={precision:this.percentPrecision,thousandsSeparator:this.thousandsSeparator,decimalSeparator:this.decimalSeparator},this.divIsFixed=AmCharts.findIfFixed(this.chartDiv),this.previousHeight=this.divRealHeight,this.previousWidth=this.divRealWidth,this.destroy(),this.startInterval(),t=0,document.attachEvent&&!window.opera&&(t=1),this.dmouseX=this.dmouseY=0;var e=document.getElementsByTagName("html")[0];e&&window.getComputedStyle&&(e=window.getComputedStyle(e,null))&&(this.dmouseY=AmCharts.removePx(e.getPropertyValue("margin-top")),this.dmouseX=AmCharts.removePx(e.getPropertyValue("margin-left"))),this.mouseMode=t,(t=this.container)?(t.container.innerHTML="",this.chartDiv.appendChild(t.container),t.setSize(this.realWidth,this.realHeight)):t=new AmCharts.AmDraw(this.chartDiv,this.realWidth,this.realHeight,this),(AmCharts.VML||AmCharts.SVG)&&(t.handDrawn=this.handDrawn,t.handDrawScatter=this.handDrawScatter,t.handDrawThickness=this.handDrawThickness,this.container=t,this.set&&this.set.remove(),this.set=t.set(),this.gridSet&&this.gridSet.remove(),this.gridSet=t.set(),this.cursorLineSet&&this.cursorLineSet.remove(),this.cursorLineSet=t.set(),this.graphsBehindSet&&this.graphsBehindSet.remove(),this.graphsBehindSet=t.set(),this.bulletBehindSet&&this.bulletBehindSet.remove(),this.bulletBehindSet=t.set(),this.columnSet&&this.columnSet.remove(),this.columnSet=t.set(),this.graphsSet&&this.graphsSet.remove(),this.graphsSet=t.set(),this.trendLinesSet&&this.trendLinesSet.remove(),this.trendLinesSet=t.set(),this.axesLabelsSet&&this.axesLabelsSet.remove(),this.axesLabelsSet=t.set(),this.axesSet&&this.axesSet.remove(),this.axesSet=t.set(),this.cursorSet&&this.cursorSet.remove(),this.cursorSet=t.set(),this.scrollbarsSet&&this.scrollbarsSet.remove(),this.scrollbarsSet=t.set(),this.bulletSet&&this.bulletSet.remove(),this.bulletSet=t.set(),this.freeLabelsSet&&this.freeLabelsSet.remove(),this.freeLabelsSet=t.set(),this.balloonsSet&&this.balloonsSet.remove(),this.balloonsSet=t.set(),this.zoomButtonSet&&this.zoomButtonSet.remove(),this.zoomButtonSet=t.set(),this.linkSet&&this.linkSet.remove(),this.linkSet=t.set(),this.renderFix())},measure:function(){var t=this.div;if(t){var e=this.chartDiv,i=t.offsetWidth,s=t.offsetHeight,a=this.container;t.clientHeight&&(i=t.clientWidth,s=t.clientHeight);var r=AmCharts.removePx(AmCharts.getStyle(t,"padding-left")),h=AmCharts.removePx(AmCharts.getStyle(t,"padding-right")),o=AmCharts.removePx(AmCharts.getStyle(t,"padding-top")),n=AmCharts.removePx(AmCharts.getStyle(t,"padding-bottom"));isNaN(r)||(i-=r),isNaN(h)||(i-=h),isNaN(o)||(s-=o),isNaN(n)||(s-=n),r=t.style,t=r.width,r=r.height,-1!=t.indexOf("px")&&(i=AmCharts.removePx(t)),-1!=r.indexOf("px")&&(s=AmCharts.removePx(r)),t=AmCharts.toCoordinate(this.width,i),r=AmCharts.toCoordinate(this.height,s),this.balloon=AmCharts.processObject(this.balloon,AmCharts.AmBalloon,this.theme),this.balloon.chart=this,(t!=this.previousWidth||r!=this.previousHeight)&&t>0&&r>0&&(e.style.width=t+"px",e.style.height=r+"px",a&&a.setSize(t,r)),this.balloon.setBounds(2,2,t-2,r),this.realWidth=t,this.realHeight=r,this.divRealWidth=i,this.divRealHeight=s}},destroy:function(){this.chartDiv.innerHTML="",this.clearTimeOuts(),this.interval&&clearInterval(this.interval),this.interval=0/0},clearTimeOuts:function(){var t=this.timeOuts;if(t){var e;for(e=0;e<t.length;e++)clearTimeout(t[e])}this.timeOuts=[]},clear:function(t){AmCharts.callMethod("clear",[this.chartScrollbar,this.scrollbarV,this.scrollbarH,this.chartCursor]),this.chartCursor=this.scrollbarH=this.scrollbarV=this.chartScrollbar=null,this.clearTimeOuts(),this.interval&&clearInterval(this.interval),this.container&&(this.container.remove(this.chartDiv),this.container.remove(this.legendDiv)),t||AmCharts.removeChart(this)},setMouseCursor:function(t){"auto"==t&&AmCharts.isNN&&(t="default"),this.chartDiv.style.cursor=t,this.legendDiv.style.cursor=t},redrawLabels:function(){this.labels=[];var t=this.allLabels;this.createLabelsSet();var e;for(e=0;e<t.length;e++)this.drawLabel(t[e])},drawLabel:function(t){if(this.container){var e=t.y,i=t.text,s=t.align,a=t.size,r=t.color,h=t.rotation,o=t.alpha,n=t.bold,l=AmCharts.toCoordinate(t.x,this.realWidth),e=AmCharts.toCoordinate(e,this.realHeight);l||(l=0),e||(e=0),void 0===r&&(r=this.color),isNaN(a)&&(a=this.fontSize),s||(s="start"),"left"==s&&(s="start"),"right"==s&&(s="end"),"center"==s&&(s="middle",h?e=this.realHeight-e+e/2:l=this.realWidth/2-l),void 0===o&&(o=1),void 0===h&&(h=0),e+=a/2,i=AmCharts.text(this.container,i,r,this.fontFamily,a,s,n,o),i.translate(l,e),0!==h&&i.rotate(h),t.url&&(i.setAttr("cursor","pointer"),i.click(function(){AmCharts.getURL(t.url)})),this.labelsSet.push(i),this.labels.push(i)}},addLabel:function(t,e,i,s,a,r,h,o,n,l){t={x:t,y:e,text:i,align:s,size:a,color:r,alpha:o,rotation:h,bold:n,url:l},this.container&&this.drawLabel(t),this.allLabels.push(t)},clearLabels:function(){var t,e=this.labels;for(t=e.length-1;t>=0;t--)e[t].remove();this.labels=[],this.allLabels=[]},updateHeight:function(){var t=this.divRealHeight,e=this.legend;if(e){var i=this.legendDiv.offsetHeight,e=e.position;("top"==e||"bottom"==e)&&(t-=i,(0>t||isNaN(t))&&(t=0),this.chartDiv.style.height=t+"px")}return t},updateWidth:function(){var t=this.divRealWidth,e=this.divRealHeight,i=this.legend;if(i){var s=this.legendDiv,a=s.offsetWidth;isNaN(i.width)||(a=i.width);var r=s.offsetHeight,s=s.style,h=this.chartDiv.style,i=i.position;("right"==i||"left"==i)&&(t-=a,(0>t||isNaN(t))&&(t=0),h.width=t+"px","left"==i?h.left=a+"px":s.left=t+"px",s.top=(e-r)/2+"px")}return t},getTitleHeight:function(){var t=0,e=this.titles;if(0<e.length){var i,t=15;for(i=0;i<e.length;i++){var s=e[i].size;isNaN(s)&&(s=this.fontSize+2),t+=s+6}}return t},addTitle:function(t,e,i,s,a){return isNaN(e)&&(e=this.fontSize+2),t={text:t,size:e,color:i,alpha:s,bold:a},this.titles.push(t),t},addMouseWheel:function(){var t=this;window.addEventListener&&!t.wheelAdded&&(window.addEventListener("DOMMouseScroll",function(e){t.handleWheel.call(t,e)},!1),document.addEventListener("mousewheel",function(e){t.handleWheel.call(t,e)},!1),t.wheelAdded=!0)},handleWheel:function(t){if(this.mouseIsOver){var e=0;t||(t=window.event),t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),e&&this.handleWheelReal(e,t.shiftKey),t.preventDefault&&t.preventDefault()}},handleWheelReal:function(){},addListeners:function(){var t=this,e=t.chartDiv;document.addEventListener?(t.panEventsEnabled&&"ontouchstart"in document.documentElement&&(e.addEventListener("touchstart",function(e){t.handleTouchMove.call(t,e),t.handleTouchStart.call(t,e)},!0),e.addEventListener("touchmove",function(e){t.handleTouchMove.call(t,e)},!0),e.addEventListener("touchend",function(e){t.handleTouchEnd.call(t,e)},!0)),e.addEventListener("mousedown",function(e){t.handleMouseDown.call(t,e)},!0),e.addEventListener("mouseover",function(e){t.handleMouseOver.call(t,e)},!0),e.addEventListener("mouseout",function(e){t.handleMouseOut.call(t,e)},!0)):(e.attachEvent("onmousedown",function(e){t.handleMouseDown.call(t,e)}),e.attachEvent("onmouseover",function(e){t.handleMouseOver.call(t,e)}),e.attachEvent("onmouseout",function(e){t.handleMouseOut.call(t,e)}))},dispDUpd:function(){var t;this.dispatchDataUpdated&&(this.dispatchDataUpdated=!1,t="dataUpdated",this.fire(t,{type:t,chart:this})),this.chartCreated||(t="init",this.fire(t,{type:t,chart:this})),this.chartRendered||(t="rendered",this.fire(t,{type:t,chart:this}),this.chartRendered=!0),t="drawn",this.fire(t,{type:t,chart:this})},validateSize:function(){var t=this;t.measure();var e=t.legend;if((t.realWidth!=t.previousWidth||t.realHeight!=t.previousHeight)&&0<t.realWidth&&0<t.realHeight){if(t.sizeChanged=!0,e){clearTimeout(t.legendInitTO);var i=setTimeout(function(){e.invalidateSize()},100);t.timeOuts.push(i),t.legendInitTO=i}t.marginsUpdated="xy"!=t.type?!1:!0,clearTimeout(t.initTO),i=setTimeout(function(){t.initChart()},150),t.timeOuts.push(i),t.initTO=i}t.renderFix(),e&&e.renderFix()},invalidateSize:function(){this.previousHeight=this.previousWidth=0/0,this.invalidateSizeReal()},invalidateSizeReal:function(){var t=this;t.marginsUpdated=!1,clearTimeout(t.validateTO);var e=setTimeout(function(){t.validateSize()},5);t.timeOuts.push(e),t.validateTO=e},validateData:function(t){this.chartCreated&&(this.dataChanged=!0,this.marginsUpdated="xy"!=this.type?!1:!0,this.initChart(t))},validateNow:function(){this.chartRendered=this.listenersAdded=!1,this.write(this.div)},showItem:function(t){t.hidden=!1,this.initChart()},hideItem:function(t){t.hidden=!0,this.initChart()},hideBalloon:function(){var t=this;clearInterval(t.hoverInt),clearTimeout(t.balloonTO),t.hoverInt=setTimeout(function(){t.hideBalloonReal.call(t)},t.hideBalloonTime)},cleanChart:function(){},hideBalloonReal:function(){var t=this.balloon;t&&t.hide()},showBalloon:function(t,e,i,s,a){var r=this;clearTimeout(r.balloonTO),clearInterval(r.hoverInt),r.balloonTO=setTimeout(function(){r.showBalloonReal.call(r,t,e,i,s,a)},1)},showBalloonReal:function(t,e,i,s,a){this.handleMouseMove();var r=this.balloon;r.enabled&&(r.followCursor(!1),r.changeColor(e),!i||r.fixedPosition?(r.setPosition(s,a),r.followCursor(!1)):r.followCursor(!0),t&&r.showBalloon(t))},handleTouchMove:function(t){this.hideBalloon();var e=this.chartDiv;t.touches&&(t=t.touches.item(0),this.mouseX=t.pageX-AmCharts.findPosX(e),this.mouseY=t.pageY-AmCharts.findPosY(e))},handleMouseOver:function(){AmCharts.resetMouseOver(),this.mouseIsOver=!0},handleMouseOut:function(){AmCharts.resetMouseOver(),this.mouseIsOver=!1},handleMouseMove:function(t){if(this.mouseIsOver){var e=this.chartDiv;t||(t=window.event);var i,s;if(t){switch(this.posX=AmCharts.findPosX(e),this.posY=AmCharts.findPosY(e),this.mouseMode){case 1:if(i=t.clientX-this.posX,s=t.clientY-this.posY,!this.divIsFixed){var a,r,e=document.body;e&&(a=e.scrollLeft,y1=e.scrollTop),(e=document.documentElement)&&(r=e.scrollLeft,y2=e.scrollTop),a=Math.max(a,r),r=Math.max(y1,y2),i+=a,s+=r}break;case 0:this.divIsFixed?(i=t.clientX-this.posX,s=t.clientY-this.posY):(i=t.pageX-this.posX,s=t.pageY-this.posY)}t.touches&&(t=t.touches.item(0),i=t.pageX-this.posX,s=t.pageY-this.posY),this.mouseX=i-this.dmouseX,this.mouseY=s-this.dmouseY}}},handleTouchStart:function(t){this.handleMouseDown(t)},handleTouchEnd:function(t){AmCharts.resetMouseOver(),this.handleReleaseOutside(t)},handleReleaseOutside:function(){},handleMouseDown:function(t){AmCharts.resetMouseOver(),this.mouseIsOver=!0,t&&t.preventDefault&&t.preventDefault()},addLegend:function(t,e){t=AmCharts.processObject(t,AmCharts.AmLegend,this.theme),t.divId=e;var i;return i="object"!=typeof e&&e?document.getElementById(e):e,this.legend=t,t.chart=this,i?(t.div=i,t.position="outside",t.autoMargins=!1):t.div=this.legendDiv,i=this.handleLegendEvent,this.listenTo(t,"showItem",i),this.listenTo(t,"hideItem",i),this.listenTo(t,"clickMarker",i),this.listenTo(t,"rollOverItem",i),this.listenTo(t,"rollOutItem",i),this.listenTo(t,"rollOverMarker",i),this.listenTo(t,"rollOutMarker",i),this.listenTo(t,"clickLabel",i),t},removeLegend:function(){this.legend=void 0,this.legendDiv.innerHTML=""},handleResize:function(){(AmCharts.isPercents(this.width)||AmCharts.isPercents(this.height))&&this.invalidateSizeReal(),this.renderFix()},renderFix:function(){if(!AmCharts.VML){var t=this.container;t&&t.renderFix()}},getSVG:function(){return AmCharts.hasSVG?this.container:void 0},animate:function(t,e,i,s,a,r,h){return t["an_"+e]&&AmCharts.removeFromArray(this.animations,t["an_"+e]),i={obj:t,frame:0,attribute:e,from:i,to:s,time:a,effect:r,suffix:h},t["an_"+e]=i,this.animations.push(i),i},setLegendData:function(t){var e=this.legend;e&&e.setData(t)},startInterval:function(){var t=this;clearInterval(t.interval),t.interval=setInterval(function(){t.updateAnimations.call(t)},AmCharts.updateRate)},stopAnim:function(t){AmCharts.removeFromArray(this.animations,t)},updateAnimations:function(){var t;for(this.container&&this.container.update(),t=this.animations.length-1;t>=0;t--){var e=this.animations[t],i=1e3*e.time/AmCharts.updateRate,s=e.frame+1,a=e.obj,r=e.attribute;if(i>=s){e.frame++;var h=Number(e.from),o=Number(e.to)-h,i=AmCharts[e.effect](0,s,h,o,i);0===o?(this.animations.splice(t,1),a.node.style[r]=Number(e.to)+e.suffix):a.node.style[r]=i+e.suffix}else a.node.style[r]=Number(e.to)+e.suffix,this.animations.splice(t,1)}},inIframe:function(){try{return window.self!==window.top}catch(t){return!0}},brr:function(){}}),AmCharts.Slice=AmCharts.Class({construct:function(){}}),AmCharts.SerialDataItem=AmCharts.Class({construct:function(){}}),AmCharts.GraphDataItem=AmCharts.Class({construct:function(){}}),AmCharts.Guide=AmCharts.Class({construct:function(t){this.cname="Guide",AmCharts.applyTheme(this,t,this.cname)}}),AmCharts.AmGraph=AmCharts.Class({construct:function(t){this.cname="AmGraph",this.createEvents("rollOverGraphItem","rollOutGraphItem","clickGraphItem","doubleClickGraphItem","rightClickGraphItem","clickGraph","rollOverGraph","rollOutGraph"),this.type="line",this.stackable=!0,this.columnCount=1,this.columnIndex=0,this.centerCustomBullets=this.showBalloon=!0,this.maxBulletSize=50,this.minBulletSize=4,this.balloonText="[[value]]",this.hidden=this.scrollbar=this.animationPlayed=!1,this.pointPosition="middle",this.depthCount=1,this.includeInMinMax=!0,this.negativeBase=0,this.visibleInLegend=!0,this.showAllValueLabels=!1,this.showBulletsAt=this.showBalloonAt="close",this.lineThickness=1,this.dashLength=0,this.connect=!0,this.lineAlpha=1,this.bullet="none",this.bulletBorderThickness=2,this.bulletBorderAlpha=0,this.bulletAlpha=1,this.bulletSize=8,this.hideBulletsCount=this.bulletOffset=0,this.labelPosition="top",this.cornerRadiusTop=0,this.cursorBulletAlpha=1,this.gradientOrientation="vertical",this.dy=this.dx=0,this.periodValue="",this.clustered=!0,this.periodSpan=1,this.y=this.x=0,this.switchable=!0,this.tcc=this.minDistance=1,AmCharts.applyTheme(this,t,this.cname)},draw:function(){var t=this.chart;isNaN(this.precision)||(this.numberFormatter?this.numberFormatter.precision=this.precision:this.numberFormatter={precision:this.precision,decimalSeparator:t.decimalSeparator,thousandsSeparator:t.thousandsSeparator});var e=t.container;this.container=e,this.destroy();var i=e.set(),s=e.set();this.behindColumns?(t.graphsBehindSet.push(i),t.bulletBehindSet.push(s)):(t.graphsSet.push(i),t.bulletSet.push(s));var a=this.bulletAxis;AmCharts.isString(a)&&(this.bulletAxis=t.getValueAxisById(a)),this.bulletSet=s,this.scrollbar||(a=t.marginLeftReal,t=t.marginTopReal,i.translate(a,t),s.translate(a,t)),e=e.set(),AmCharts.remove(this.columnsSet),i.push(e),this.set=i,this.columnsSet=e,this.columnsArray=[],this.ownColumns=[],this.allBullets=[],this.animationArray=[],AmCharts.ifArray(this.data)&&(i=!1,"xy"==this.chart.type?this.xAxis.axisCreated&&this.yAxis.axisCreated&&(i=!0):this.valueAxis.axisCreated&&(i=!0),!this.hidden&&i&&this.createGraph())},createGraph:function(){var t=this,e=t.chart;if("inside"==t.labelPosition&&"column"!=t.type&&(t.labelPosition="bottom"),t.startAlpha=e.startAlpha,t.seqAn=e.sequencedAnimation,t.baseCoord=t.valueAxis.baseCoord,void 0===t.fillAlphas&&(t.fillAlphas=0),t.bulletColorR=t.bulletColor,void 0===t.bulletColorR&&(t.bulletColorR=t.lineColorR,t.bulletColorNegative=t.negativeLineColor),void 0===t.bulletAlpha&&(t.bulletAlpha=t.lineAlpha),clearTimeout(t.playedTO),!isNaN(t.valueAxis.min)&&!isNaN(t.valueAxis.max)){switch(e.type){case"serial":t.categoryAxis&&(t.createSerialGraph(),"candlestick"==t.type&&1>t.valueAxis.minMaxMultiplier&&t.positiveClip(t.set));break;case"radar":t.createRadarGraph();break;case"xy":t.createXYGraph(),t.positiveClip(t.set)}t.playedTO=setTimeout(function(){t.setAnimationPlayed.call(t)},500*t.chart.startDuration)}},setAnimationPlayed:function(){this.animationPlayed=!0},createXYGraph:function(){var t=[],e=[],i=this.xAxis,s=this.yAxis;this.pmh=s.viH+1,this.pmw=i.viW+1,this.pmy=this.pmx=0;var a;for(a=this.start;a<=this.end;a++){var r=this.data[a].axes[i.id].graphs[this.id],h=r.values,o=h.x,n=h.y,h=i.getCoordinate(o),l=s.getCoordinate(n);!isNaN(o)&&!isNaN(n)&&(t.push(h),e.push(l),(o=this.createBullet(r,h,l,a))||(o=0),n=this.labelText)&&(r=this.createLabel(r,h,l,n),this.allBullets.push(r),this.positionLabel(h,l,r,this.labelPosition,o))}this.drawLineGraph(t,e),this.launchAnimation()},createRadarGraph:function(){var t,e,i,s=this.valueAxis.stackType,a=[],r=[];for(i=this.start;i<=this.end;i++){var h,o=this.data[i].axes[this.valueAxis.id].graphs[this.id];if(h="none"==s||"3d"==s?o.values.value:o.values.close,isNaN(h))this.drawLineGraph(a,r),a=[],r=[];else{var n=this.y-(this.valueAxis.getCoordinate(h)-this.height),l=180-360/(this.end-this.start+1)*i;h=n*Math.sin(l/180*Math.PI),n*=Math.cos(l/180*Math.PI),a.push(h),r.push(n),(l=this.createBullet(o,h,n,i))||(l=0);var d=this.labelText;d&&(o=this.createLabel(o,h,n,d),this.allBullets.push(o),this.positionLabel(h,n,o,this.labelPosition,l)),isNaN(t)&&(t=h),isNaN(e)&&(e=n)}}a.push(t),r.push(e),this.drawLineGraph(a,r),this.launchAnimation()},positionLabel:function(t,e,i,s,a){var r=i.getBBox();switch(s){case"left":t-=(r.width+a)/2+2;break;case"top":e-=(a+r.height)/2+1;break;case"right":t+=(r.width+a)/2+2;break;case"bottom":e+=(a+r.height)/2+1}i.translate(t,e)},getGradRotation:function(){var t=270;return"horizontal"==this.gradientOrientation&&(t=0),this.gradientRotation=t},createSerialGraph:function(){this.dashLengthSwitched=this.fillColorsSwitched=this.lineColorSwitched=void 0;var t=this.chart,e=this.id,i=this.index,s=this.data,a=this.chart.container,r=this.valueAxis,h=this.type,o=this.columnWidthReal,n=this.showBulletsAt;isNaN(this.columnWidth)||(o=this.columnWidth),isNaN(o)&&(o=.8);var l,d,u,c,m,p=this.useNegativeColorIfDown,f=this.width,g=this.height,v=this.y,C=this.rotate,A=this.columnCount,b=AmCharts.toCoordinate(this.cornerRadiusTop,o/2),x=this.connect,y=[],w=[],M=this.chart.graphs.length,S=this.dx/this.tcc,N=this.dy/this.tcc,D=r.stackType,B=this.labelPosition,L=this.start,T=this.end,k=this.scrollbar,O=this.categoryAxis,R=this.baseCoord,I=this.negativeBase,F=this.columnIndex,G=this.lineThickness,z=this.lineAlpha,E=this.lineColorR,P=this.dashLength,W=this.set,V=B,Y=this.getGradRotation(),H=this.chart.columnSpacing,X=O.cellWidth,j=(X*o-A)/A;H>j&&(H=j);var U,Z,q,_,K,Q,J,$=g+1,te=f+1,ee=0,ie=0,se=this.fillColorsR,ae=this.negativeFillColors,re=this.negativeLineColor,he=this.fillAlphas,oe=this.negativeFillAlphas;"object"==typeof he&&(he=he[0]),"object"==typeof oe&&(oe=oe[0]);var ne=r.getCoordinate(r.min);if(r.logarithmic&&(ne=r.getCoordinate(r.minReal)),this.minCoord=ne,this.resetBullet&&(this.bullet="none"),!(k||"line"!=h&&"smoothedLine"!=h&&"step"!=h||(1==s.length&&"step"!=h&&"none"==this.bullet&&(this.bullet="round",this.resetBullet=!0),!ae&&void 0==re||p))){var le=I;le>r.max&&(le=r.max),le<r.min&&(le=r.min),r.logarithmic&&(le=r.minReal);var de=r.getCoordinate(le),ue=r.getCoordinate(r.max);C?($=g,te=Math.abs(ue-de),_=g,K=Math.abs(ne-de),J=ie=0,r.reversed?(ee=0,Q=de):(ee=de,Q=0)):(te=f,$=Math.abs(ue-de),K=f,_=Math.abs(ne-de),Q=ee=0,r.reversed?(J=v,ie=de):J=de+1)}var ce=Math.round;this.pmx=ce(ee),this.pmy=ce(ie),this.pmh=ce($),this.pmw=ce(te),this.nmx=ce(Q),this.nmy=ce(J),this.nmh=ce(_),this.nmw=ce(K),AmCharts.isModern||(this.nmy=this.nmx=0,this.nmh=this.height),o="column"==h?(X*o-H*(A-1))/A:X*o,1>o&&(o=1);var me;if("line"==h||"step"==h||"smoothedLine"==h){if(L>0){for(me=L-1;me>-1;me--)if(U=s[me],Z=U.axes[r.id].graphs[e],q=Z.values.value,!isNaN(q)){L=me;break}if(this.lineColorField)for(me=L;me>-1;me--)if(U=s[me],Z=U.axes[r.id].graphs[e],Z.lineColor){this.bulletColorSwitched=this.lineColorSwitched=Z.lineColor;break}if(this.fillColorsField)for(me=L;me>-1;me--)if(U=s[me],Z=U.axes[r.id].graphs[e],Z.fillColors){this.fillColorsSwitched=Z.fillColors;break}if(this.dashLengthField)for(me=L;me>-1;me--)if(U=s[me],Z=U.axes[r.id].graphs[e],!isNaN(Z.dashLength)){this.dashLengthSwitched=Z.dashLength;break}}if(T<s.length-1)for(me=T+1;me<s.length;me++)if(U=s[me],Z=U.axes[r.id].graphs[e],q=Z.values.value,!isNaN(q)){T=me;break}}T<s.length-1&&T++;var pe=[],fe=[],ge=!1;("line"==h||"step"==h||"smoothedLine"==h)&&(this.stackable&&"regular"==D||"100%"==D||this.fillToGraph)&&(ge=!0);var ve=this.noStepRisers,Ce=-1e3,Ae=-1e3,be=this.minDistance,xe=!0,ye=!1;for(me=L;T>=me;me++){U=s[me],Z=U.axes[r.id].graphs[e],Z.index=me;var we,Me=0/0;if(p&&void 0==this.openField)for(var Se=me+1;Se<s.length&&(!s[Se]||!(we=s[me+1].axes[r.id].graphs[e])||!we.values||(Me=we.values.value,isNaN(Me)));Se++);var Ne,De,Be,Le,Te,ke,Oe=0/0,Re=0/0,Ie=0/0,Fe=0/0,Ge=0/0,ze=0/0,Ee=0/0,Pe=0/0,We=0/0,Ve=0/0,Ye=0/0,He=0/0,Xe=0/0,je=0/0,Ue=0/0,Ze=0/0,qe=0/0,_e=void 0,Ke=se,Qe=he,Je=E,$e=this.pattern;void 0!=Z.pattern&&($e=Z.pattern),void 0!=Z.color&&(Ke=Z.color),Z.fillColors&&(Ke=Z.fillColors),isNaN(Z.alpha)||(Qe=Z.alpha),isNaN(Z.dashLength)||(P=Z.dashLength);var ti=Z.values;if(r.recalculateToPercents&&(ti=Z.percents),ti){if(je=this.stackable&&"none"!=D&&"3d"!=D?ti.close:ti.value,("candlestick"==h||"ohlc"==h)&&(je=ti.close,Ze=ti.low,Ee=r.getCoordinate(Ze),Ue=ti.high,We=r.getCoordinate(Ue)),qe=ti.open,Ie=r.getCoordinate(je),isNaN(qe)||(Ge=r.getCoordinate(qe),p&&(Me=qe,qe=Ge=0/0)),p&&(void 0==this.openField?we&&(we.isNegative=je>Me?!0:!1):Z.isNegative=Me>je?!0:!1),!k)switch(this.showBalloonAt){case"close":Z.y=Ie;break;case"open":Z.y=Ge;break;case"high":Z.y=We;break;case"low":Z.y=Ee}var Oe=U.x[O.id],ei=this.periodSpan-1,ii=Math.floor(X/2)+Math.floor(ei*X/2),si=ii,ai=0;if("left"==this.stepDirection&&(ai=(2*X+ei*X)/2,Oe-=ai),"start"==this.pointPosition&&(Oe-=X/2+Math.floor(ei*X/2),ii=0,si=Math.floor(X)+Math.floor(ei*X)),"end"==this.pointPosition&&(Oe+=X/2+Math.floor(ei*X/2),ii=Math.floor(X)+Math.floor(ei*X),si=0),ve){var ri=this.columnWidth;isNaN(ri)||(ii*=ri,si*=ri)}switch(k||(Z.x=Oe),-1e5>Oe&&(Oe=-1e5),Oe>f+1e5&&(Oe=f+1e5),C?(Re=Ie,Fe=Ge,Ge=Ie=Oe,isNaN(qe)&&!this.fillToGraph&&(Fe=R),ze=Ee,Pe=We):(Fe=Re=Oe,isNaN(qe)&&!this.fillToGraph&&(Ge=R)),qe>je&&(Z.isNegative=!0,ae&&(Ke=ae),oe&&(Qe=oe),void 0!=re&&(Je=re)),ye=!1,isNaN(je)||(p?je>Me?(xe&&(ye=!0),xe=!1):(xe||(ye=!0),xe=!0):Z.isNegative=I>je?!0:!1),h){case"line":isNaN(je)?x||(this.drawLineGraph(y,w,pe,fe),y=[],w=[],pe=[],fe=[]):((Math.abs(Re-Ce)>=be||Math.abs(Ie-Ae)>=be)&&(y.push(Re),w.push(Ie),Ce=Re,Ae=Ie),Ve=Re,Ye=Ie,He=Re,Xe=Ie,!ge||isNaN(Ge)||isNaN(Fe)||(pe.push(Fe),fe.push(Ge)),(ye||void 0!=Z.lineColor||void 0!=Z.fillColors||!isNaN(Z.dashLength))&&(this.drawLineGraph(y,w,pe,fe),y=[Re],w=[Ie],pe=[],fe=[],!ge||isNaN(Ge)||isNaN(Fe)||(pe.push(Fe),fe.push(Ge)),p?xe?(this.lineColorSwitched=E,this.fillColorsSwitched=se):(this.lineColorSwitched=re,this.fillColorsSwitched=ae):(this.lineColorSwitched=Z.lineColor,this.fillColorsSwitched=Z.fillColors),this.dashLengthSwitched=Z.dashLength),Z.gap&&(this.drawLineGraph(y,w,pe,fe),y=[],w=[],pe=[],fe=[]));
break;case"smoothedLine":isNaN(je)?x||(this.drawSmoothedGraph(y,w,pe,fe),y=[],w=[],pe=[],fe=[]):((Math.abs(Re-Ce)>=be||Math.abs(Ie-Ae)>=be)&&(y.push(Re),w.push(Ie),Ce=Re,Ae=Ie),Ve=Re,Ye=Ie,He=Re,Xe=Ie,!ge||isNaN(Ge)||isNaN(Fe)||(pe.push(Fe),fe.push(Ge)),void 0==Z.lineColor&&void 0==Z.fillColors&&isNaN(Z.dashLength)||(this.drawSmoothedGraph(y,w,pe,fe),y=[Re],w=[Ie],pe=[],fe=[],!ge||isNaN(Ge)||isNaN(Fe)||(pe.push(Fe),fe.push(Ge)),this.lineColorSwitched=Z.lineColor,this.fillColorsSwitched=Z.fillColors,this.dashLengthSwitched=Z.dashLength),Z.gap&&(this.drawSmoothedGraph(y,w,pe,fe),y=[],w=[],pe=[],fe=[]));break;case"step":isNaN(je)?x||((1>=this.periodSpan||1<this.periodSpan&&Re-l>ii+si)&&(l=d=0/0),this.drawLineGraph(y,w,pe,fe),y=[],w=[],pe=[],fe=[]):(void 0==Z.lineColor&&void 0==Z.fillColors&&isNaN(Z.dashLength)||(this.drawLineGraph(y,w,pe,fe),y=[],w=[],pe=[],fe=[],this.lineColorSwitched=Z.lineColor,this.fillColorsSwitched=Z.fillColors,this.dashLengthSwitched=Z.dashLength),C?(isNaN(l)||(y.push(l),w.push(Ie-ii)),w.push(Ie-ii),y.push(Re),w.push(Ie+si),y.push(Re),!ge||isNaN(Ge)||isNaN(Fe)||(pe.push(u),fe.push(Ge-ii),pe.push(Fe),fe.push(Ge-ii),pe.push(Fe),fe.push(Ge+si))):(isNaN(d)||(w.push(d),y.push(l),w.push(d),y.push(Re-ii)),y.push(Re-ii),w.push(Ie),y.push(Re+si),w.push(Ie),!ge||isNaN(Ge)||isNaN(Fe)||(pe.push(Fe-ii),fe.push(c),pe.push(Fe-ii),fe.push(Ge),pe.push(Fe+si),fe.push(Ge))),l=Re,d=Ie,u=Fe,c=Ge,Ve=Re,Ye=Ie,He=Re,Xe=Ie,ye&&(this.drawLineGraph(y,w,pe,fe),y=[],w=[],pe=[],fe=[],p&&(xe?(this.lineColorSwitched=E,this.fillColorsSwitched=se):(this.lineColorSwitched=re,this.fillColorsSwitched=ae))),(ve||Z.gap)&&(l=d=0/0,this.drawLineGraph(y,w,pe,fe),y=[],w=[],pe=[],fe=[]));break;case"column":if(Te=Je,void 0!=Z.lineColor&&(Te=Z.lineColor),!isNaN(je)){p||(Z.isNegative=I>je?!0:!1),Z.isNegative&&(ae&&(Ke=ae),void 0!=re&&(Te=re));var hi=r.min,oi=r.max;if(!(hi>je&&hi>qe||je>oi&&qe>oi))if(C){"3d"==D?(De=Ie-(A/2-this.depthCount+1)*(o+H)+H/2+N*F,Ne=Fe+S*F):(De=Math.floor(Ie-(A/2-F)*(o+H)+H/2),Ne=Fe),Be=o,Ve=Re,Ye=De+o/2,He=Re,Xe=De+o/2,De+Be>g&&(Be=g-De),0>De&&(Be+=De,De=0),Le=Re-Fe;var ni=Ne;Ne=AmCharts.fitToBounds(Ne,0,f),Le+=ni-Ne,Le=AmCharts.fitToBounds(Le,-Ne,f-Ne+S*F),g>De&&Be>0&&(_e=new AmCharts.Cuboid(a,Le,Be,S-t.d3x,N-t.d3y,Ke,Qe,G,Te,z,Y,b,C,P,$e),"bottom"!=B&&"inside"!=B&&"middle"!=B&&(B=r.reversed?"left":"right",0>je&&(B=r.reversed?"right":"left")),"regular"==D||"100%"==D)&&(Ve+=this.dx)}else{"3d"==D?(Ne=Re-(A/2-this.depthCount+1)*(o+H)+H/2+S*F,De=Ge+N*F):(Ne=Re-(A/2-F)*(o+H)+H/2,De=Ge),Be=o,Ve=Ne+o/2,Ye=Ie,He=Ne+o/2,Xe=Ie,Ne+Be>f+F*S&&(Be=f-Ne+F*S),0>Ne&&(Be+=Ne,Ne=0),Le=Ie-Ge;var li=De;De=AmCharts.fitToBounds(De,this.dy,g),Le+=li-De,Le=AmCharts.fitToBounds(Le,-De+N*F,g-De),f+F*S>Ne&&Be>0&&(_e=new AmCharts.Cuboid(a,Be,Le,S-t.d3x,N-t.d3y,Ke,Qe,G,Te,this.lineAlpha,Y,b,C,P,$e),0>je&&"middle"!=B&&"inside"!=B?B="bottom":(B=V,("regular"==D||"100%"==D)&&(Ye+=this.dy)))}_e&&(ke=_e.set,Z.columnGraphics=ke,ke.translate(Ne,De),this.columnsSet.push(ke),(Z.url||this.showHandOnHover)&&ke.setAttr("cursor","pointer"),!k)&&("none"==D&&(m=C?(this.end+1-me)*M-i:M*me+i),"3d"==D&&(C?(m=(this.end+1-me)*M-i-1e3*this.depthCount,Ve+=S*this.columnIndex,He+=S*this.columnIndex,Z.y+=S*this.columnIndex):(m=(M-i)*(me+1)+1e3*this.depthCount,Ve+=3,Ye+=N*this.columnIndex+7,Xe+=N*this.columnIndex,Z.y+=N*this.columnIndex)),("regular"==D||"100%"==D)&&("inside"!=B&&(B="middle"),m=C?0<ti.value?(this.end+1-me)*M+i:(this.end+1-me)*M-i:0<ti.value?M*me+i:M*me-i),this.columnsArray.push({column:_e,depth:m}),Z.x=C?De+Be/2:Ne+Be/2,this.ownColumns.push(_e),this.animateColumns(_e,me,Re,Fe,Ie,Ge),this.addListeners(ke,Z))}break;case"candlestick":if(!isNaN(qe)&&!isNaN(je)){var di,ui;if(Te=Je,void 0!=Z.lineColor&&(Te=Z.lineColor),C){if(De=Ie-o/2,Ne=Fe,Be=o,De+Be>g&&(Be=g-De),0>De&&(Be+=De,De=0),g>De&&Be>0){var ci,mi;je>qe?(ci=[Re,Pe],mi=[Fe,ze]):(ci=[Fe,Pe],mi=[Re,ze]),!isNaN(Pe)&&!isNaN(ze)&&g>Ie&&Ie>0&&(di=AmCharts.line(a,ci,[Ie,Ie],Te,z,G),ui=AmCharts.line(a,mi,[Ie,Ie],Te,z,G)),Le=Re-Fe,_e=new AmCharts.Cuboid(a,Le,Be,S,N,Ke,he,G,Te,z,Y,b,C,P,$e)}}else if(Ne=Re-o/2,De=Ge+G/2,Be=o,Ne+Be>f&&(Be=f-Ne),0>Ne&&(Be+=Ne,Ne=0),Le=Ie-Ge,f>Ne&&Be>0){var pi,fi,_e=new AmCharts.Cuboid(a,Be,Le,S,N,Ke,Qe,G,Te,z,Y,b,C,P,$e);je>qe?(pi=[Ie,We],fi=[Ge,Ee]):(pi=[Ge,We],fi=[Ie,Ee]),!isNaN(We)&&!isNaN(Ee)&&f>Re&&Re>0&&(di=AmCharts.line(a,[Re,Re],pi,Te,z,G),ui=AmCharts.line(a,[Re,Re],fi,Te,z,G))}_e&&(ke=_e.set,Z.columnGraphics=ke,W.push(ke),ke.translate(Ne,De-G/2),(Z.url||this.showHandOnHover)&&ke.setAttr("cursor","pointer"),di&&(W.push(di),W.push(ui)),Ve=Re,Ye=Ie,C?(Xe=Ie,He=Re,"open"==n&&(He=Fe),"high"==n&&(He=Pe),"low"==n&&(He=ze)):(Xe=Ie,"open"==n&&(Xe=Ge),"high"==n&&(Xe=We),"low"==n&&(Xe=Ee),He=Re),k||(Z.x=C?De+Be/2:Ne+Be/2,this.animateColumns(_e,me,Re,Fe,Ie,Ge),this.addListeners(ke,Z)))}break;case"ohlc":if(!(isNaN(qe)||isNaN(Ue)||isNaN(Ze)||isNaN(je))){qe>je&&(Z.isNegative=!0,void 0!=re&&(Je=re));var gi,vi,Ci;if(C){var Ai=Ie-o/2,Ai=AmCharts.fitToBounds(Ai,0,g),bi=AmCharts.fitToBounds(Ie,0,g),xi=Ie+o/2,xi=AmCharts.fitToBounds(xi,0,g);vi=AmCharts.line(a,[Fe,Fe],[Ai,bi],Je,z,G,P),Ie>0&&g>Ie&&(gi=AmCharts.line(a,[ze,Pe],[Ie,Ie],Je,z,G,P)),Ci=AmCharts.line(a,[Re,Re],[bi,xi],Je,z,G,P),Xe=Ie,He=Re,"open"==n&&(He=Fe),"high"==n&&(He=Pe),"low"==n&&(He=ze)}else{var yi=Re-o/2,yi=AmCharts.fitToBounds(yi,0,f),wi=AmCharts.fitToBounds(Re,0,f),Mi=Re+o/2,Mi=AmCharts.fitToBounds(Mi,0,f);vi=AmCharts.line(a,[yi,wi],[Ge,Ge],Je,z,G,P),Re>0&&f>Re&&(gi=AmCharts.line(a,[Re,Re],[Ee,We],Je,z,G,P)),Ci=AmCharts.line(a,[wi,Mi],[Ie,Ie],Je,z,G,P),Xe=Ie,"open"==n&&(Xe=Ge),"high"==n&&(Xe=We),"low"==n&&(Xe=Ee),He=Re}W.push(vi),W.push(gi),W.push(Ci),Ve=Re,Ye=Ie}}if(!k&&!isNaN(je)){var Si=this.hideBulletsCount;if(this.end-this.start<=Si||0===Si){var Ni=this.createBullet(Z,He,Xe,me);Ni||(Ni=0);var Di=this.labelText;if(Di){var Bi=this.createLabel(Z,0,0,Di),Li=0,Ti=0,ki=Bi.getBBox(),Oi=ki.width,Ri=ki.height;switch(B){case"left":Li=-(Oi/2+Ni/2+3);break;case"top":Ti=-(Ri/2+Ni/2+3);break;case"right":Li=Ni/2+2+Oi/2;break;case"bottom":C&&"column"==h?(Ve=R,0>je||je>0&&r.reversed?(Li=-6,Bi.attr({"text-anchor":"end"})):(Li=6,Bi.attr({"text-anchor":"start"}))):(Ti=Ni/2+Ri/2,Bi.x=-(Oi/2+2));break;case"middle":"column"==h&&(C?(Ti=-(Ri/2)+this.fontSize/2,Li=-(Re-Fe)/2-S,Math.abs(Re-Fe)<Oi&&!this.showAllValueLabels&&(Bi.remove(),Bi=null)):(Ti=-(Ie-Ge)/2-N,Math.abs(Ie-Ge)<Ri&&!this.showAllValueLabels&&(Bi.remove(),Bi=null)));break;case"inside":C?(Ti=-(Ri/2)+this.fontSize/2,Li=0>Le?Oi/2+6:-Oi/2-6):Ti=0>Le?Ri:-Ri}if(Bi){if(isNaN(Ye)||isNaN(Ve))Bi.remove(),Bi=null;else if(Ve+=Li,Ye+=Ti,Bi.translate(Ve,Ye),C)(0>Ye||Ye>g)&&(Bi.remove(),Bi=null);else{var Ii=0;"3d"==D&&(Ii=S*F),(0>Ve||Ve>f+Ii)&&(Bi.remove(),Bi=null)}Bi&&this.allBullets.push(Bi)}}if("regular"==D||"100%"==D){var Fi=r.totalText;if(Fi){var Gi=this.createLabel(Z,0,0,Fi,r.totalTextColor);this.allBullets.push(Gi);var zi,Ei,Pi=Gi.getBBox(),Wi=Pi.width,Vi=Pi.height,Yi=r.totals[me];Yi&&Yi.remove();var Hi=0;"column"!=h&&(Hi=Ni),C?(Ei=Ie,zi=0>je?Re-Wi/2-2-Hi:Re+Wi/2+3+Hi):(zi=Re,Ei=0>je?Ie+Vi/2+Hi:Ie-Vi/2-3-Hi),Gi.translate(zi,Ei),r.totals[me]=Gi,C?(0>Ei||Ei>g)&&Gi.remove():(0>zi||zi>f)&&Gi.remove()}}}}}}("line"==h||"step"==h||"smoothedLine"==h)&&("smoothedLine"==h?this.drawSmoothedGraph(y,w,pe,fe):this.drawLineGraph(y,w,pe,fe),k||this.launchAnimation()),this.bulletsHidden&&this.hideBullets()},animateColumns:function(t,e,i){var s=this;i=s.chart.startDuration,i>0&&!s.animationPlayed&&(s.seqAn?(t.set.hide(),s.animationArray.push(t),t=setTimeout(function(){s.animate.call(s)},i/(s.end-s.start+1)*(e-s.start)*1e3),s.timeOuts.push(t)):s.animate(t))},createLabel:function(t,e,i,s,a){var r=this.chart,h=t.labelColor;h||(h=this.color),h||(h=r.color),a&&(h=a),a=this.fontSize,void 0===a&&(this.fontSize=a=r.fontSize);var o=this.labelFunction;return s=r.formatString(s,t),s=AmCharts.cleanFromEmpty(s),o&&(s=o(t,s)),t=AmCharts.text(this.container,s,h,r.fontFamily,a),t.node.style.pointerEvents="none",t.translate(e,i),this.bulletSet.push(t),t},positiveClip:function(t){t.clipRect(this.pmx,this.pmy,this.pmw,this.pmh)},negativeClip:function(t){t.clipRect(this.nmx,this.nmy,this.nmw,this.nmh)},drawLineGraph:function(t,e,i,s){var a=this;if(1<t.length){var r=a.set,h=a.chart,o=a.container,n=o.set(),l=o.set();r.push(l),r.push(n);var d=a.lineAlpha,u=a.lineThickness,r=a.fillAlphas,c=a.lineColorR,m=a.negativeLineAlpha;isNaN(m)&&(m=d);var p=a.lineColorSwitched;p&&(c=p);var p=a.fillColorsR,f=a.fillColorsSwitched;f&&(p=f);var g=a.dashLength;(f=a.dashLengthSwitched)&&(g=f);var f=a.negativeLineColor,v=a.negativeFillColors,C=a.negativeFillAlphas,A=a.baseCoord;0!==a.negativeBase&&(A=a.valueAxis.getCoordinate(a.negativeBase)),d=AmCharts.line(o,t,e,c,d,u,g,!1,!0),n.push(d),n.click(function(t){a.handleGraphEvent(t,"clickGraph")}).mouseover(function(t){a.handleGraphEvent(t,"rollOverGraph")}).mouseout(function(t){a.handleGraphEvent(t,"rollOutGraph")}),void 0===f||a.useNegativeColorIfDown||(u=AmCharts.line(o,t,e,f,m,u,g,!1,!0),l.push(u)),(r>0||C>0)&&(u=t.join(";").split(";"),m=e.join(";").split(";"),d=h.type,"serial"==d?0<i.length?(i.reverse(),s.reverse(),u=t.concat(i),m=e.concat(s)):a.rotate?(m.push(m[m.length-1]),u.push(A),m.push(m[0]),u.push(A),m.push(m[0]),u.push(u[0])):(u.push(u[u.length-1]),m.push(A),u.push(u[0]),m.push(A),u.push(t[0]),m.push(m[0])):"xy"==d&&(e=a.fillToAxis)&&(AmCharts.isString(e)&&(e=h.getValueAxisById(e)),"H"==e.orientation?(A="top"==e.position?0:e.viH,u.push(u[u.length-1]),m.push(A),u.push(u[0]),m.push(A),u.push(t[0]),m.push(m[0])):(A="left"==e.position?0:e.viW,m.push(m[m.length-1]),u.push(A),m.push(m[0]),u.push(A),m.push(m[0]),u.push(u[0]))),t=a.gradientRotation,r>0&&(h=AmCharts.polygon(o,u,m,p,r,1,"#000",0,t),h.pattern(a.pattern),n.push(h)),(v||void 0!==f)&&(isNaN(C)&&(C=r),v||(v=f),o=AmCharts.polygon(o,u,m,v,C,1,"#000",0,t),o.pattern(a.pattern),l.push(o),l.click(function(t){a.handleGraphEvent(t,"clickGraph")}).mouseover(function(t){a.handleGraphEvent(t,"rollOverGraph")}).mouseout(function(t){a.handleGraphEvent(t,"rollOutGraph")}))),a.applyMask(l,n)}},applyMask:function(t,e){var i=t.length();"serial"!=this.chart.type||this.scrollbar||(this.positiveClip(e),i>0&&this.negativeClip(t))},drawSmoothedGraph:function(t,e,i,s){if(1<t.length){var a=this.set,r=this.container,h=r.set(),o=r.set();a.push(o),a.push(h);var n=this.lineAlpha,l=this.lineThickness,a=this.dashLength,d=this.fillAlphas,u=this.lineColorR,c=this.fillColorsR,m=this.negativeLineColor,p=this.negativeFillColors,f=this.negativeFillAlphas,g=this.baseCoord,v=this.lineColorSwitched;v&&(u=v),(v=this.fillColorsSwitched)&&(c=v),v=this.negativeLineAlpha,isNaN(v)&&(v=n),n=new AmCharts.Bezier(r,t,e,u,n,l,c,0,a),h.push(n.path),void 0!==m&&(l=new AmCharts.Bezier(r,t,e,m,v,l,c,0,a),o.push(l.path)),d>0&&(n=t.join(";").split(";"),u=e.join(";").split(";"),l="",0<i.length?(i.push("M"),s.push("M"),i.reverse(),s.reverse(),n=t.concat(i),u=e.concat(s)):(this.rotate?(l+=" L"+g+","+e[e.length-1],l+=" L"+g+","+e[0]):(l+=" L"+t[t.length-1]+","+g,l+=" L"+t[0]+","+g),l+=" L"+t[0]+","+e[0]),i=new AmCharts.Bezier(r,n,u,0/0,0,0,c,d,a,l),i.path.pattern(this.pattern),h.push(i.path),p||void 0!==m)&&(f||(f=d),p||(p=m),t=new AmCharts.Bezier(r,t,e,0/0,0,0,p,f,a,l),t.path.pattern(this.pattern),o.push(t.path)),this.applyMask(o,h)}},launchAnimation:function(){var t=this,e=t.chart.startDuration;if(e>0&&!t.animationPlayed){var i=t.set,s=t.bulletSet;AmCharts.VML||(i.attr({opacity:t.startAlpha}),s.attr({opacity:t.startAlpha})),i.hide(),s.hide(),t.seqAn?(e=setTimeout(function(){t.animateGraphs.call(t)},t.index*e*1e3),t.timeOuts.push(e)):t.animateGraphs()}},animateGraphs:function(){var t=this.chart,e=this.set,i=this.bulletSet,s=this.x,a=this.y;e.show(),i.show();var r=t.startDuration,t=t.startEffect;e&&(this.rotate?(e.translate(-1e3,a),i.translate(-1e3,a)):(e.translate(s,-1e3),i.translate(s,-1e3)),e.animate({opacity:1,translate:s+","+a},r,t),i.animate({opacity:1,translate:s+","+a},r,t))},animate:function(t){var e=this.chart,i=this.animationArray;!t&&0<i.length&&(t=i[0],i.shift()),i=AmCharts[AmCharts.getEffect(e.startEffect)],e=e.startDuration,t&&(this.rotate?t.animateWidth(e,i):t.animateHeight(e,i),t.set.show())},legendKeyColor:function(){var t=this.legendColor,e=this.lineAlpha;return void 0===t&&(t=this.lineColorR,0===e&&(e=this.fillColorsR)&&(t="object"==typeof e?e[0]:e)),t},legendKeyAlpha:function(){var t=this.legendAlpha;return void 0===t&&(t=this.lineAlpha,this.fillAlphas>t&&(t=this.fillAlphas),0===t&&(t=this.bulletAlpha),0===t&&(t=1)),t},createBullet:function(t,e,i,s){s=this.container;var a=this.bulletOffset,r=this.bulletSize;isNaN(t.bulletSize)||(r=t.bulletSize);var h=t.values.value,o=this.maxValue,n=this.minValue,l=this.maxBulletSize,d=this.minBulletSize;isNaN(o)||(isNaN(h)||(r=(h-n)/(o-n)*(l-d)+d),n==o&&(r=l)),o=r,this.bulletAxis&&(r=t.values.error,isNaN(r)||(h=r),r=this.bulletAxis.stepWidth*h),r<this.minBulletSize&&(r=this.minBulletSize),this.rotate?e=t.isNegative?e-a:e+a:i=t.isNegative?i+a:i-a;var u,d=this.bulletColorR;t.lineColor&&(this.bulletColorSwitched=t.lineColor),this.bulletColorSwitched&&(d=this.bulletColorSwitched),t.isNegative&&void 0!==this.bulletColorNegative&&(d=this.bulletColorNegative),void 0!==t.color&&(d=t.color);var c;"xy"==this.chart.type&&this.valueField&&(c=this.pattern,t.pattern&&(c=t.pattern)),a=this.bullet,t.bullet&&(a=t.bullet);var h=this.bulletBorderThickness,n=this.bulletBorderColorR,l=this.bulletBorderAlpha,m=this.bulletAlpha;n||(n=d),this.useLineColorForBulletBorder&&(n=this.lineColorR);var p=t.alpha;return isNaN(p)||(m=p),("none"!=this.bullet||t.bullet)&&(u=AmCharts.bullet(s,a,r,d,m,h,n,l,o,0,c)),(this.customBullet||t.customBullet)&&(c=this.customBullet,t.customBullet&&(c=t.customBullet),c&&(u&&u.remove(),"function"==typeof c?(u=new c,u.chart=this.chart,t.bulletConfig&&(u.availableSpace=i,u.graph=this,u.graphDataItem=t,u.bulletY=i,t.bulletConfig.minCoord=this.minCoord-i,u.bulletConfig=t.bulletConfig),u.write(s),u=u.set):(this.chart.path&&(c=this.chart.path+c),u=s.set(),s=s.image(c,0,0,r,r),u.push(s),this.centerCustomBullets&&s.translate(-r/2,-r/2)))),u&&((t.url||this.showHandOnHover)&&u.setAttr("cursor","pointer"),"serial"==this.chart.type&&(0>e-0||e-0>this.width||-r/2>i||i-0>this.height)&&(u.remove(),u=null),u&&(this.bulletSet.push(u),u.translate(e,i),this.addListeners(u,t),this.allBullets.push(u)),t.bx=e,t.by=i),t.bulletGraphics=u,r},showBullets:function(){var t,e=this.allBullets;for(this.bulletsHidden=!1,t=0;t<e.length;t++)e[t].show()},hideBullets:function(){var t,e=this.allBullets;for(this.bulletsHidden=!0,t=0;t<e.length;t++)e[t].hide()},addListeners:function(t,e){var i=this;t.mouseover(function(t){i.handleRollOver(e,t)}).mouseout(function(t){i.handleRollOut(e,t)}).touchend(function(t){i.handleRollOver(e,t),i.chart.panEventsEnabled&&i.handleClick(e,t)}).touchstart(function(t){i.handleRollOver(e,t)}).click(function(t){i.handleClick(e,t)}).dblclick(function(t){i.handleDoubleClick(e,t)}).contextmenu(function(t){i.handleRightClick(e,t)})},handleRollOver:function(t,e){if(t){var i=this.chart,s={type:"rollOverGraphItem",item:t,index:t.index,graph:this,target:this,chart:this.chart,event:e};if(this.fire("rollOverGraphItem",s),i.fire("rollOverGraphItem",s),clearTimeout(i.hoverInt),s=this.showBalloon,i.chartCursor&&"serial"==i.type&&(s=!1,!i.chartCursor.valueBalloonsEnabled&&this.showBalloon&&(s=!0)),s){var s=i.formatString(this.balloonText,t,!0),a=this.balloonFunction;a&&(s=a(t,t.graph)),s=AmCharts.cleanFromEmpty(s),a=i.getBalloonColor(this,t),i.balloon.showBullet=!1,i.balloon.pointerOrientation="V";var r=t.x,h=t.y;i.rotate&&(r=t.y,h=t.x),i.showBalloon(s,a,!0,r+i.marginLeftReal,h+i.marginTopReal)}}this.handleGraphEvent(e,"rollOverGraph")},handleRollOut:function(t,e){if(this.chart.hideBalloon(),t){var i={type:"rollOutGraphItem",item:t,index:t.index,graph:this,target:this,chart:this.chart,event:e};this.fire("rollOutGraphItem",i),this.chart.fire("rollOutGraphItem",i)}this.handleGraphEvent(e,"rollOutGraph")},handleClick:function(t,e){if(t){var i={type:"clickGraphItem",item:t,index:t.index,graph:this,target:this,chart:this.chart,event:e};this.fire("clickGraphItem",i),this.chart.fire("clickGraphItem",i),AmCharts.getURL(t.url,this.urlTarget)}this.handleGraphEvent(e,"clickGraph")},handleGraphEvent:function(t,e){var i={type:e,graph:this,target:this,chart:this.chart,event:t};this.fire(e,i),this.chart.fire(e,i)},handleRightClick:function(t,e){if(t){var i={type:"rightClickGraphItem",item:t,index:t.index,graph:this,target:this,chart:this.chart,event:e};this.fire("rightClickGraphItem",i),this.chart.fire("rightClickGraphItem",i)}},handleDoubleClick:function(t,e){if(t){var i={type:"doubleClickGraphItem",item:t,index:t.index,graph:this,target:this,chart:this.chart,event:e};this.fire("doubleClickGraphItem",i),this.chart.fire("doubleClickGraphItem",i)}},zoom:function(t,e){this.start=t,this.end=e,this.draw()},changeOpacity:function(t){var e=this.set;if(e&&e.setAttr("opacity",t),e=this.ownColumns){var i;for(i=0;i<e.length;i++){var s=e[i].set;s&&s.setAttr("opacity",t)}}(e=this.bulletSet)&&e.setAttr("opacity",t)},destroy:function(){AmCharts.remove(this.set),AmCharts.remove(this.bulletSet);var t=this.timeOuts;if(t){var e;for(e=0;e<t.length;e++)clearTimeout(t[e])}this.timeOuts=[]}}),AmCharts.ChartCursor=AmCharts.Class({construct:function(t){this.cname="ChartCursor",this.createEvents("changed","zoomed","onHideCursor","draw","selected","moved"),this.enabled=!0,this.cursorAlpha=1,this.selectionAlpha=.2,this.cursorColor="#CC0000",this.categoryBalloonAlpha=1,this.color="#FFFFFF",this.type="cursor",this.zoomed=!1,this.zoomable=!0,this.pan=!1,this.categoryBalloonDateFormat="MMM DD, YYYY",this.categoryBalloonEnabled=this.valueBalloonsEnabled=!0,this.rolledOver=!1,this.cursorPosition="middle",this.bulletsEnabled=this.skipZoomDispatch=!1,this.bulletSize=8,this.selectWithoutZooming=this.oneBalloonOnly=!1,this.graphBulletSize=1.7,this.animationDuration=.3,this.zooming=!1,this.adjustment=0,this.avoidBalloonOverlapping=!0,AmCharts.applyTheme(this,t,this.cname)},draw:function(){var t=this;t.destroy();var e=t.chart,i=e.container;t.rotate=e.rotate,t.container=i,i=i.set(),i.translate(t.x,t.y),t.set=i,e.cursorSet.push(i),i=new AmCharts.AmBalloon,i.chart=e,t.categoryBalloon=i,AmCharts.copyProperties(e.balloon,i),i.cornerRadius=0,i.shadowAlpha=0,i.borderThickness=1,i.borderAlpha=1,i.showBullet=!1;var s=t.categoryBalloonColor;if(void 0===s&&(s=t.cursorColor),i.fillColor=s,i.fillAlpha=t.categoryBalloonAlpha,i.borderColor=s,i.color=t.color,t.rotate&&(i.pointerOrientation="H"),t.extraWidth=0,t.prevX=[],t.prevY=[],t.prevTX=[],t.prevTY=[],t.valueBalloonsEnabled)for(i=0;i<e.graphs.length;i++)s=new AmCharts.AmBalloon,s.chart=e,AmCharts.copyProperties(e.balloon,s),e.graphs[i].valueBalloon=s;"cursor"==t.type?t.createCursor():t.createCrosshair(),t.interval=setInterval(function(){t.detectMovement.call(t)},40)},updateData:function(){var t=this.chart;this.data=t.chartData,this.firstTime=t.firstTime,this.lastTime=t.lastTime},createCursor:function(){var t,e,i=this.chart,s=this.cursorAlpha,a=i.categoryAxis,r=a.position,h=a.inside,o=a.axisThickness,n=this.categoryBalloon,l=i.dx,d=i.dy,u=this.x,c=this.y,m=this.width,p=this.height,i=i.rotate,f=a.tickLength;n.pointerWidth=f,i?(t=[0,m,m+l],e=[0,0,d]):(t=[l,0,0],e=[d,0,p]),this.line=s=AmCharts.line(this.container,t,e,this.cursorColor,s,1),(t=this.fullRectSet)?(t.push(s),t.translate(this.x,this.y)):this.set.push(s),i?(h&&(n.pointerWidth=0),"right"==r?h?n.setBounds(u,c+d,u+m+l,c+p+d):n.setBounds(u+m+l+o,c+d,u+m+1e3,c+p+d):h?n.setBounds(u,c,m+u,p+c):n.setBounds(-1e3,-1e3,u-f-o,c+p+15)):(n.maxWidth=m,a.parseDates&&(f=0,n.pointerWidth=0),"top"==r?h?n.setBounds(u+l,c+d,m+l+u,p+c):n.setBounds(u+l,-1e3,m+l+u,c+d-f-o):h?n.setBounds(u,c,m+u,p+c-f):n.setBounds(u,c+p+f+o-1,u+m,c+p+f+o)),this.hideCursor()},createCrosshair:function(){var t=this.cursorAlpha,e=this.container,i=AmCharts.line(e,[0,0],[0,this.height],this.cursorColor,t,1),t=AmCharts.line(e,[0,this.width],[0,0],this.cursorColor,t,1);this.set.push(i),this.set.push(t),this.vLine=i,this.hLine=t,this.hideCursor()},detectMovement:function(){var t=this.chart;if(t.mouseIsOver){var e=t.mouseX-this.x,i=t.mouseY-this.y;e>-.5&&e<this.width+1&&i>0&&i<this.height?(this.drawing?this.rolledOver||t.setMouseCursor("crosshair"):this.pan&&(this.rolledOver||t.setMouseCursor("move")),this.rolledOver=!0,this.setPosition()):this.rolledOver&&(this.handleMouseOut(),this.rolledOver=!1)}else this.rolledOver&&(this.handleMouseOut(),this.rolledOver=!1)},getMousePosition:function(){var t,e=this.width,i=this.height;return t=this.chart,this.rotate?(t=t.mouseY-this.y,0>t&&(t=0),t>i&&(t=i)):(t=t.mouseX-this.x-1,0>t&&(t=0),t>e&&(t=e)),t},updateCrosshair:function(){var t=this.chart,e=t.mouseX-this.x,i=t.mouseY-this.y,s=this.vLine,a=this.hLine,e=AmCharts.fitToBounds(e,0,this.width),i=AmCharts.fitToBounds(i,0,this.height);0<this.cursorAlpha&&(s.show(),a.show(),s.translate(e,0),a.translate(0,i)),this.zooming&&(t.hideXScrollbar&&(e=0/0),t.hideYScrollbar&&(i=0/0),this.updateSelectionSize(e,i)),this.fireMoved(),t.mouseIsOver||this.zooming||this.hideCursor()},fireMoved:function(){var t=this.chart,e={type:"moved",target:this};e.chart=t,e.zooming=this.zooming,e.x=t.mouseX-this.x,e.y=t.mouseY-this.y,this.fire("moved",e)},updateSelectionSize:function(t,e){AmCharts.remove(this.selection);var i=this.selectionPosX,s=this.selectionPosY,a=0,r=0,h=this.width,o=this.height;isNaN(t)||(i>t&&(a=t,h=i-t),t>i&&(a=i,h=t-i),i==t&&(a=t,h=0),h+=this.extraWidth,a-=this.extraWidth/2),isNaN(e)||(s>e&&(r=e,o=s-e),e>s&&(r=s,o=e-s),s==e&&(r=e,o=0),o+=this.extraWidth,r-=this.extraWidth/2),h>0&&o>0&&(i=AmCharts.rect(this.container,h,o,this.cursorColor,this.selectionAlpha),i.translate(a+this.x,r+this.y),this.selection=i)},arrangeBalloons:function(){var t=this.valueBalloons,e=this.x,i=this.y,s=this.height+i;t.sort(this.compareY);var a;for(a=0;a<t.length;a++){var r=t[a].balloon;r.setBounds(e,i,e+this.width,s),r.prevX=this.prevX[a],r.prevY=this.prevY[a],r.prevTX=this.prevTX[a],r.prevTY=this.prevTY[a],r.draw(),s=r.yPos-3}this.arrangeBalloons2()},compareY:function(t,e){return t.yy<e.yy?1:-1},arrangeBalloons2:function(){var t=this.valueBalloons;t.reverse();var e,i,s,a=this.x,r=t.length;for(s=0;r>s;s++){var h=t[s].balloon;e=h.bottom;var o=h.bottom-h.yPos,n=r-s-1;s>0&&i+3>e-o&&(h.setBounds(a,i+3,a+this.width,i+o+3),h.prevX=this.prevX[n],h.prevY=this.prevY[n],h.prevTX=this.prevTX[n],h.prevTY=this.prevTY[n],h.draw()),h.set&&h.set.show(),this.prevX[n]=h.prevX,this.prevY[n]=h.prevY,this.prevTX[n]=h.prevTX,this.prevTY[n]=h.prevTY,i=h.bottom}},showBullets:function(){AmCharts.remove(this.allBullets);var t=this.container,e=t.set();this.set.push(e),this.set.show(),this.allBullets=e;var i,e=this.chart.graphs;for(i=0;i<e.length;i++){var s=e[i];if(!s.hidden&&s.balloonText){var a=this.data[this.index].axes[s.valueAxis.id].graphs[s.id],r=a.y;if(!isNaN(r)){var h,o;h=a.x,this.rotate?(o=r,r=h):o=h,s=AmCharts.circle(t,this.bulletSize/2,this.chart.getBalloonColor(s,a,!0),s.cursorBulletAlpha),s.translate(o,r),this.allBullets.push(s)}}}},destroy:function(){this.clear(),AmCharts.remove(this.selection),this.selection=null;var t=this.categoryBalloon;t&&t.destroy(),this.destroyValueBalloons(),AmCharts.remove(this.set)},clear:function(){clearInterval(this.interval)},destroyValueBalloons:function(){var t=this.valueBalloons;if(t){var e;for(e=0;e<t.length;e++)t[e].balloon.hide()}},zoom:function(t,e,i,s){var a=this.chart;this.destroyValueBalloons(),this.zooming=!1;var r;this.rotate?this.selectionPosY=r=a.mouseY:this.selectionPosX=r=a.mouseX,this.start=t,this.end=e,this.startTime=i,this.endTime=s,this.zoomed=!0,s=a.categoryAxis,a=this.rotate,e=this.width,i=this.height,t=s.stepWidth,this.fullWidth&&(r=1,s.parseDates&&!s.equalSpacing&&(r=s.minDuration()),a?this.extraWidth=i=t*r:(this.extraWidth=e=t*r,this.categoryBalloon.minWidth=e),this.line&&this.line.remove(),this.line=AmCharts.rect(this.container,e,i,this.cursorColor,this.cursorAlpha,0),this.fullRectSet&&this.fullRectSet.push(this.line)),this.stepWidth=t,this.tempVal=this.valueBalloonsEnabled,this.valueBalloonsEnabled=!1,this.setPosition(),this.valueBalloonsEnabled=this.tempVal,this.hideCursor()},hideObj:function(t){t&&t.hide()},hideCursor:function(t){void 0===t&&(t=!0),this.hideObj(this.set),this.hideObj(this.categoryBalloon),this.hideObj(this.line),this.hideObj(this.vLine),this.hideObj(this.hLine),this.hideObj(this.allBullets),this.destroyValueBalloons(),this.selectWithoutZooming||AmCharts.remove(this.selection),this.previousIndex=0/0,t&&this.fire("onHideCursor",{type:"onHideCursor",chart:this.chart,target:this}),this.drawing||this.chart.setMouseCursor("auto"),this.normalizeBulletSize()},setPosition:function(t,e,i){void 0===e&&(e=!0),"cursor"==this.type?(this.tempPosition=0/0,AmCharts.ifArray(this.data)&&(isNaN(t)&&(t=this.getMousePosition()),(t!=this.previousMousePosition||!0===this.zoomed||this.oneBalloonOnly)&&!isNaN(t)&&("mouse"==this.cursorPosition&&(this.tempPosition=t),isNaN(i)&&(i=this.chart.categoryAxis.xToIndex(t)),i!=this.previousIndex||this.zoomed||"mouse"==this.cursorPosition||this.oneBalloonOnly)&&(this.updateCursor(i,e),this.zoomed=!1),this.previousMousePosition=t)):this.updateCrosshair()},normalizeBulletSize:function(){var t=this.resizedBullets;if(t)for(var e=0;e<t.length;e++){var i=t[e],s=i.bulletGraphics;s&&(s.translate(i.bx,i.by,1),i=i.graph,isNaN(this.graphBulletAlpha)||(s.setAttr("fill-opacity",i.bulletAlpha),s.setAttr("stroke-opacity",i.bulletBorderAlpha)))}},updateCursor:function(t,e){var i=this.chart,s=this.fullWidth,a=i.mouseX-this.x,r=i.mouseY-this.y;if(this.drawingNow&&(AmCharts.remove(this.drawingLine),this.drawingLine=AmCharts.line(this.container,[this.x+this.drawStartX,this.x+a],[this.y+this.drawStartY,this.y+r],this.cursorColor,1,1)),this.enabled){void 0===e&&(e=!0),this.index=t+=this.adjustment;var h=i.categoryAxis,o=i.dx,n=i.dy,l=this.x+1,d=this.y+1,u=this.width,c=this.height,m=this.data[t];if(this.fireMoved(),m){var p=m.x[h.id],f=i.rotate,g=h.inside,v=this.stepWidth,C=this.categoryBalloon,A=this.firstTime,b=this.lastTime,x=this.cursorPosition,y=h.position,w=this.zooming,M=this.panning,S=i.graphs,N=h.axisThickness;if(i.mouseIsOver||w||M||this.forceShow)if(this.forceShow=!1,M){var o=this.panClickPos,i=this.panClickEndTime,w=this.panClickStartTime,D=this.panClickEnd,l=this.panClickStart,a=(f?o-r:o-a)/v;(!h.parseDates||h.equalSpacing)&&(a=Math.round(a)),0!==a&&(o={type:"zoomed",target:this},o.chart=this.chart,h.parseDates&&!h.equalSpacing?(i+a>b&&(a=b-i),A>w+a&&(a=A-w),o.start=Math.round(w+a),o.end=Math.round(i+a),this.fire(o.type,o)):D+a>=this.data.length||0>l+a||(o.start=l+a,o.end=D+a,this.fire(o.type,o)))}else{if("start"==x?p-=h.cellWidth/2:"mouse"==x&&(i.mouseIsOver?p=f?r-2:a-2:isNaN(this.tempPosition)||(p=this.tempPosition-2)),f){if(0>p){if(!w)return void this.hideCursor();p=0}if(p>c+1){if(!w)return void this.hideCursor();p=c+1}}else{if(0>p){if(!w)return void this.hideCursor();p=0}if(p>u){if(!w)return void this.hideCursor();p=u}}if(0<this.cursorAlpha){var B=this.line;f?(A=0,b=p+n,s&&(b-=h.cellWidth/2)):(A=p,b=0,s&&(A-=h.cellWidth/2)),v=this.animationDuration,v>0&&!this.zooming?isNaN(this.previousX)?B.translate(A,b):(B.translate(this.previousX,this.previousY),B.animate({translate:A+","+b},v,"easeOutSine")):B.translate(A,b),this.previousX=A,this.previousY=b,B.show()}if(this.linePos=f?p+n:p,w&&(s&&B.hide(),f?this.updateSelectionSize(0/0,p):this.updateSelectionSize(p,0/0)),v=!0,w&&(v=!1),this.categoryBalloonEnabled&&v?(f?(g&&("right"==y?C.setBounds(l,d+n,l+u+o,d+p+n):C.setBounds(l,d+n,l+u+o,d+p)),"right"==y?g?C.setPosition(l+u+o,d+p+n):C.setPosition(l+u+o+N,d+p+n):g?C.setPosition(l,d+p):C.setPosition(l-N,d+p)):"top"==y?g?C.setPosition(l+p+o,d+n):C.setPosition(l+p+o,d+n-N+1):g?C.setPosition(l+p,d+c):C.setPosition(l+p,d+c+N-1),(A=this.categoryBalloonFunction)?C.showBalloon(A(m.category)):h.parseDates?(h=AmCharts.formatDate(m.category,this.categoryBalloonDateFormat),-1!=h.indexOf("fff")&&(h=AmCharts.formatMilliseconds(h,m.category)),C.showBalloon(h)):C.showBalloon(AmCharts.fixNewLines(m.category))):C.hide(),S&&this.bulletsEnabled&&this.showBullets(),this.oneBalloonOnly){for(n=1/0,h=0;h<S.length;h++)A=S[h],A.showBalloon&&!A.hidden&&A.balloonText&&(b=m.axes[A.valueAxis.id].graphs[A.id],C=b.y,isNaN(C)||(f?Math.abs(a-C)<n&&(n=Math.abs(a-C),D=A):Math.abs(r-C)<n&&(n=Math.abs(r-C),D=A)));this.mostCloseGraph&&(D=this.mostCloseGraph)}if((t!=this.previousIndex||D!=this.previousMostCloseGraph)&&(this.normalizeBulletSize(),this.destroyValueBalloons(),this.resizedBullets=[],S&&this.valueBalloonsEnabled&&v&&i.balloon.enabled)){for(this.valueBalloons=v=[],h=0;h<S.length;h++)if(A=S[h],C=0/0,(!this.oneBalloonOnly||A==D)&&A.showBalloon&&!A.hidden&&A.balloonText&&("step"==A.type&&"left"==A.stepDirection&&(m=this.data[t+1]),m)){if((b=m.axes[A.valueAxis.id].graphs[A.id])&&(C=b.y),this.showNextAvailable&&isNaN(C)&&t+1<this.data.length)for(n=t+1;n<this.data.length&&(!(p=this.data[n])||(b=p.axes[A.valueAxis.id].graphs[A.id],C=b.y,isNaN(C)));n++);isNaN(C)||(p=b.x,g=!0,f?(n=C,(0>p||p>c)&&(g=!1)):(n=p,p=C,(0>n||n>u+o+1)&&(g=!1)),g&&(1!=this.graphBulletSize&&AmCharts.isModern&&(g=b.bulletGraphics)&&(g.getBBox(),g.translate(b.bx,b.by,this.graphBulletSize),this.resizedBullets.push(b),y=this.graphBulletAlpha,isNaN(y)||(g.setAttr("fill-opacity",y),g.setAttr("stroke-opacity",y))),g=A.valueBalloon,y=i.getBalloonColor(A,b),g.setBounds(l,d,l+u,d+c),g.pointerOrientation="H",N=this.balloonPointerOrientation,"vertical"==N&&(g.pointerOrientation="V"),"horizontal"==N&&(g.pointerOrientation="H"),g.changeColor(y),void 0!==A.balloonAlpha&&(g.fillAlpha=A.balloonAlpha),void 0!==A.balloonTextColor&&(g.color=A.balloonTextColor),g.setPosition(n+l,p+d),n=i.formatString(A.balloonText,b,!0),(p=A.balloonFunction)&&(n=p(b,A).toString()),""!==n&&(f?g.showBalloon(n):(g.text=n,g.show=!0),v.push({yy:C,balloon:g})),!f&&g.set&&(g.set.hide(),A=g.textDiv)&&(A.style.visibility="hidden")))}this.avoidBalloonOverlapping&&this.arrangeBalloons()}e?(o={type:"changed"},o.index=t,o.chart=this.chart,o.zooming=w,o.mostCloseGraph=D,o.position=f?r:a,o.target=this,i.fire("changed",o),this.fire("changed",o),this.skipZoomDispatch=!1):(this.skipZoomDispatch=!0,i.updateLegendValues(t)),this.previousIndex=t,this.previousMostCloseGraph=D}}}else this.hideCursor()},enableDrawing:function(t){this.enabled=!t,this.hideCursor(),this.rolledOver=!1,this.drawing=t},isZooming:function(t){t&&t!=this.zooming&&this.handleMouseDown("fake"),t||t==this.zooming||this.handleMouseUp()},handleMouseOut:function(){if(this.enabled)if(this.zooming)this.setPosition();else{this.index=void 0;var t={type:"changed",index:void 0,target:this};t.chart=this.chart,this.fire("changed",t),this.hideCursor()}},handleReleaseOutside:function(){this.handleMouseUp()},handleMouseUp:function(){var t,e=this.chart,i=this.data;if(e){var s=e.mouseX-this.x,a=e.mouseY-this.y;if(this.drawingNow){this.drawingNow=!1,AmCharts.remove(this.drawingLine),t=this.drawStartX;var r=this.drawStartY;(2<Math.abs(t-s)||2<Math.abs(r-a))&&(t={type:"draw",target:this,chart:e,initialX:t,initialY:r,finalX:s,finalY:a},this.fire(t.type,t))}if(this.enabled&&0<i.length){if(this.pan)this.rolledOver=!1;else if(this.zoomable&&this.zooming){if(t=this.selectWithoutZooming?{type:"selected"}:{type:"zoomed"},t.target=this,t.chart=e,"cursor"==this.type)this.rotate?this.selectionPosY=a:this.selectionPosX=a=s,2>Math.abs(a-this.initialMouse)&&this.fromIndex==this.index||(this.index<this.fromIndex?(t.end=this.fromIndex,t.start=this.index):(t.end=this.index,t.start=this.fromIndex),a=e.categoryAxis,a.parseDates&&!a.equalSpacing&&(t.start=i[t.start].time,t.end=e.getEndTime(i[t.end].time)),this.skipZoomDispatch||this.fire(t.type,t));else{var h=this.initialMouseX,o=this.initialMouseY;3>Math.abs(s-h)&&3>Math.abs(a-o)||(i=Math.min(h,s),r=Math.min(o,a),s=Math.abs(h-s),a=Math.abs(o-a),e.hideXScrollbar&&(i=0,s=this.width),e.hideYScrollbar&&(r=0,a=this.height),t.selectionHeight=a,t.selectionWidth=s,t.selectionY=r,t.selectionX=i,this.skipZoomDispatch||this.fire(t.type,t))}this.selectWithoutZooming||AmCharts.remove(this.selection)}this.panning=this.zooming=this.skipZoomDispatch=!1}}},showCursorAt:function(t){var e=this.chart.categoryAxis;t=e.parseDates?e.dateToCoordinate(t):e.categoryToCoordinate(t),this.previousMousePosition=0/0,this.forceShow=!0,this.setPosition(t,!1)},clearSelection:function(){AmCharts.remove(this.selection)},handleMouseDown:function(t){if(this.zoomable||this.pan||this.drawing){var e=this.rotate,i=this.chart,s=i.mouseX-this.x,a=i.mouseY-this.y;(s>0&&s<this.width&&a>0&&a<this.height||"fake"==t)&&(this.setPosition(),this.selectWithoutZooming&&AmCharts.remove(this.selection),this.drawing?(this.drawStartY=a,this.drawStartX=s,this.drawingNow=!0):this.pan?(this.zoomable=!1,i.setMouseCursor("move"),this.panning=!0,this.panClickPos=e?a:s,this.panClickStart=this.start,this.panClickEnd=this.end,this.panClickStartTime=this.startTime,this.panClickEndTime=this.endTime):this.zoomable&&("cursor"==this.type?(this.fromIndex=this.index,e?(this.initialMouse=a,this.selectionPosY=this.linePos):(this.initialMouse=s,this.selectionPosX=this.linePos)):(this.initialMouseX=s,this.initialMouseY=a,this.selectionPosX=s,this.selectionPosY=a),this.zooming=!0))
}}}),AmCharts.SimpleChartScrollbar=AmCharts.Class({construct:function(t){this.createEvents("zoomed"),this.backgroundColor="#D4D4D4",this.backgroundAlpha=1,this.selectedBackgroundColor="#EFEFEF",this.scrollDuration=this.selectedBackgroundAlpha=1,this.resizeEnabled=!0,this.hideResizeGrips=!1,this.scrollbarHeight=20,this.updateOnReleaseOnly=!1,9>document.documentMode&&(this.updateOnReleaseOnly=!0),this.dragIconWidth=18,this.dragIconHeight=25,AmCharts.applyTheme(this,t,"SimpleChartScrollbar")},draw:function(){var t=this;t.destroy(),t.interval=setInterval(function(){t.updateScrollbar.call(t)},40);var e=t.chart.container,i=t.rotate,s=t.chart,a=e.set();t.set=a,s.scrollbarsSet.push(a);var r,h;if(i?(r=t.scrollbarHeight,h=s.plotAreaHeight):(h=t.scrollbarHeight,r=s.plotAreaWidth),t.width=r,(t.height=h)&&r){var o=AmCharts.rect(e,r,h,t.backgroundColor,t.backgroundAlpha,1,t.backgroundColor,t.backgroundAlpha);t.bg=o,a.push(o),o=AmCharts.rect(e,r,h,"#000",.005),a.push(o),t.invisibleBg=o,o.click(function(){t.handleBgClick()}).mouseover(function(){t.handleMouseOver()}).mouseout(function(){t.handleMouseOut()}).touchend(function(){t.handleBgClick()}),o=AmCharts.rect(e,r,h,t.selectedBackgroundColor,t.selectedBackgroundAlpha),t.selectedBG=o,a.push(o),r=AmCharts.rect(e,r,h,"#000",.005),t.dragger=r,a.push(r),r.mousedown(function(e){t.handleDragStart(e)}).mouseup(function(){t.handleDragStop()}).mouseover(function(){t.handleDraggerOver()}).mouseout(function(){t.handleMouseOut()}).touchstart(function(e){t.handleDragStart(e)}).touchend(function(){t.handleDragStop()}),r=s.pathToImages,i?(o=r+"dragIconH.gif",r=t.dragIconWidth,i=t.dragIconHeight):(o=r+"dragIcon.gif",i=t.dragIconWidth,r=t.dragIconHeight),h=e.image(o,0,0,i,r);var o=e.image(o,0,0,i,r),n=10,l=20;s.panEventsEnabled&&(n=25,l=t.scrollbarHeight);var d=AmCharts.rect(e,n,l,"#000",.005),u=AmCharts.rect(e,n,l,"#000",.005);u.translate(-(n-i)/2,-(l-r)/2),d.translate(-(n-i)/2,-(l-r)/2),i=e.set([h,u]),e=e.set([o,d]),t.iconLeft=i,t.iconRight=e,i.mousedown(function(){t.leftDragStart()}).mouseup(function(){t.leftDragStop()}).mouseover(function(){t.iconRollOver()}).mouseout(function(){t.iconRollOut()}).touchstart(function(){t.leftDragStart()}).touchend(function(){t.leftDragStop()}),e.mousedown(function(){t.rightDragStart()}).mouseup(function(){t.rightDragStop()}).mouseover(function(){t.iconRollOver()}).mouseout(function(){t.iconRollOut()}).touchstart(function(){t.rightDragStart()}).touchend(function(){t.rightDragStop()}),AmCharts.ifArray(s.chartData)?a.show():a.hide(),t.hideDragIcons(),t.clipDragger(!1)}a.translate(t.x,t.y)},updateScrollbarSize:function(t,e){var i,s,a,r,h=this.dragger;this.rotate?(i=0,s=t,a=this.width+1,r=e-t,h.setAttr("height",e-t),h.setAttr("y",s)):(i=t,s=0,a=e-t,r=this.height+1,h.setAttr("width",e-t),h.setAttr("x",i)),this.clipAndUpdate(i,s,a,r)},updateScrollbar:function(){var t,e,i,s=!1,a=this.x,r=this.y,h=this.dragger,o=this.getDBox();e=o.x+a,i=o.y+r;var n=o.width,o=o.height,l=this.rotate,d=this.chart,u=this.width,c=this.height,m=d.mouseX,p=d.mouseY;t=this.initialMouse,d.mouseIsOver&&(this.dragging&&(d=this.initialCoord,l?(t=d+(p-t),0>t&&(t=0),d=c-o,t>d&&(t=d),h.setAttr("y",t)):(t=d+(m-t),0>t&&(t=0),d=u-n,t>d&&(t=d),h.setAttr("x",t))),this.resizingRight&&(l?(t=p-i,t+i>c+r&&(t=c-i+r),0>t?(this.resizingRight=!1,s=this.resizingLeft=!0):(0===t&&(t=.1),h.setAttr("height",t))):(t=m-e,t+e>u+a&&(t=u-e+a),0>t?(this.resizingRight=!1,s=this.resizingLeft=!0):(0===t&&(t=.1),h.setAttr("width",t)))),this.resizingLeft&&(l?(e=i,i=p,r>i&&(i=r),i>c+r&&(i=c+r),t=!0===s?e-i:o+e-i,0>t?(this.resizingRight=!0,this.resizingLeft=!1,h.setAttr("y",e+o-r)):(0===t&&(t=.1),h.setAttr("y",i-r),h.setAttr("height",t))):(i=m,a>i&&(i=a),i>u+a&&(i=u+a),t=!0===s?e-i:n+e-i,0>t?(this.resizingRight=!0,this.resizingLeft=!1,h.setAttr("x",e+n-a)):(0===t&&(t=.1),h.setAttr("x",i-a),h.setAttr("width",t)))),this.clipDragger(!0))},clipDragger:function(t){var e=this.getDBox();if(e){var i=e.x,s=e.y,a=e.width,e=e.height,r=!1;this.rotate?(i=0,a=this.width+1,(this.clipY!=s||this.clipH!=e)&&(r=!0)):(s=0,e=this.height+1,(this.clipX!=i||this.clipW!=a)&&(r=!0)),r&&(this.clipAndUpdate(i,s,a,e),t&&(this.updateOnReleaseOnly||this.dispatchScrollbarEvent()))}},maskGraphs:function(){},clipAndUpdate:function(t,e,i,s){this.clipX=t,this.clipY=e,this.clipW=i,this.clipH=s,this.selectedBG.clipRect(t,e,i,s),this.updateDragIconPositions(),this.maskGraphs(t,e,i,s)},dispatchScrollbarEvent:function(){if(this.skipEvent)this.skipEvent=!1;else{var t=this.chart;t.hideBalloon();var e=this.getDBox(),i=e.x,s=e.y,a=e.width,e=e.height;this.rotate?(i=s,a=this.height/e):a=this.width/a,t={type:"zoomed",position:i,chart:t,target:this,multiplier:a},this.fire(t.type,t)}},updateDragIconPositions:function(){var t,e,i=this.getDBox(),s=i.x,a=i.y,r=this.iconLeft,h=this.iconRight,o=this.scrollbarHeight;this.rotate?(t=this.dragIconWidth,e=this.dragIconHeight,r.translate(this.x+(o-e)/2,this.y+a-t/2),h.translate(this.x+(o-e)/2,this.y+a+i.height-t/2)):(t=this.dragIconHeight,e=this.dragIconWidth,r.translate(this.x+s-e/2,this.y+(o-t)/2),h.translate(this.x+s-e/2+i.width,this.y+(o-t)/2))},showDragIcons:function(){this.resizeEnabled&&(this.iconLeft.show(),this.iconRight.show())},hideDragIcons:function(){this.resizingLeft||this.resizingRight||this.dragging||((this.hideResizeGrips||!this.resizeEnabled)&&(this.iconLeft.hide(),this.iconRight.hide()),this.removeCursors())},removeCursors:function(){this.chart.setMouseCursor("auto")},relativeZoom:function(t,e){this.dragger.stop(),this.multiplier=t,this.position=e,this.updateScrollbarSize(e,this.rotate?e+this.height/t:e+this.width/t)},destroy:function(){this.clear(),AmCharts.remove(this.set),AmCharts.remove(this.iconRight),AmCharts.remove(this.iconLeft)},clear:function(){clearInterval(this.interval)},handleDragStart:function(){var t=this.chart;this.dragger.stop(),this.removeCursors(),this.dragging=!0;var e=this.getDBox();this.rotate?(this.initialCoord=e.y,this.initialMouse=t.mouseY):(this.initialCoord=e.x,this.initialMouse=t.mouseX)},handleDragStop:function(){this.updateOnReleaseOnly&&(this.updateScrollbar(),this.skipEvent=!1,this.dispatchScrollbarEvent()),this.dragging=!1,this.mouseIsOver&&this.removeCursors(),this.updateScrollbar()},handleDraggerOver:function(){this.handleMouseOver()},leftDragStart:function(){this.dragger.stop(),this.resizingLeft=!0},leftDragStop:function(){this.resizingLeft=!1,this.mouseIsOver||this.removeCursors(),this.updateOnRelease()},rightDragStart:function(){this.dragger.stop(),this.resizingRight=!0},rightDragStop:function(){this.resizingRight=!1,this.mouseIsOver||this.removeCursors(),this.updateOnRelease()},iconRollOut:function(){this.removeCursors()},iconRollOver:function(){this.chart.setMouseCursor(this.rotate?"n-resize":"e-resize"),this.handleMouseOver()},getDBox:function(){return this.dragger?this.dragger.getBBox():void 0},handleBgClick:function(){if(!this.resizingRight&&!this.resizingLeft){this.zooming=!0;var t,e,i=this.scrollDuration,s=this.dragger;t=this.getDBox();var a=t.height,r=t.width;e=this.chart;var h=this.y,o=this.x,n=this.rotate;n?(t="y",e=e.mouseY-a/2-h,e=AmCharts.fitToBounds(e,0,this.height-a)):(t="x",e=e.mouseX-r/2-o,e=AmCharts.fitToBounds(e,0,this.width-r)),this.updateOnReleaseOnly?(this.skipEvent=!1,s.setAttr(t,e),this.dispatchScrollbarEvent(),this.clipDragger()):(e=Math.round(e),n?s.animate({y:e},i,">"):s.animate({x:e},i,">"))}},updateOnRelease:function(){this.updateOnReleaseOnly&&(this.updateScrollbar(),this.skipEvent=!1,this.dispatchScrollbarEvent())},handleReleaseOutside:function(){this.set&&((this.resizingLeft||this.resizingRight||this.dragging)&&(this.updateOnRelease(),this.removeCursors()),this.mouseIsOver=this.dragging=this.resizingRight=this.resizingLeft=!1,this.hideDragIcons(),this.updateScrollbar())},handleMouseOver:function(){this.mouseIsOver=!0,this.showDragIcons()},handleMouseOut:function(){this.mouseIsOver=!1,this.hideDragIcons()}}),AmCharts.ChartScrollbar=AmCharts.Class({inherits:AmCharts.SimpleChartScrollbar,construct:function(t){this.cname="ChartScrollbar",AmCharts.ChartScrollbar.base.construct.call(this,t),this.graphLineColor="#BBBBBB",this.graphLineAlpha=0,this.graphFillColor="#BBBBBB",this.graphFillAlpha=1,this.selectedGraphLineColor="#888888",this.selectedGraphLineAlpha=0,this.selectedGraphFillColor="#888888",this.selectedGraphFillAlpha=1,this.gridCount=0,this.gridColor="#FFFFFF",this.gridAlpha=.7,this.skipEvent=this.autoGridCount=!1,this.color="#FFFFFF",this.scrollbarCreated=!1,this.offset=0,AmCharts.applyTheme(this,t,this.cname)},init:function(){var t=this.categoryAxis,e=this.chart;if(t||(this.categoryAxis=t=new AmCharts.CategoryAxis),t.chart=e,t.id="scrollbar",t.dateFormats=e.categoryAxis.dateFormats,t.markPeriodChange=e.categoryAxis.markPeriodChange,t.boldPeriodBeginning=e.categoryAxis.boldPeriodBeginning,t.axisItemRenderer=AmCharts.RecItem,t.axisRenderer=AmCharts.RecAxis,t.guideFillRenderer=AmCharts.RecFill,t.inside=!0,t.fontSize=this.fontSize,t.tickLength=0,t.axisAlpha=0,AmCharts.isString(this.graph)&&(this.graph=AmCharts.getObjById(e.graphs,this.graph)),t=this.graph){var i=this.valueAxis;i||(this.valueAxis=i=new AmCharts.ValueAxis,i.visible=!1,i.scrollbar=!0,i.axisItemRenderer=AmCharts.RecItem,i.axisRenderer=AmCharts.RecAxis,i.guideFillRenderer=AmCharts.RecFill,i.labelsEnabled=!1,i.chart=e),e=this.unselectedGraph,e||(e=new AmCharts.AmGraph,e.scrollbar=!0,this.unselectedGraph=e,e.negativeBase=t.negativeBase,e.noStepRisers=t.noStepRisers),e=this.selectedGraph,e||(e=new AmCharts.AmGraph,e.scrollbar=!0,this.selectedGraph=e,e.negativeBase=t.negativeBase,e.noStepRisers=t.noStepRisers)}this.scrollbarCreated=!0},draw:function(){var t=this;AmCharts.ChartScrollbar.base.draw.call(t),t.scrollbarCreated||t.init();var e=t.chart,i=e.chartData,s=t.categoryAxis,a=t.rotate,r=t.x,h=t.y,o=t.width,n=t.height,l=e.categoryAxis,d=t.set;if(s.setOrientation(!a),s.parseDates=l.parseDates,s.rotate=a,s.equalSpacing=l.equalSpacing,s.minPeriod=l.minPeriod,s.startOnAxis=l.startOnAxis,s.viW=o,s.viH=n,s.width=o,s.height=n,s.gridCount=t.gridCount,s.gridColor=t.gridColor,s.gridAlpha=t.gridAlpha,s.color=t.color,s.tickLength=0,s.axisAlpha=0,s.autoGridCount=t.autoGridCount,s.parseDates&&!s.equalSpacing&&s.timeZoom(e.firstTime,e.lastTime),s.zoom(0,i.length-1),l=t.graph){var u=t.valueAxis,c=l.valueAxis;u.id=c.id,u.rotate=a,u.setOrientation(a),u.width=o,u.height=n,u.viW=o,u.viH=n,u.dataProvider=i,u.reversed=c.reversed,u.logarithmic=c.logarithmic,u.gridAlpha=0,u.axisAlpha=0,d.push(u.set),a?(u.y=h,u.x=0):(u.x=r,u.y=0);var m,r=1/0,h=-1/0;for(m=0;m<i.length;m++){var p,f=i[m].axes[c.id].graphs[l.id].values;for(p in f)if(f.hasOwnProperty(p)&&"percents"!=p&&"total"!=p){var g=f[p];r>g&&(r=g),g>h&&(h=g)}}1/0!=r&&(u.minimum=r),-1/0!=h&&(u.maximum=h+.1*(h-r)),r==h&&(u.minimum-=1,u.maximum+=1),void 0!==t.minimum&&(u.minimum=t.minimum),void 0!==t.maximum&&(u.maximum=t.maximum),u.zoom(0,i.length-1),p=t.unselectedGraph,p.id=l.id,p.rotate=a,p.chart=e,p.data=i,p.valueAxis=u,p.chart=l.chart,p.categoryAxis=t.categoryAxis,p.periodSpan=l.periodSpan,p.valueField=l.valueField,p.openField=l.openField,p.closeField=l.closeField,p.highField=l.highField,p.lowField=l.lowField,p.lineAlpha=t.graphLineAlpha,p.lineColorR=t.graphLineColor,p.fillAlphas=t.graphFillAlpha,p.fillColorsR=t.graphFillColor,p.connect=l.connect,p.hidden=l.hidden,p.width=o,p.height=n,p.pointPosition=l.pointPosition,p.stepDirection=l.stepDirection,p.periodSpan=l.periodSpan,c=t.selectedGraph,c.id=l.id,c.rotate=a,c.chart=e,c.data=i,c.valueAxis=u,c.chart=l.chart,c.categoryAxis=s,c.periodSpan=l.periodSpan,c.valueField=l.valueField,c.openField=l.openField,c.closeField=l.closeField,c.highField=l.highField,c.lowField=l.lowField,c.lineAlpha=t.selectedGraphLineAlpha,c.lineColorR=t.selectedGraphLineColor,c.fillAlphas=t.selectedGraphFillAlpha,c.fillColorsR=t.selectedGraphFillColor,c.connect=l.connect,c.hidden=l.hidden,c.width=o,c.height=n,c.pointPosition=l.pointPosition,c.stepDirection=l.stepDirection,c.periodSpan=l.periodSpan,e=t.graphType,e||(e=l.type),p.type=e,c.type=e,i=i.length-1,p.zoom(0,i),c.zoom(0,i),c.set.click(function(){t.handleBackgroundClick()}).mouseover(function(){t.handleMouseOver()}).mouseout(function(){t.handleMouseOut()}),p.set.click(function(){t.handleBackgroundClick()}).mouseover(function(){t.handleMouseOver()}).mouseout(function(){t.handleMouseOut()}),d.push(p.set),d.push(c.set)}d.push(s.set),d.push(s.labelsSet),t.bg.toBack(),t.invisibleBg.toFront(),t.dragger.toFront(),t.iconLeft.toFront(),t.iconRight.toFront()},timeZoom:function(t,e,i){this.startTime=t,this.endTime=e,this.timeDifference=e-t,this.skipEvent=!AmCharts.toBoolean(i),this.zoomScrollbar(),this.skipEvent||this.dispatchScrollbarEvent()},zoom:function(t,e){this.start=t,this.end=e,this.skipEvent=!0,this.zoomScrollbar()},dispatchScrollbarEvent:function(){if(this.skipEvent)this.skipEvent=!1;else{var t,e,i=this.chart.chartData,s=this.dragger.getBBox();t=s.x;var a=s.y,r=s.width;e=s.height,s=this.chart,this.rotate?t=a:e=r,r={type:"zoomed",target:this},r.chart=s;var h=this.categoryAxis,o=this.stepWidth,a=s.minSelectedTime;h.parseDates&&!h.equalSpacing?(i=s.lastTime,s=s.firstTime,h.minDuration(),h=Math.round(t/o)+s,t=this.dragging?h+this.timeDifference:Math.round((t+e)/o)+s,h>t&&(h=t),a>0&&a>t-h&&(t=Math.round(h+(t-h)/2),e=Math.round(a/2),h=t-e,t+=e),t>i&&(t=i),h>t-a&&(h=t-a),s>h&&(h=s),h+a>t&&(t=h+a),(h!=this.startTime||t!=this.endTime)&&(this.startTime=h,this.endTime=t,r.start=h,r.end=t,r.startDate=new Date(h),r.endDate=new Date(t),this.fire(r.type,r))):(h.startOnAxis||(t+=o/2),e-=this.stepWidth/2,a=h.xToIndex(t),t=h.xToIndex(t+e),(a!=this.start||this.end!=t)&&(h.startOnAxis&&(this.resizingRight&&a==t&&t++,this.resizingLeft&&a==t&&(a>0?a--:t=1)),this.start=a,this.end=this.dragging?this.start+this.difference:t,r.start=this.start,r.end=this.end,h.parseDates&&(i[this.start]&&(r.startDate=new Date(i[this.start].time)),i[this.end]&&(r.endDate=new Date(i[this.end].time))),this.fire(r.type,r)))}this.zoomScrollbar()},zoomScrollbar:function(){var t,e;t=this.chart;var i=t.chartData,s=this.categoryAxis;s.parseDates&&!s.equalSpacing?(i=s.stepWidth,s=t.firstTime,t=i*(this.startTime-s),e=i*(this.endTime-s)):(t=i[this.start].x[s.id],e=i[this.end].x[s.id],i=s.stepWidth,s.startOnAxis||(s=i/2,t-=s,e+=s)),this.stepWidth=i,this.updateScrollbarSize(t,e)},maskGraphs:function(t,e,i,s){var a=this.selectedGraph;a&&a.set.clipRect(t,e,i,s)},handleDragStart:function(){AmCharts.ChartScrollbar.base.handleDragStart.call(this),this.difference=this.end-this.start,this.timeDifference=this.endTime-this.startTime,0>this.timeDifference&&(this.timeDifference=0)},handleBackgroundClick:function(){AmCharts.ChartScrollbar.base.handleBackgroundClick.call(this),this.dragging||(this.difference=this.end-this.start,this.timeDifference=this.endTime-this.startTime,0>this.timeDifference&&(this.timeDifference=0))}}),AmCharts.AmBalloon=AmCharts.Class({construct:function(t){this.cname="AmBalloon",this.enabled=!0,this.fillColor="#FFFFFF",this.fillAlpha=.8,this.borderThickness=2,this.borderColor="#FFFFFF",this.borderAlpha=1,this.cornerRadius=0,this.maximumWidth=220,this.horizontalPadding=8,this.verticalPadding=4,this.pointerWidth=6,this.pointerOrientation="V",this.color="#000000",this.adjustBorderColor=!0,this.show=this.follow=this.showBullet=!1,this.bulletSize=3,this.shadowAlpha=.4,this.shadowColor="#000000",this.fadeOutDuration=this.animationDuration=.3,this.fixedPosition=!1,this.offsetY=6,this.offsetX=1,this.textAlign="center",AmCharts.isModern||(this.offsetY*=1.5),AmCharts.applyTheme(this,t,this.cname)},draw:function(){var t=this.pointToX,e=this.pointToY;this.deltaSignX=this.deltaSignY=1;var i=this.chart;if(AmCharts.VML&&(this.fadeOutDuration=0),this.xAnim&&i.stopAnim(this.xAnim),this.yAnim&&i.stopAnim(this.yAnim),!isNaN(t)){var s=this.follow,a=i.container,r=this.set;if(AmCharts.remove(r),this.removeDiv(),r=a.set(),r.node.style.pointerEvents="none",this.set=r,i.balloonsSet.push(r),this.show){var h=this.l,o=this.t,n=this.r,l=this.b,d=this.balloonColor,u=this.fillColor,c=this.borderColor,m=u;void 0!=d&&(this.adjustBorderColor?m=c=d:u=d);var p=this.horizontalPadding,f=this.verticalPadding,g=this.pointerWidth,v=this.pointerOrientation,C=this.cornerRadius,A=i.fontFamily,b=this.fontSize;void 0==b&&(b=i.fontSize);var d=document.createElement("div"),x=d.style;x.pointerEvents="none",x.position="absolute";var y=this.minWidth,w="";isNaN(y)||(w="min-width:"+(y-2*p)+"px; "),d.innerHTML='<div style="text-align:'+this.textAlign+"; "+w+"max-width:"+this.maxWidth+"px; font-size:"+b+"px; color:"+this.color+"; font-family:"+A+'">'+this.text+"</div>",i.chartDiv.appendChild(d),this.textDiv=d,b=d.offsetWidth,A=d.offsetHeight,d.clientHeight&&(b=d.clientWidth,A=d.clientHeight),A+=2*f,w=b+2*p,!isNaN(y)&&y>w&&(w=y),window.opera&&(A+=2);var M=!1,b=this.offsetY;i.handDrawn&&(b+=i.handDrawScatter+2),"H"!=v?(y=t-w/2,o+A+10>e&&"down"!=v?(M=!0,s&&(e+=b),b=e+g,this.deltaSignY=-1):(s&&(e-=b),b=e-A-g,this.deltaSignY=1)):(2*g>A&&(g=A/2),b=e-A/2,h+(n-h)/2>t?(y=t+g,this.deltaSignX=-1):(y=t-w-g,this.deltaSignX=1)),b+A>=l&&(b=l-A),o>b&&(b=o),h>y&&(y=h),y+w>n&&(y=n-w);var S,o=b+f,l=y+p,f=this.shadowAlpha,N=this.shadowColor,p=this.borderThickness,D=this.bulletSize;C>0||0===g?(f>0&&(t=AmCharts.rect(a,w,A,u,0,p+1,N,f,this.cornerRadius),AmCharts.isModern?t.translate(1,1):t.translate(4,4),r.push(t)),u=AmCharts.rect(a,w,A,u,this.fillAlpha,p,c,this.borderAlpha,this.cornerRadius),this.showBullet&&(S=AmCharts.circle(a,D,m,this.fillAlpha),r.push(S))):(m=[],C=[],"H"!=v?(h=t-y,h>w-g&&(h=w-g),g>h&&(h=g),m=[0,h-g,t-y,h+g,w,w,0,0],C=M?[0,0,e-b,0,0,A,A,0]:[A,A,e-b,A,A,0,0,A]):(m=e-b,m>A-g&&(m=A-g),g>m&&(m=g),C=[0,m-g,e-b,m+g,A,A,0,0],m=h+(n-h)/2>t?[0,0,t>y?0:t-y,0,0,w,w,0]:[w,w,y+w>t?w:t-y,w,w,0,0,w]),f>0&&(t=AmCharts.polygon(a,m,C,u,0,p,N,f),t.translate(1,1),r.push(t)),u=AmCharts.polygon(a,m,C,u,this.fillAlpha,p,c,this.borderAlpha)),this.bg=u,r.push(u),u.toFront(),a=1*this.deltaSignX,x.left=l+"px",x.top=o+"px",r.translate(y-a,b),u=u.getBBox(),this.bottom=b+A+1,this.yPos=u.y+b,S&&S.translate(this.pointToX-y+a,e-b),e=this.animationDuration,0<this.animationDuration&&!s&&!isNaN(this.prevX)&&(r.translate(this.prevX,this.prevY),r.animate({translate:y-a+","+b},e,"easeOutSine"),d&&(x.left=this.prevTX+"px",x.top=this.prevTY+"px",this.xAnim=i.animate({node:d},"left",this.prevTX,l,e,"easeOutSine","px"),this.yAnim=i.animate({node:d},"top",this.prevTY,o,e,"easeOutSine","px"))),this.prevX=y-a,this.prevY=b,this.prevTX=l,this.prevTY=o}}},followMouse:function(){if(this.follow&&this.show){var t=this.chart.mouseX-this.offsetX*this.deltaSignX,e=this.chart.mouseY;if(this.pointToX=t,this.pointToY=e,t!=this.previousX||e!=this.previousY)if(this.previousX=t,this.previousY=e,0===this.cornerRadius)this.draw();else{var i=this.set;if(i){var s=i.getBBox(),t=t-s.width/2,a=e-s.height-10;t<this.l&&(t=this.l),t>this.r-s.width&&(t=this.r-s.width),a<this.t&&(a=e+10),i.translate(t,a),e=this.textDiv.style,e.left=t+this.horizontalPadding+"px",e.top=a+this.verticalPadding+"px"}}}},changeColor:function(t){this.balloonColor=t},setBounds:function(t,e,i,s){this.l=t,this.t=e,this.r=i,this.b=s,this.destroyTO&&clearTimeout(this.destroyTO)},showBalloon:function(t){this.text=t,this.show=!0,this.destroyTO&&clearTimeout(this.destroyTO),t=this.chart,this.fadeAnim1&&t.stopAnim(this.fadeAnim1),this.fadeAnim2&&t.stopAnim(this.fadeAnim2),this.draw()},hide:function(){var t=this,e=t.fadeOutDuration,i=t.chart;if(e>0){t.destroyTO=setTimeout(function(){t.destroy.call(t)},1e3*e),t.follow=!1,t.show=!1;var s=t.set;s&&(s.setAttr("opacity",t.fillAlpha),t.fadeAnim1=s.animate({opacity:0},e,"easeInSine")),t.textDiv&&(t.fadeAnim2=i.animate({node:t.textDiv},"opacity",1,0,e,"easeInSine",""))}else t.show=!1,t.follow=!1,t.destroy()},setPosition:function(t,e,i){this.pointToX=t,this.pointToY=e,i&&(t==this.previousX&&e==this.previousY||this.draw()),this.previousX=t,this.previousY=e},followCursor:function(t){var e=this;(e.follow=t)?(e.pShowBullet=e.showBullet,e.showBullet=!1):void 0!==e.pShowBullet&&(e.showBullet=e.pShowBullet),clearInterval(e.interval);var i=e.chart.mouseX,s=e.chart.mouseY;!isNaN(i)&&t&&(e.pointToX=i-e.offsetX*e.deltaSignX,e.pointToY=s,e.followMouse(),e.interval=setInterval(function(){e.followMouse.call(e)},40))},removeDiv:function(){if(this.textDiv){var t=this.textDiv.parentNode;t&&t.removeChild(this.textDiv)}},destroy:function(){clearInterval(this.interval),AmCharts.remove(this.set),this.removeDiv(),this.set=null}}),AmCharts.AmCoordinateChart=AmCharts.Class({inherits:AmCharts.AmChart,construct:function(t){AmCharts.AmCoordinateChart.base.construct.call(this,t),this.theme=t,this.createEvents("rollOverGraphItem","rollOutGraphItem","clickGraphItem","doubleClickGraphItem","rightClickGraphItem","clickGraph","rollOverGraph","rollOutGraph"),this.startAlpha=1,this.startDuration=0,this.startEffect="elastic",this.sequencedAnimation=!0,this.colors="#FF6600 #FCD202 #B0DE09 #0D8ECF #2A0CD0 #CD0D74 #CC0000 #00CC00 #0000CC #DDDDDD #999999 #333333 #990000".split(" "),this.balloonDateFormat="MMM DD, YYYY",this.valueAxes=[],this.graphs=[],this.guides=[],this.gridAboveGraphs=!1,AmCharts.applyTheme(this,t,"AmCoordinateChart")},initChart:function(){AmCharts.AmCoordinateChart.base.initChart.call(this);var t=this.categoryAxis;t&&(this.categoryAxis=AmCharts.processObject(t,AmCharts.CategoryAxis,this.theme)),this.processValueAxes(),this.createValueAxes(),this.processGraphs(),this.processGuides(),AmCharts.VML&&(this.startAlpha=1),this.setLegendData(this.graphs),this.gridAboveGraphs&&this.gridSet.toFront()},createValueAxes:function(){if(0===this.valueAxes.length){var t=new AmCharts.ValueAxis;this.addValueAxis(t)}},parseData:function(){this.processValueAxes(),this.processGraphs()},parseSerialData:function(){var t,e=this.graphs,i={},s=this.seriesIdField;s||(s=this.categoryField),this.chartData=[];var a=this.dataProvider;if(a){var r,h,o,n=!1,l=this.categoryAxis;l&&(n=l.parseDates,h=l.forceShowField,o=l.labelColorField,r=l.categoryFunction);var d,u,c,m={};n&&(t=AmCharts.extractPeriod(l.minPeriod),d=t.period,u=t.count,c=AmCharts.getPeriodDuration(d,u));var p={};this.lookupTable=p;var f,g=this.dataDateFormat,v={};for(f=0;f<a.length;f++){var C={},A=a[f];if(t=A[this.categoryField],C.dataContext=A,C.category=r?r(t,A,l):String(t),h&&(C.forceShow=A[h]),o&&(C.labelColor=A[o]),p[A[s]]=C,!n||(t=l.categoryFunction?l.categoryFunction(t,A,l):t instanceof Date?AmCharts.newDate(t,l.minPeriod):g?AmCharts.stringToDate(t,g):new Date(t),t=AmCharts.resetDateToMin(t,d,u,l.firstDayOfWeek),C.category=t,C.time=t.getTime(),!isNaN(C.time))){var b=this.valueAxes;C.axes={},C.x={};var x;for(x=0;x<b.length;x++){var y=b[x].id;C.axes[y]={},C.axes[y].graphs={};var w;for(w=0;w<e.length;w++){t=e[w];var M=t.id,S=t.periodValue;if(t.valueAxis.id==y){C.axes[y].graphs[M]={};var N={};N.index=f;var D=A;t.dataProvider&&(D=i),N.values=this.processValues(D,t,S),!t.connect&&v&&v[M]&&C.time-m[M]>1.1*c&&(v[M].gap=!0),this.processFields(t,N,D),N.category=C.category,N.serialDataItem=C,N.graph=t,C.axes[y].graphs[M]=N}m[M]=C.time,v[M]=N}}this.chartData[f]=C}}}for(i=0;i<e.length;i++)t=e[i],t.dataProvider&&this.parseGraphData(t)},processValues:function(t,e,i){var s,a={},r=!1;return"candlestick"!=e.type&&"ohlc"!=e.type||""===i||(r=!0),s=Number(t[e.valueField+i]),isNaN(s)||(a.value=s),s=Number(t[e.errorField+i]),isNaN(s)||(a.error=s),r&&(i="Open"),s=Number(t[e.openField+i]),isNaN(s)||(a.open=s),r&&(i="Close"),s=Number(t[e.closeField+i]),isNaN(s)||(a.close=s),r&&(i="Low"),s=Number(t[e.lowField+i]),isNaN(s)||(a.low=s),r&&(i="High"),s=Number(t[e.highField+i]),isNaN(s)||(a.high=s),a},parseGraphData:function(t){var e=t.dataProvider,i=t.seriesIdField;i||(i=this.seriesIdField),i||(i=this.categoryField);var s;for(s=0;s<e.length;s++){var a=e[s],r=this.lookupTable[String(a[i])],h=t.valueAxis.id;r&&(h=r.axes[h].graphs[t.id],h.serialDataItem=r,h.values=this.processValues(a,t,t.periodValue),this.processFields(t,h,a))}},addValueAxis:function(t){t.chart=this,this.valueAxes.push(t),this.validateData()},removeValueAxesAndGraphs:function(){var t,e=this.valueAxes;for(t=e.length-1;t>-1;t--)this.removeValueAxis(e[t])},removeValueAxis:function(t){var e,i=this.graphs;for(e=i.length-1;e>=0;e--){var s=i[e];s&&s.valueAxis==t&&this.removeGraph(s)}for(i=this.valueAxes,e=i.length-1;e>=0;e--)i[e]==t&&i.splice(e,1);this.validateData()},addGraph:function(t){this.graphs.push(t),this.chooseGraphColor(t,this.graphs.length-1),this.validateData()},removeGraph:function(t){var e,i=this.graphs;for(e=i.length-1;e>=0;e--)i[e]==t&&(i.splice(e,1),t.destroy());this.validateData()},processValueAxes:function(){var t,e=this.valueAxes;for(t=0;t<e.length;t++){var i=e[t],i=AmCharts.processObject(i,AmCharts.ValueAxis,this.theme);e[t]=i,i.chart=this,i.id||(i.id="valueAxisAuto"+t+"_"+(new Date).getTime()),void 0===i.usePrefixes&&(i.usePrefixes=this.usePrefixes)}},processGuides:function(){var t=this.guides,e=this.categoryAxis;if(t)for(var i=0;i<t.length;i++){var s=t[i];(void 0!==s.category||void 0!==s.date)&&e&&e.addGuide(s);var a=s.valueAxis;a?(AmCharts.isString(a)&&(a=this.getValueAxisById(a)),a?a.addGuide(s):this.valueAxes[0].addGuide(s)):isNaN(s.value)||this.valueAxes[0].addGuide(s)}},processGraphs:function(){var t,e=this.graphs;for(t=0;t<e.length;t++){var i=e[t],i=AmCharts.processObject(i,AmCharts.AmGraph,this.theme);e[t]=i,this.chooseGraphColor(i,t),i.chart=this,AmCharts.isString(i.valueAxis)&&(i.valueAxis=this.getValueAxisById(i.valueAxis)),i.valueAxis||(i.valueAxis=this.valueAxes[0]),i.id||(i.id="graphAuto"+t+"_"+(new Date).getTime())}},formatString:function(t,e,i){var s=e.graph,a=s.valueAxis;return a.duration&&e.values.value&&(a=AmCharts.formatDuration(e.values.value,a.duration,"",a.durationUnits,a.maxInterval,a.numberFormatter),t=t.split("[[value]]").join(a)),t=AmCharts.massReplace(t,{"[[title]]":s.title,"[[description]]":e.description}),t=i?AmCharts.fixNewLines(t):AmCharts.fixBrakes(t),t=AmCharts.cleanFromEmpty(t)},getBalloonColor:function(t,e,i){var s=t.lineColor,a=t.balloonColor;return i&&(a=s),i=t.fillColorsR,"object"==typeof i?s=i[0]:void 0!==i&&(s=i),e.isNegative&&(i=t.negativeLineColor,t=t.negativeFillColors,"object"==typeof t?i=t[0]:void 0!==t&&(i=t),void 0!==i&&(s=i)),void 0!==e.color&&(s=e.color),void 0===a&&(a=s),a},getGraphById:function(t){return AmCharts.getObjById(this.graphs,t)},getValueAxisById:function(t){return AmCharts.getObjById(this.valueAxes,t)},processFields:function(t,e,i){if(t.itemColors){var s=t.itemColors,a=e.index;e.color=a<s.length?s[a]:AmCharts.randomColor()}for(s="lineColor color alpha fillColors description bullet customBullet bulletSize bulletConfig url labelColor dashLength pattern".split(" "),a=0;a<s.length;a++){var r=s[a],h=t[r+"Field"];h&&(h=i[h],AmCharts.isDefined(h)&&(e[r]=h))}e.dataContext=i},chooseGraphColor:function(t,e){if(t.lineColor)t.lineColorR=t.lineColor;else{var i;i=this.colors.length>e?this.colors[e]:AmCharts.randomColor(),t.lineColorR=i}t.fillColorsR=t.fillColors?t.fillColors:t.lineColorR,t.bulletBorderColorR=t.bulletBorderColor?t.bulletBorderColor:t.useLineColorForBulletBorder?t.lineColorR:t.bulletColor,t.bulletColorR=t.bulletColor?t.bulletColor:t.lineColorR,(i=this.patterns)&&(t.pattern=i[e])},handleLegendEvent:function(t){var e=t.type;if(t=t.dataItem,!this.legend.data&&t){var i=t.hidden,s=t.showBalloon;switch(e){case"clickMarker":this.textClickEnabled&&(s?this.hideGraphsBalloon(t):this.showGraphsBalloon(t));break;case"clickLabel":s?this.hideGraphsBalloon(t):this.showGraphsBalloon(t);break;case"rollOverItem":i||this.highlightGraph(t);break;case"rollOutItem":i||this.unhighlightGraph();break;case"hideItem":this.hideGraph(t);break;case"showItem":this.showGraph(t)}}},highlightGraph:function(t){var e,i=this.graphs,s=.2;if(this.legend&&(s=this.legend.rollOverGraphAlpha),1!=s)for(e=0;e<i.length;e++){var a=i[e];a!=t&&a.changeOpacity(s)}},unhighlightGraph:function(){var t;if(this.legend&&(t=this.legend.rollOverGraphAlpha),1!=t){t=this.graphs;var e;for(e=0;e<t.length;e++)t[e].changeOpacity(1)}},showGraph:function(t){t.switchable&&(t.hidden=!1,this.dataChanged=!0,"xy"!=this.type&&(this.marginsUpdated=!1),this.chartCreated&&this.initChart())},hideGraph:function(t){t.switchable&&(this.dataChanged=!0,"xy"!=this.type&&(this.marginsUpdated=!1),t.hidden=!0,this.chartCreated&&this.initChart())},hideGraphsBalloon:function(t){t.showBalloon=!1,this.updateLegend()},showGraphsBalloon:function(t){t.showBalloon=!0,this.updateLegend()},updateLegend:function(){this.legend&&this.legend.invalidateSize()},resetAnimation:function(){var t=this.graphs;if(t){var e;for(e=0;e<t.length;e++)t[e].animationPlayed=!1}},animateAgain:function(){this.resetAnimation(),this.validateNow()}}),AmCharts.AmSlicedChart=AmCharts.Class({inherits:AmCharts.AmChart,construct:function(t){this.createEvents("rollOverSlice","rollOutSlice","clickSlice","pullOutSlice","pullInSlice","rightClickSlice"),AmCharts.AmSlicedChart.base.construct.call(this,t),this.colors="#FF0F00 #FF6600 #FF9E01 #FCD202 #F8FF01 #B0DE09 #04D215 #0D8ECF #0D52D1 #2A0CD0 #8A0CCF #CD0D74 #754DEB #DDDDDD #999999 #333333 #000000 #57032A #CA9726 #990000 #4B0C25".split(" "),this.alpha=1,this.groupPercent=0,this.groupedTitle="Other",this.groupedPulled=!1,this.groupedAlpha=1,this.marginLeft=0,this.marginBottom=this.marginTop=10,this.marginRight=0,this.hoverAlpha=1,this.outlineColor="#FFFFFF",this.outlineAlpha=0,this.outlineThickness=1,this.startAlpha=0,this.startDuration=1,this.startEffect="bounce",this.sequencedAnimation=!0,this.pullOutDuration=1,this.pullOutEffect="bounce",this.pullOnHover=this.pullOutOnlyOne=!1,this.labelsEnabled=!0,this.labelTickColor="#000000",this.labelTickAlpha=.2,this.hideLabelsPercent=0,this.urlTarget="_self",this.autoMarginOffset=10,this.gradientRatio=[],this.maxLabelWidth=200,AmCharts.applyTheme(this,t,"AmSlicedChart")},initChart:function(){AmCharts.AmSlicedChart.base.initChart.call(this),this.dataChanged&&(this.parseData(),this.dispatchDataUpdated=!0,this.dataChanged=!1,this.setLegendData(this.chartData)),this.drawChart()},handleLegendEvent:function(t){var e=t.type;if(t=t.dataItem,!this.legend.data&&t){var i=t.hidden;switch(e){case"clickMarker":i||this.clickSlice(t);break;case"clickLabel":i||this.clickSlice(t);break;case"rollOverItem":i||this.rollOverSlice(t,!1);break;case"rollOutItem":i||this.rollOutSlice(t);break;case"hideItem":this.hideSlice(t);break;case"showItem":this.showSlice(t)}}},invalidateVisibility:function(){this.recalculatePercents(),this.initChart();var t=this.legend;t&&t.invalidateSize()},addEventListeners:function(t,e){var i=this;t.mouseover(function(t){i.rollOverSlice(e,!0,t)}).mouseout(function(t){i.rollOutSlice(e,t)}).touchend(function(t){i.rollOverSlice(e,t),i.panEventsEnabled&&i.clickSlice(e,t)}).touchstart(function(t){i.rollOverSlice(e,t)}).click(function(t){i.clickSlice(e,t)}).contextmenu(function(t){i.handleRightClick(e,t)})},formatString:function(t,e,i){return t=AmCharts.formatValue(t,e,["value"],this.nf,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers),t=AmCharts.formatValue(t,e,["percents"],this.pf),t=AmCharts.massReplace(t,{"[[title]]":e.title,"[[description]]":e.description}),-1!=t.indexOf("[[")&&(t=AmCharts.formatDataContextValue(t,e.dataContext)),t=i?AmCharts.fixNewLines(t):AmCharts.fixBrakes(t),t=AmCharts.cleanFromEmpty(t)},startSlices:function(){var t;for(t=0;t<this.chartData.length;t++)0<this.startDuration&&this.sequencedAnimation?this.setStartTO(t):this.startSlice(this.chartData[t])},setStartTO:function(t){var e=this;t=setTimeout(function(){e.startSequenced.call(e)},e.startDuration/e.chartData.length*500*t),e.timeOuts.push(t)},pullSlices:function(t){var e,i=this.chartData;for(e=0;e<i.length;e++){var s=i[e];s.pulled&&this.pullSlice(s,1,t)}},startSequenced:function(){var t,e=this.chartData;for(t=0;t<e.length;t++)if(!e[t].started){this.startSlice(this.chartData[t]);break}},startSlice:function(t){t.started=!0;var e=t.wedge,i=this.startDuration;e&&i>0&&(0<t.alpha&&e.show(),e.translate(t.startX,t.startY),e.animate({opacity:1,translate:"0,0"},i,this.startEffect))},showLabels:function(){var t,e=this.chartData;for(t=0;t<e.length;t++){var i=e[t];if(0<i.alpha){var s=i.label;s&&s.show(),(i=i.tick)&&i.show()}}},showSlice:function(t){isNaN(t)?t.hidden=!1:this.chartData[t].hidden=!1,this.invalidateVisibility()},hideSlice:function(t){isNaN(t)?t.hidden=!0:this.chartData[t].hidden=!0,this.hideBalloon(),this.invalidateVisibility()},rollOverSlice:function(t,e,i){if(isNaN(t)||(t=this.chartData[t]),clearTimeout(this.hoverInt),!t.hidden){this.pullOnHover&&this.pullSlice(t,1),1>this.hoverAlpha&&t.wedge&&t.wedge.attr({opacity:this.hoverAlpha});var s=t.balloonX,a=t.balloonY;t.pulled&&(s+=t.pullX,a+=t.pullY);var r=this.formatString(this.balloonText,t,!0),h=this.balloonFunction;h&&(r=h(t,r)),h=AmCharts.adjustLuminosity(t.color,-.15),this.showBalloon(r,h,e,s,a),t={type:"rollOverSlice",dataItem:t,chart:this,event:i},this.fire(t.type,t)
}},rollOutSlice:function(t,e){isNaN(t)||(t=this.chartData[t]),t.wedge&&t.wedge.attr({opacity:1}),this.hideBalloon();var i={type:"rollOutSlice",dataItem:t,chart:this,event:e};this.fire(i.type,i)},clickSlice:function(t,e){isNaN(t)||(t=this.chartData[t]),t.pulled?this.pullSlice(t,0):this.pullSlice(t,1),AmCharts.getURL(t.url,this.urlTarget);var i={type:"clickSlice",dataItem:t,chart:this,event:e};this.fire(i.type,i)},handleRightClick:function(t,e){isNaN(t)||(t=this.chartData[t]);var i={type:"rightClickSlice",dataItem:t,chart:this,event:e};this.fire(i.type,i)},drawTicks:function(){var t,e=this.chartData;for(t=0;t<e.length;t++){var i=e[t];if(i.label){var s=i.ty,s=AmCharts.line(this.container,[i.tx0,i.tx,i.tx2],[i.ty0,s,s],this.labelTickColor,this.labelTickAlpha);i.tick=s,i.wedge.push(s)}}},initialStart:function(){var t=this,e=t.startDuration,i=setTimeout(function(){t.showLabels.call(t)},1e3*e);t.timeOuts.push(i),t.chartCreated?t.pullSlices(!0):(t.startSlices(),e>0?(e=setTimeout(function(){t.pullSlices.call(t)},1200*e),t.timeOuts.push(e)):t.pullSlices(!0))},pullSlice:function(t,e,i){var s=this.pullOutDuration;!0===i&&(s=0),(i=t.wedge)&&(s>0?i.animate({translate:e*t.pullX+","+e*t.pullY},s,this.pullOutEffect):i.translate(e*t.pullX,e*t.pullY)),1==e?(t.pulled=!0,this.pullOutOnlyOne&&this.pullInAll(t.index),t={type:"pullOutSlice",dataItem:t,chart:this}):(t.pulled=!1,t={type:"pullInSlice",dataItem:t,chart:this}),this.fire(t.type,t)},pullInAll:function(t){var e,i=this.chartData;for(e=0;e<this.chartData.length;e++)e!=t&&i[e].pulled&&this.pullSlice(i[e],0)},pullOutAll:function(t){t=this.chartData;var e;for(e=0;e<t.length;e++)t[e].pulled||this.pullSlice(t[e],1)},parseData:function(){var t=[];this.chartData=t;var e=this.dataProvider;if(isNaN(this.pieAlpha)||(this.alpha=this.pieAlpha),void 0!==e){var i,s,a,r=e.length,h=0;for(i=0;r>i;i++){s={};var o=e[i];s.dataContext=o,s.value=Number(o[this.valueField]),(a=o[this.titleField])||(a=""),s.title=a,s.pulled=AmCharts.toBoolean(o[this.pulledField],!1),(a=o[this.descriptionField])||(a=""),s.description=a,s.labelRadius=Number(o[this.labelRadiusField]),s.switchable=!0,s.url=o[this.urlField],a=o[this.patternField],!a&&this.patterns&&(a=this.patterns[i]),s.pattern=a,s.visibleInLegend=AmCharts.toBoolean(o[this.visibleInLegendField],!0),a=o[this.alphaField],s.alpha=void 0!==a?Number(a):this.alpha,a=o[this.colorField],void 0!==a&&(s.color=AmCharts.toColor(a)),s.labelColor=AmCharts.toColor(o[this.labelColorField]),h+=s.value,s.hidden=!1,t[i]=s}for(i=e=0;r>i;i++)s=t[i],s.percents=s.value/h*100,s.percents<this.groupPercent&&e++;for(e>1&&(this.groupValue=0,this.removeSmallSlices(),t.push({title:this.groupedTitle,value:this.groupValue,percents:this.groupValue/h*100,pulled:this.groupedPulled,color:this.groupedColor,url:this.groupedUrl,description:this.groupedDescription,alpha:this.groupedAlpha,pattern:this.groupedPattern,dataContext:{}})),r=this.baseColor,r||(r=this.pieBaseColor),h=this.brightnessStep,h||(h=this.pieBrightnessStep),i=0;i<t.length;i++)r?a=AmCharts.adjustLuminosity(r,i*h/100):(a=this.colors[i],void 0===a&&(a=AmCharts.randomColor())),void 0===t[i].color&&(t[i].color=a);this.recalculatePercents()}},recalculatePercents:function(){var t,e,i=this.chartData,s=0;for(t=0;t<i.length;t++)e=i[t],!e.hidden&&0<e.value&&(s+=e.value);for(t=0;t<i.length;t++)e=this.chartData[t],e.percents=!e.hidden&&0<e.value?100*e.value/s:0},removeSmallSlices:function(){var t,e=this.chartData;for(t=e.length-1;t>=0;t--)e[t].percents<this.groupPercent&&(this.groupValue+=e[t].value,e.splice(t,1))},animateAgain:function(){var t=this;t.startSlices();for(var e=0;e<t.chartData.length;e++){var i=t.chartData[e];i.started=!1;var s=i.wedge;s&&s.translate(i.startX,i.startY)}e=t.startDuration,e>0?(e=setTimeout(function(){t.pullSlices.call(t)},1200*e),t.timeOuts.push(e)):t.pullSlices()},measureMaxLabel:function(){var t,e=this.chartData,i=0;for(t=0;t<e.length;t++){var s=e[t],a=this.formatString(this.labelText,s),r=this.labelFunction;r&&(a=r(s,a)),s=AmCharts.text(this.container,a,this.color,this.fontFamily,this.fontSize),a=s.getBBox().width,a>i&&(i=a),s.remove()}return i}}),AmCharts.AmRectangularChart=AmCharts.Class({inherits:AmCharts.AmCoordinateChart,construct:function(t){AmCharts.AmRectangularChart.base.construct.call(this,t),this.theme=t,this.createEvents("zoomed"),this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=20,this.verticalPosition=this.horizontalPosition=this.depth3D=this.angle=0,this.heightMultiplier=this.widthMultiplier=1,this.plotAreaFillColors="#FFFFFF",this.plotAreaFillAlphas=0,this.plotAreaBorderColor="#000000",this.plotAreaBorderAlpha=0,this.zoomOutButtonImageSize=17,this.zoomOutButtonImage="lens.png",this.zoomOutText="Show all",this.zoomOutButtonColor="#e5e5e5",this.zoomOutButtonAlpha=0,this.zoomOutButtonRollOverAlpha=1,this.zoomOutButtonPadding=8,this.trendLines=[],this.autoMargins=!0,this.marginsUpdated=!1,this.autoMarginOffset=10,AmCharts.applyTheme(this,t,"AmRectangularChart")},initChart:function(){AmCharts.AmRectangularChart.base.initChart.call(this),this.updateDxy();var t=!0;!this.marginsUpdated&&this.autoMargins&&(this.resetMargins(),t=!1),this.processScrollbars(),this.updateMargins(),this.updatePlotArea(),this.updateScrollbars(),this.updateTrendLines(),this.updateChartCursor(),this.updateValueAxes(),t&&(this.scrollbarOnly||this.updateGraphs())},drawChart:function(){if(AmCharts.AmRectangularChart.base.drawChart.call(this),this.drawPlotArea(),AmCharts.ifArray(this.chartData)){var t=this.chartCursor;t&&t.draw(),t=this.zoomOutText,""!==t&&t&&this.drawZoomOutButton()}},resetMargins:function(){var t,e={};if("serial"==this.type){var i=this.valueAxes;for(t=0;t<i.length;t++){var s=i[t];s.ignoreAxisWidth||(s.setOrientation(this.rotate),s.fixAxisPosition(),e[s.position]=!0)}(t=this.categoryAxis)&&!t.ignoreAxisWidth&&(t.setOrientation(!this.rotate),t.fixAxisPosition(),t.fixAxisPosition(),e[t.position]=!0)}else{for(s=this.xAxes,i=this.yAxes,t=0;t<s.length;t++){var a=s[t];a.ignoreAxisWidth||(a.setOrientation(!0),a.fixAxisPosition(),e[a.position]=!0)}for(t=0;t<i.length;t++)s=i[t],s.ignoreAxisWidth||(s.setOrientation(!1),s.fixAxisPosition(),e[s.position]=!0)}e.left&&(this.marginLeft=0),e.right&&(this.marginRight=0),e.top&&(this.marginTop=0),e.bottom&&(this.marginBottom=0),this.fixMargins=e},measureMargins:function(){var t,e=this.valueAxes,i=this.autoMarginOffset,s=this.fixMargins,a=this.realWidth,r=this.realHeight,h=i,o=i,n=a;t=r;var l;for(l=0;l<e.length;l++)t=this.getAxisBounds(e[l],h,n,o,t),h=Math.round(t.l),n=Math.round(t.r),o=Math.round(t.t),t=Math.round(t.b);(e=this.categoryAxis)&&(t=this.getAxisBounds(e,h,n,o,t),h=Math.round(t.l),n=Math.round(t.r),o=Math.round(t.t),t=Math.round(t.b)),s.left&&i>h&&(this.marginLeft=Math.round(-h+i)),s.right&&n>=a-i&&(this.marginRight=Math.round(n-a+i)),s.top&&o<i+this.titleHeight&&(this.marginTop=Math.round(this.marginTop-o+i+this.titleHeight)),s.bottom&&t>r-i&&(this.marginBottom=Math.round(this.marginBottom+t-r+i)),this.initChart()},getAxisBounds:function(t,e,i,s,a){if(!t.ignoreAxisWidth){var r=t.labelsSet,h=t.tickLength;if(t.inside&&(h=0),r)switch(r=t.getBBox(),t.position){case"top":t=r.y,s>t&&(s=t);break;case"bottom":t=r.y+r.height,t>a&&(a=t);break;case"right":t=r.x+r.width+h+3,t>i&&(i=t);break;case"left":t=r.x-h,e>t&&(e=t)}}return{l:e,t:s,r:i,b:a}},drawZoomOutButton:function(){var t=this,e=t.container.set();t.zoomButtonSet.push(e);var i=t.color,s=t.fontSize,a=t.zoomOutButtonImageSize,r=t.zoomOutButtonImage,h=AmCharts.lang.zoomOutText||t.zoomOutText,o=t.zoomOutButtonColor,n=t.zoomOutButtonAlpha,l=t.zoomOutButtonFontSize,d=t.zoomOutButtonPadding;isNaN(l)||(s=l),(l=t.zoomOutButtonFontColor)&&(i=l);var u,l=t.zoomOutButton;l&&(l.fontSize&&(s=l.fontSize),l.color&&(i=l.color),l.backgroundColor&&(o=l.backgroundColor),isNaN(l.backgroundAlpha)||(t.zoomOutButtonRollOverAlpha=l.backgroundAlpha));var c=l=0;for(void 0!==t.pathToImages&&r&&(u=t.container.image(t.pathToImages+r,0,0,a,a),e.push(u),u=u.getBBox(),l=u.width+5),void 0!==h&&(i=AmCharts.text(t.container,h,i,t.fontFamily,s,"start"),s=i.getBBox(),c=u?u.height/2-3:s.height/2,i.translate(l,c),e.push(i)),u=e.getBBox(),i=1,AmCharts.isModern||(i=0),o=AmCharts.rect(t.container,u.width+2*d+5,u.height+2*d-2,o,1,1,o,i),o.setAttr("opacity",n),o.translate(-d,-d),e.push(o),o.toBack(),t.zbBG=o,u=o.getBBox(),e.translate(t.marginLeftReal+t.plotAreaWidth-u.width+d,t.marginTopReal+d),e.hide(),e.mouseover(function(){t.rollOverZB()}).mouseout(function(){t.rollOutZB()}).click(function(){t.clickZB()}).touchstart(function(){t.rollOverZB()}).touchend(function(){t.rollOutZB(),t.clickZB()}),n=0;n<e.length;n++)e[n].attr({cursor:"pointer"});t.zbSet=e},rollOverZB:function(){this.zbBG.setAttr("opacity",this.zoomOutButtonRollOverAlpha)},rollOutZB:function(){this.zbBG.setAttr("opacity",this.zoomOutButtonAlpha)},clickZB:function(){this.zoomOut()},zoomOut:function(){this.updateScrollbar=!0,this.zoom()},drawPlotArea:function(){var t=this.dx,e=this.dy,i=this.marginLeftReal,s=this.marginTopReal,a=this.plotAreaWidth-1,r=this.plotAreaHeight-1,h=this.plotAreaFillColors,o=this.plotAreaFillAlphas,n=this.plotAreaBorderColor,l=this.plotAreaBorderAlpha;this.trendLinesSet.clipRect(i,s,a,r),"object"==typeof o&&(o=o[0]),h=AmCharts.polygon(this.container,[0,a,a,0,0],[0,0,r,r,0],h,o,1,n,l,this.plotAreaGradientAngle),h.translate(i+t,s+e),this.set.push(h),0!==t&&0!==e&&(h=this.plotAreaFillColors,"object"==typeof h&&(h=h[0]),h=AmCharts.adjustLuminosity(h,-.15),a=AmCharts.polygon(this.container,[0,t,a+t,a,0],[0,e,e,0,0],h,o,1,n,l),a.translate(i,s+r),this.set.push(a),t=AmCharts.polygon(this.container,[0,0,t,t,0],[0,r,r+e,e,0],h,o,1,n,l),t.translate(i,s),this.set.push(t)),(i=this.bbset)&&this.scrollbarOnly&&i.remove()},updatePlotArea:function(){var t=this.updateWidth(),e=this.updateHeight(),i=this.container;this.realWidth=t,this.realWidth=e,i&&this.container.setSize(t,e),t=t-this.marginLeftReal-this.marginRightReal-this.dx,e=e-this.marginTopReal-this.marginBottomReal,1>t&&(t=1),1>e&&(e=1),this.plotAreaWidth=Math.round(t),this.plotAreaHeight=Math.round(e)},updateDxy:function(){this.dx=Math.round(this.depth3D*Math.cos(this.angle*Math.PI/180)),this.dy=Math.round(-this.depth3D*Math.sin(this.angle*Math.PI/180)),this.d3x=Math.round(this.columnSpacing3D*Math.cos(this.angle*Math.PI/180)),this.d3y=Math.round(-this.columnSpacing3D*Math.sin(this.angle*Math.PI/180))},updateMargins:function(){var t=this.getTitleHeight();this.titleHeight=t,this.marginTopReal=this.marginTop-this.dy+t,this.marginBottomReal=this.marginBottom,this.marginLeftReal=this.marginLeft,this.marginRightReal=this.marginRight},updateValueAxes:function(){var t,e=this.valueAxes,i=this.marginLeftReal,s=this.marginTopReal,a=this.plotAreaHeight,r=this.plotAreaWidth;for(t=0;t<e.length;t++){var h=e[t];h.axisRenderer=AmCharts.RecAxis,h.guideFillRenderer=AmCharts.RecFill,h.axisItemRenderer=AmCharts.RecItem,h.dx=this.dx,h.dy=this.dy,h.viW=r-1,h.viH=a-1,h.marginsChanged=!0,h.viX=i,h.viY=s,this.updateObjectSize(h)}},updateObjectSize:function(t){t.width=(this.plotAreaWidth-1)*this.widthMultiplier,t.height=(this.plotAreaHeight-1)*this.heightMultiplier,t.x=this.marginLeftReal+this.horizontalPosition,t.y=this.marginTopReal+this.verticalPosition},updateGraphs:function(){var t,e=this.graphs;for(t=0;t<e.length;t++){var i=e[t];i.x=this.marginLeftReal+this.horizontalPosition,i.y=this.marginTopReal+this.verticalPosition,i.width=this.plotAreaWidth*this.widthMultiplier,i.height=this.plotAreaHeight*this.heightMultiplier,i.index=t,i.dx=this.dx,i.dy=this.dy,i.rotate=this.rotate}},updateChartCursor:function(){var t=this.chartCursor;t&&(t=AmCharts.processObject(t,AmCharts.ChartCursor,this.theme),this.addChartCursor(t),t.x=this.marginLeftReal,t.y=this.marginTopReal,t.width=this.plotAreaWidth-1,t.height=this.plotAreaHeight-1,t.chart=this)},processScrollbars:function(){var t=this.chartScrollbar;t&&(t=AmCharts.processObject(t,AmCharts.ChartScrollbar,this.theme),this.addChartScrollbar(t))},updateScrollbars:function(){},addChartCursor:function(t){AmCharts.callMethod("destroy",[this.chartCursor]),t&&(this.listenTo(t,"changed",this.handleCursorChange),this.listenTo(t,"zoomed",this.handleCursorZoom)),this.chartCursor=t},removeChartCursor:function(){AmCharts.callMethod("destroy",[this.chartCursor]),this.chartCursor=null},zoomTrendLines:function(){var t,e=this.trendLines;for(t=0;t<e.length;t++){var i=e[t];i.valueAxis.recalculateToPercents?i.set&&i.set.hide():(i.x=this.marginLeftReal+this.horizontalPosition,i.y=this.marginTopReal+this.verticalPosition,i.draw())}},addTrendLine:function(t){this.trendLines.push(t)},removeTrendLine:function(t){var e,i=this.trendLines;for(e=i.length-1;e>=0;e--)i[e]==t&&i.splice(e,1)},adjustMargins:function(t,e){var i=t.scrollbarHeight+t.offset;"top"==t.position?e?this.marginLeftReal+=i:this.marginTopReal+=i:e?this.marginRightReal+=i:this.marginBottomReal+=i},getScrollbarPosition:function(t,e,i){t.position=e?"bottom"==i||"left"==i?"bottom":"top":"top"==i||"right"==i?"bottom":"top"},updateChartScrollbar:function(t,e){if(t){t.rotate=e;var i=this.marginTopReal,s=this.marginLeftReal,a=t.scrollbarHeight,r=this.dx,h=this.dy,o=t.offset;"top"==t.position?e?(t.y=i,t.x=s-a-o):(t.y=i-a+h-1-o,t.x=s+r):e?(t.y=i+h,t.x=s+this.plotAreaWidth+r+o):(t.y=i+this.plotAreaHeight+o,t.x=this.marginLeftReal)}},showZB:function(t){var e=this.zbSet;e&&(t?e.show():e.hide(),this.rollOutZB())},handleReleaseOutside:function(t){AmCharts.AmRectangularChart.base.handleReleaseOutside.call(this,t),(t=this.chartCursor)&&t.handleReleaseOutside()},handleMouseDown:function(t){AmCharts.AmRectangularChart.base.handleMouseDown.call(this,t);var e=this.chartCursor;e&&e.handleMouseDown(t)},handleCursorChange:function(){}}),AmCharts.TrendLine=AmCharts.Class({construct:function(t){this.cname="TrendLine",this.createEvents("click"),this.isProtected=!1,this.dashLength=0,this.lineColor="#00CC00",this.lineThickness=this.lineAlpha=1,AmCharts.applyTheme(this,t,this.cname)},draw:function(){var t=this;t.destroy();var e,i,s,a,r=t.chart,h=r.container,o=t.categoryAxis,n=t.initialDate,l=t.initialCategory,d=t.finalDate,u=t.finalCategory,c=t.valueAxis,m=t.valueAxisX,p=t.initialXValue,f=t.finalXValue,g=t.initialValue,v=t.finalValue,C=c.recalculateToPercents,A=r.dataDateFormat;o&&(n&&(n instanceof Date||(n=A?AmCharts.stringToDate(n,A):new Date(n)),t.initialDate=n,e=o.dateToCoordinate(n)),l&&(e=o.categoryToCoordinate(l)),d&&(d instanceof Date||(d=A?AmCharts.stringToDate(d,A):new Date(d)),t.finalDate=d,i=o.dateToCoordinate(d)),u&&(i=o.categoryToCoordinate(u))),m&&!C&&(isNaN(p)||(e=m.getCoordinate(p)),isNaN(f)||(i=m.getCoordinate(f))),c&&!C&&(isNaN(g)||(s=c.getCoordinate(g)),isNaN(v)||(a=c.getCoordinate(v))),isNaN(e)||isNaN(i)||isNaN(s)||isNaN(s)||(r.rotate?(o=[s,a],i=[e,i]):(o=[e,i],i=[s,a]),s=t.lineColor,e=AmCharts.line(h,o,i,s,t.lineAlpha,t.lineThickness,t.dashLength),a=o,n=i,u=o[1]-o[0],c=i[1]-i[0],0===u&&(u=.01),0===c&&(c=.01),l=u/Math.abs(u),d=c/Math.abs(c),c=u*c/Math.abs(u*c)*Math.sqrt(Math.pow(u,2)+Math.pow(c,2)),u=Math.asin(u/c),c=90*Math.PI/180-u,u=Math.abs(5*Math.cos(c)),c=Math.abs(5*Math.sin(c)),a.push(o[1]-l*c,o[0]-l*c),n.push(i[1]+d*u,i[0]+d*u),o=AmCharts.polygon(h,a,n,s,.005,0),h=h.set([o,e]),h.translate(r.marginLeftReal,r.marginTopReal),r.trendLinesSet.push(h),t.line=e,t.set=h,o.mouseup(function(){t.handleLineClick()}).mouseover(function(){t.handleLineOver()}).mouseout(function(){t.handleLineOut()}),o.touchend&&o.touchend(function(){t.handleLineClick()}))},handleLineClick:function(){var t={type:"click",trendLine:this,chart:this.chart};this.fire(t.type,t)},handleLineOver:function(){var t=this.rollOverColor;void 0!==t&&this.line.attr({stroke:t})},handleLineOut:function(){this.line.attr({stroke:this.lineColor})},destroy:function(){AmCharts.remove(this.set)}}),AmCharts.circle=function(t,e,i,s,a,r,h,o){return(void 0==a||0===a)&&(a=.01),void 0===r&&(r="#000000"),void 0===h&&(h=0),s={fill:i,stroke:r,"fill-opacity":s,"stroke-width":a,"stroke-opacity":h},t=t.circle(0,0,e).attr(s),o&&t.gradient("radialGradient",[i,AmCharts.adjustLuminosity(i,-.6)]),t},AmCharts.text=function(t,e,i,s,a,r,h,o){return r||(r="middle"),"right"==r&&(r="end"),isNaN(o)&&(o=1),void 0!==e&&(e=String(e),AmCharts.isIE&&!AmCharts.isModern&&(e=e.replace("&amp;","&"),e=e.replace("&","&amp;"))),i={fill:i,"font-family":s,"font-size":a,opacity:o},!0===h&&(i["font-weight"]="bold"),i["text-anchor"]=r,t.text(e,i)},AmCharts.polygon=function(t,e,i,s,a,r,h,o,n,l,d){isNaN(r)&&(r=.01),isNaN(o)&&(o=a);var u=s,c=!1;for("object"==typeof u&&1<u.length&&(c=!0,u=u[0]),void 0===h&&(h=u),a={fill:u,stroke:h,"fill-opacity":a,"stroke-width":r,"stroke-opacity":o},void 0!==d&&d>0&&(a["stroke-dasharray"]=d),d=AmCharts.dx,r=AmCharts.dy,t.handDrawn&&(i=AmCharts.makeHD(e,i,t.handDrawScatter),e=i[0],i=i[1]),h=Math.round,l&&(h=AmCharts.doNothing),l="M"+(h(e[0])+d)+","+(h(i[0])+r),o=1;o<e.length;o++)l+=" L"+(h(e[o])+d)+","+(h(i[o])+r);return t=t.path(l+" Z").attr(a),c&&t.gradient("linearGradient",s,n),t},AmCharts.rect=function(t,e,i,s,a,r,h,o,n,l,d){isNaN(r)&&(r=0),void 0===n&&(n=0),void 0===l&&(l=270),isNaN(a)&&(a=0);var u=s,c=!1;"object"==typeof u&&(u=u[0],c=!0),void 0===h&&(h=u),void 0===o&&(o=a),e=Math.round(e),i=Math.round(i);var m=0,p=0;return 0>e&&(e=Math.abs(e),m=-e),0>i&&(i=Math.abs(i),p=-i),m+=AmCharts.dx,p+=AmCharts.dy,a={fill:u,stroke:h,"fill-opacity":a,"stroke-opacity":o},void 0!==d&&d>0&&(a["stroke-dasharray"]=d),t=t.rect(m,p,e,i,n,r).attr(a),c&&t.gradient("linearGradient",s,l),t},AmCharts.bullet=function(t,e,i,s,a,r,h,o,n,l,d){var u;switch("circle"==e&&(e="round"),e){case"round":u=AmCharts.circle(t,i/2,s,a,r,h,o);break;case"square":u=AmCharts.polygon(t,[-i/2,i/2,i/2,-i/2],[i/2,i/2,-i/2,-i/2],s,a,r,h,o,l-180);break;case"rectangle":u=AmCharts.polygon(t,[-i,i,i,-i],[i/2,i/2,-i/2,-i/2],s,a,r,h,o,l-180);break;case"diamond":u=AmCharts.polygon(t,[-i/2,0,i/2,0],[0,-i/2,0,i/2],s,a,r,h,o);break;case"triangleUp":u=AmCharts.triangle(t,i,0,s,a,r,h,o);break;case"triangleDown":u=AmCharts.triangle(t,i,180,s,a,r,h,o);break;case"triangleLeft":u=AmCharts.triangle(t,i,270,s,a,r,h,o);break;case"triangleRight":u=AmCharts.triangle(t,i,90,s,a,r,h,o);break;case"bubble":u=AmCharts.circle(t,i/2,s,a,r,h,o,!0);break;case"line":u=AmCharts.line(t,[-i/2,i/2],[0,0],s,a,r,h,o);break;case"yError":u=t.set(),u.push(AmCharts.line(t,[0,0],[-i/2,i/2],s,a,r)),u.push(AmCharts.line(t,[-n,n],[-i/2,-i/2],s,a,r)),u.push(AmCharts.line(t,[-n,n],[i/2,i/2],s,a,r));break;case"xError":u=t.set(),u.push(AmCharts.line(t,[-i/2,i/2],[0,0],s,a,r)),u.push(AmCharts.line(t,[-i/2,-i/2],[-n,n],s,a,r)),u.push(AmCharts.line(t,[i/2,i/2],[-n,n],s,a,r))}return u&&u.pattern(d),u},AmCharts.triangle=function(t,e,i,s,a,r,h,o){(void 0===r||0===r)&&(r=1),void 0===h&&(h="#000"),void 0===o&&(o=0),s={fill:s,stroke:h,"fill-opacity":a,"stroke-width":r,"stroke-opacity":o},e/=2;var n;return 0===i&&(n=" M"+-e+","+e+" L0,"+-e+" L"+e+","+e+" Z"),180==i&&(n=" M"+-e+","+-e+" L0,"+e+" L"+e+","+-e+" Z"),90==i&&(n=" M"+-e+","+-e+" L"+e+",0 L"+-e+","+e+" Z"),270==i&&(n=" M"+-e+",0 L"+e+","+e+" L"+e+","+-e+" Z"),t.path(n).attr(s)},AmCharts.line=function(t,e,i,s,a,r,h,o,n,l,d){if(t.handDrawn&&!d)return AmCharts.handDrawnLine(t,e,i,s,a,r,h,o,n,l,d);for(r={fill:"none","stroke-width":r},void 0!==h&&h>0&&(r["stroke-dasharray"]=h),isNaN(a)||(r["stroke-opacity"]=a),s&&(r.stroke=s),s=Math.round,l&&(s=AmCharts.doNothing),l=AmCharts.dx,a=AmCharts.dy,h="M"+(s(e[0])+l)+","+(s(i[0])+a),o=1;o<e.length;o++)h+=" L"+(s(e[o])+l)+","+(s(i[o])+a);return AmCharts.VML?t.path(h,void 0,!0).attr(r):(n&&(h+=" M0,0 L0,0"),t.path(h).attr(r))},AmCharts.makeHD=function(t,e,i){for(var s=[],a=[],r=1;r<t.length;r++)for(var h=Number(t[r-1]),o=Number(e[r-1]),n=Number(t[r]),l=Number(e[r]),d=Math.sqrt(Math.pow(n-h,2)+Math.pow(l-o,2)),d=Math.round(d/50)+1,n=(n-h)/d,l=(l-o)/d,u=0;d>=u;u++){var c=h+u*n+Math.random()*i,m=o+u*l+Math.random()*i;s.push(c),a.push(m)}return[s,a]},AmCharts.handDrawnLine=function(t,e,i,s,a,r,h,o,n,l,d){var u=t.set();for(d=1;d<e.length;d++)for(var c=[e[d-1],e[d]],m=[i[d-1],i[d]],m=AmCharts.makeHD(c,m,t.handDrawScatter),c=m[0],m=m[1],p=1;p<c.length;p++)u.push(AmCharts.line(t,[c[p-1],c[p]],[m[p-1],m[p]],s,a,r+Math.random()*t.handDrawThickness-t.handDrawThickness/2,h,o,n,l,!0));return u},AmCharts.doNothing=function(t){return t},AmCharts.wedge=function(t,e,i,s,a,r,h,o,n,l,d,u){var c=Math.round;r=c(r),h=c(h),o=c(o);var m=c(h/r*o),p=AmCharts.VML,f=359.5+r/100;f>359.94&&(f=359.94),a>=f&&(a=f);var g=1/180*Math.PI,f=e+Math.sin(s*g)*o,v=i-Math.cos(s*g)*m,C=e+Math.sin(s*g)*r,A=i-Math.cos(s*g)*h,b=e+Math.sin((s+a)*g)*r,x=i-Math.cos((s+a)*g)*h,y=e+Math.sin((s+a)*g)*o,g=i-Math.cos((s+a)*g)*m,w={fill:AmCharts.adjustLuminosity(l.fill,-.2),"stroke-opacity":0,"fill-opacity":l["fill-opacity"]},M=0;180<Math.abs(a)&&(M=1),s=t.set();var S;p&&(f=c(10*f),C=c(10*C),b=c(10*b),y=c(10*y),v=c(10*v),A=c(10*A),x=c(10*x),g=c(10*g),e=c(10*e),n=c(10*n),i=c(10*i),r*=10,h*=10,o*=10,m*=10,1>Math.abs(a)&&1>=Math.abs(b-C)&&1>=Math.abs(x-A)&&(S=!0)),a="";var N;if(u&&(w["fill-opacity"]=0,w["stroke-opacity"]=l["stroke-opacity"]/2,w.stroke=l.stroke),n>0&&(p?(N=" M"+f+","+(v+n)+" L"+C+","+(A+n),S||(N+=" A"+(e-r)+","+(n+i-h)+","+(e+r)+","+(n+i+h)+","+C+","+(A+n)+","+b+","+(x+n)),N+=" L"+y+","+(g+n),o>0&&(S||(N+=" B"+(e-o)+","+(n+i-m)+","+(e+o)+","+(n+i+m)+","+y+","+(n+g)+","+f+","+(n+v)))):(N=" M"+f+","+(v+n)+" L"+C+","+(A+n)+(" A"+r+","+h+",0,"+M+",1,"+b+","+(x+n)+" L"+y+","+(g+n)),o>0&&(N+=" A"+o+","+m+",0,"+M+",0,"+f+","+(v+n))),N+=" Z",N=t.path(N,void 0,void 0,"1000,1000").attr(w),s.push(N),N=t.path(" M"+f+","+v+" L"+f+","+(v+n)+" L"+C+","+(A+n)+" L"+C+","+A+" L"+f+","+v+" Z",void 0,void 0,"1000,1000").attr(w),n=t.path(" M"+b+","+x+" L"+b+","+(x+n)+" L"+y+","+(g+n)+" L"+y+","+g+" L"+b+","+x+" Z",void 0,void 0,"1000,1000").attr(w),s.push(N),s.push(n)),p?(S||(a=" A"+c(e-r)+","+c(i-h)+","+c(e+r)+","+c(i+h)+","+c(C)+","+c(A)+","+c(b)+","+c(x)),r=" M"+c(f)+","+c(v)+" L"+c(C)+","+c(A)+a+" L"+c(y)+","+c(g)):r=" M"+f+","+v+" L"+C+","+A+(" A"+r+","+h+",0,"+M+",1,"+b+","+x)+" L"+y+","+g,o>0&&(p?S||(r+=" B"+(e-o)+","+(i-m)+","+(e+o)+","+(i+m)+","+y+","+g+","+f+","+v):r+=" A"+o+","+m+",0,"+M+",0,"+f+","+v),t.handDrawn&&(e=AmCharts.line(t,[f,C],[v,A],l.stroke,l.thickness*Math.random()*t.handDrawThickness,l["stroke-opacity"]),s.push(e)),t=t.path(r+" Z",void 0,void 0,"1000,1000").attr(l),d){for(e=[],i=0;i<d.length;i++)e.push(AmCharts.adjustLuminosity(l.fill,d[i]));0<e.length&&t.gradient("linearGradient",e)}return t.pattern(u),s.push(t),s},AmCharts.adjustLuminosity=function(t,e){t=String(t).replace(/[^0-9a-f]/gi,""),6>t.length&&(t=String(t[0])+String(t[0])+String(t[1])+String(t[1])+String(t[2])+String(t[2])),e=e||0;var i,s,a="#";for(s=0;3>s;s++)i=parseInt(t.substr(2*s,2),16),i=Math.round(Math.min(Math.max(0,i+i*e),255)).toString(16),a+=("00"+i).substr(i.length);return a},AmCharts.Bezier=AmCharts.Class({construct:function(t,e,i,s,a,r,h,o,n,l){for("object"==typeof h&&(h=h[0]),"object"==typeof o&&(o=o[0]),r={fill:h,"fill-opacity":o,"stroke-width":r},void 0!==n&&n>0&&(r["stroke-dasharray"]=n),isNaN(a)||(r["stroke-opacity"]=a),s&&(r.stroke=s),s="M"+Math.round(e[0])+","+Math.round(i[0]),a=[],n=0;n<e.length;n++)a.push({x:Number(e[n]),y:Number(i[n])});1<a.length&&(e=this.interpolate(a),s+=this.drawBeziers(e)),l?s+=l:AmCharts.VML||(s+="M0,0 L0,0"),this.path=t.path(s).attr(r)},interpolate:function(t){var e=[];e.push({x:t[0].x,y:t[0].y});var i=t[1].x-t[0].x,s=t[1].y-t[0].y,a=AmCharts.bezierX,r=AmCharts.bezierY;e.push({x:t[0].x+i/a,y:t[0].y+s/r});var h;for(h=1;h<t.length-1;h++){var o=t[h-1],n=t[h],s=t[h+1];isNaN(s.x)&&(s=n),isNaN(n.x)&&(n=o),isNaN(o.x)&&(o=n),i=s.x-n.x,s=s.y-o.y,o=n.x-o.x,o>i&&(o=i),e.push({x:n.x-o/a,y:n.y-s/r}),e.push({x:n.x,y:n.y}),e.push({x:n.x+o/a,y:n.y+s/r})}return s=t[t.length-1].y-t[t.length-2].y,i=t[t.length-1].x-t[t.length-2].x,e.push({x:t[t.length-1].x-i/a,y:t[t.length-1].y-s/r}),e.push({x:t[t.length-1].x,y:t[t.length-1].y}),e},drawBeziers:function(t){var e,i="";for(e=0;e<(t.length-1)/3;e++)i+=this.drawBezierMidpoint(t[3*e],t[3*e+1],t[3*e+2],t[3*e+3]);return i},drawBezierMidpoint:function(t,e,i,s){var a=Math.round,r=this.getPointOnSegment(t,e,.75),h=this.getPointOnSegment(s,i,.75),o=(s.x-t.x)/16,n=(s.y-t.y)/16,l=this.getPointOnSegment(t,e,.375);return t=this.getPointOnSegment(r,h,.375),t.x-=o,t.y-=n,e=this.getPointOnSegment(h,r,.375),e.x+=o,e.y+=n,i=this.getPointOnSegment(s,i,.375),o=this.getMiddle(l,t),r=this.getMiddle(r,h),h=this.getMiddle(e,i),l=" Q"+a(l.x)+","+a(l.y)+","+a(o.x)+","+a(o.y),l+=" Q"+a(t.x)+","+a(t.y)+","+a(r.x)+","+a(r.y),l+=" Q"+a(e.x)+","+a(e.y)+","+a(h.x)+","+a(h.y),l+=" Q"+a(i.x)+","+a(i.y)+","+a(s.x)+","+a(s.y)},getMiddle:function(t,e){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}},getPointOnSegment:function(t,e,i){return{x:t.x+(e.x-t.x)*i,y:t.y+(e.y-t.y)*i}}}),AmCharts.AmDraw=AmCharts.Class({construct:function(t,e,i,s){if(AmCharts.SVG_NS="http://www.w3.org/2000/svg",AmCharts.SVG_XLINK="http://www.w3.org/1999/xlink",AmCharts.hasSVG=!!document.createElementNS&&!!document.createElementNS(AmCharts.SVG_NS,"svg").createSVGRect,1>e&&(e=10),1>i&&(i=10),this.div=t,this.width=e,this.height=i,this.rBin=document.createElement("div"),AmCharts.hasSVG){AmCharts.SVG=!0;var a=this.createSvgElement("svg");a.style.position="absolute",a.style.width=e+"px",a.style.height=i+"px",e=this.createSvgElement("desc"),e.appendChild(document.createTextNode("JavaScript chart by amCharts "+s.version)),a.appendChild(e),AmCharts.rtl&&(a.setAttribute("direction","rtl"),a.style.left="auto",a.style.right="0px"),a.setAttribute("version","1.1"),t.appendChild(a),this.container=a,this.R=new AmCharts.SVGRenderer(this)}else AmCharts.isIE&&AmCharts.VMLRenderer&&(AmCharts.VML=!0,AmCharts.vmlStyleSheet||(document.namespaces.add("amvml","urn:schemas-microsoft-com:vml"),31>document.styleSheets.length?(a=document.createStyleSheet(),a.addRule(".amvml","behavior:url(#default#VML); display:inline-block; antialias:true"),AmCharts.vmlStyleSheet=a):document.styleSheets[0].addRule(".amvml","behavior:url(#default#VML); display:inline-block; antialias:true")),this.container=t,this.R=new AmCharts.VMLRenderer(this,s),this.R.disableSelection(t))},createSvgElement:function(t){return document.createElementNS(AmCharts.SVG_NS,t)},circle:function(t,e,i,s){var a=new AmCharts.AmDObject("circle",this);return a.attr({r:i,cx:t,cy:e}),this.addToContainer(a.node,s),a},setSize:function(t,e){t>0&&e>0&&(this.container.style.width=t+"px",this.container.style.height=e+"px")},rect:function(t,e,i,s,a,r,h){var o=new AmCharts.AmDObject("rect",this);return AmCharts.VML&&(a=100*a/Math.min(i,s),i+=2*r,s+=2*r,o.bw=r,o.node.style.marginLeft=-r,o.node.style.marginTop=-r),1>i&&(i=1),1>s&&(s=1),o.attr({x:t,y:e,width:i,height:s,rx:a,ry:a,"stroke-width":r}),this.addToContainer(o.node,h),o},image:function(t,e,i,s,a,r){var h=new AmCharts.AmDObject("image",this);return h.attr({x:e,y:i,width:s,height:a}),this.R.path(h,t),this.addToContainer(h.node,r),h},addToContainer:function(t,e){e||(e=this.container),e.appendChild(t)},text:function(t,e,i){return this.R.text(t,e,i)},path:function(t,e,i,s){var a=new AmCharts.AmDObject("path",this);return s||(s="100,100"),a.attr({cs:s}),a.attr(i?{dd:t}:{d:t}),this.addToContainer(a.node,e),a},set:function(t){return this.R.set(t)},remove:function(t){if(t){var e=this.rBin;e.appendChild(t),e.innerHTML=""}},renderFix:function(){var t,e=this.container,i=e.style;try{t=e.getScreenCTM()||e.createSVGMatrix()}catch(s){t=e.createSVGMatrix()}e=1-t.e%1,t=1-t.f%1,e>.5&&(e-=1),t>.5&&(t-=1),e&&(i.left=e+"px"),t&&(i.top=t+"px")},update:function(){this.R.update()}}),AmCharts.AmDObject=AmCharts.Class({construct:function(t,e){this.D=e,this.R=e.R,this.node=this.R.create(this,t),this.y=this.x=0,this.scale=1},attr:function(t){return this.R.attr(this,t),this},getAttr:function(t){return this.node.getAttribute(t)},setAttr:function(t,e){return this.R.setAttr(this,t,e),this},clipRect:function(t,e,i,s){this.R.clipRect(this,t,e,i,s)},translate:function(t,e,i,s){s||(t=Math.round(t),e=Math.round(e)),this.R.move(this,t,e,i),this.x=t,this.y=e,this.scale=i,this.angle&&this.rotate(this.angle)},rotate:function(t,e){this.R.rotate(this,t,e),this.angle=t},animate:function(t,e,i){for(var s in t)if(t.hasOwnProperty(s)){var a=s,r=t[s];i=AmCharts.getEffect(i),this.R.animate(this,a,r,e,i)}},push:function(t){if(t){var e=this.node;e.appendChild(t.node);var i=t.clipPath;i&&e.appendChild(i),(t=t.grad)&&e.appendChild(t)}},text:function(t){this.R.setText(this,t)},remove:function(){this.R.remove(this)},clear:function(){var t=this.node;if(t.hasChildNodes())for(;1<=t.childNodes.length;)t.removeChild(t.firstChild)},hide:function(){this.setAttr("visibility","hidden")},show:function(){this.setAttr("visibility","visible")},getBBox:function(){return this.R.getBBox(this)},toFront:function(){var t=this.node;if(t){this.prevNextNode=t.nextSibling;var e=t.parentNode;e&&e.appendChild(t)}},toPrevious:function(){var t=this.node;t&&this.prevNextNode&&(t=t.parentNode)&&t.insertBefore(this.prevNextNode,null)},toBack:function(){var t=this.node;if(t){this.prevNextNode=t.nextSibling;var e=t.parentNode;if(e){var i=e.firstChild;i&&e.insertBefore(t,i)}}},mouseover:function(t){return this.R.addListener(this,"mouseover",t),this},mouseout:function(t){return this.R.addListener(this,"mouseout",t),this},click:function(t){return this.R.addListener(this,"click",t),this},dblclick:function(t){return this.R.addListener(this,"dblclick",t),this},mousedown:function(t){return this.R.addListener(this,"mousedown",t),this},mouseup:function(t){return this.R.addListener(this,"mouseup",t),this},touchstart:function(t){return this.R.addListener(this,"touchstart",t),this},touchend:function(t){return this.R.addListener(this,"touchend",t),this},contextmenu:function(t){return this.node.addEventListener?this.node.addEventListener("contextmenu",t,!0):this.R.addListener(this,"contextmenu",t),this},stop:function(t){(t=this.animationX)&&AmCharts.removeFromArray(this.R.animations,t),(t=this.animationY)&&AmCharts.removeFromArray(this.R.animations,t)},length:function(){return this.node.childNodes.length},gradient:function(t,e,i){this.R.gradient(this,t,e,i)},pattern:function(t,e){t&&this.R.pattern(this,t,e)}}),AmCharts.VMLRenderer=AmCharts.Class({construct:function(t,e){this.chart=e,this.D=t,this.cNames={circle:"oval",rect:"roundrect",path:"shape"},this.styleMap={x:"left",y:"top",width:"width",height:"height","font-family":"fontFamily","font-size":"fontSize",visibility:"visibility"}},create:function(t,e){var i;if("group"==e)i=document.createElement("div"),t.type="div";else if("text"==e)i=document.createElement("div"),t.type="text";else if("image"==e)i=document.createElement("img"),t.type="image";else{t.type="shape",t.shapeType=this.cNames[e],i=document.createElement("amvml:"+this.cNames[e]);var s=document.createElement("amvml:stroke");i.appendChild(s),t.stroke=s;var a=document.createElement("amvml:fill");i.appendChild(a),t.fill=a,a.className="amvml",s.className="amvml",i.className="amvml"}return i.style.position="absolute",i.style.top=0,i.style.left=0,i},path:function(t,e){t.node.setAttribute("src",e)},setAttr:function(t,e,i){if(void 0!==i){var s;8===document.documentMode&&(s=!0);var a=t.node,r=t.type,h=a.style;"r"==e&&(h.width=2*i,h.height=2*i),"roundrect"!=t.shapeType||"width"!=e&&"height"!=e||(i-=1),"cursor"==e&&(h.cursor=i),"cx"==e&&(h.left=i-AmCharts.removePx(h.width)/2),"cy"==e&&(h.top=i-AmCharts.removePx(h.height)/2);var o=this.styleMap[e];if(void 0!==o&&(h[o]=i),"text"==r&&("text-anchor"==e&&(t.anchor=i,o=a.clientWidth,"end"==i&&(h.marginLeft=-o+"px"),"middle"==i&&(h.marginLeft=-(o/2)+"px",h.textAlign="center"),"start"==i&&(h.marginLeft="0px")),"fill"==e&&(h.color=i),"font-weight"==e&&(h.fontWeight=i)),h=t.children)for(o=0;o<h.length;o++)h[o].setAttr(e,i);"shape"==r&&("cs"==e&&(a.style.width="100px",a.style.height="100px",a.setAttribute("coordsize",i)),"d"==e&&a.setAttribute("path",this.svgPathToVml(i)),"dd"==e&&a.setAttribute("path",i),r=t.stroke,t=t.fill,"stroke"==e&&(s?r.color=i:r.setAttribute("color",i)),"stroke-width"==e&&(s?r.weight=i:r.setAttribute("weight",i)),"stroke-opacity"==e&&(s?r.opacity=i:r.setAttribute("opacity",i)),"stroke-dasharray"==e&&(h="solid",i>0&&3>i&&(h="dot"),i>=3&&6>=i&&(h="dash"),i>6&&(h="longdash"),s?r.dashstyle=h:r.setAttribute("dashstyle",h)),("fill-opacity"==e||"opacity"==e)&&(0===i?s?t.on=!1:t.setAttribute("on",!1):s?t.opacity=i:t.setAttribute("opacity",i)),"fill"==e&&(s?t.color=i:t.setAttribute("color",i)),"rx"==e&&(s?a.arcSize=i+"%":a.setAttribute("arcsize",i+"%")))}},attr:function(t,e){for(var i in e)e.hasOwnProperty(i)&&this.setAttr(t,i,e[i])},text:function(t,e,i){var s=new AmCharts.AmDObject("text",this.D),a=s.node;return a.style.whiteSpace="pre",a.innerHTML=t,this.D.addToContainer(a,i),this.attr(s,e),s},getBBox:function(t){return this.getBox(t.node)
},getBox:function(t){var e,i=t.offsetLeft,s=t.offsetTop,a=t.offsetWidth,r=t.offsetHeight;if(t.hasChildNodes()){var h,o,n;for(n=0;n<t.childNodes.length;n++){e=this.getBox(t.childNodes[n]);var l=e.x;isNaN(l)||(isNaN(h)?h=l:h>l&&(h=l));var d=e.y;isNaN(d)||(isNaN(o)?o=d:o>d&&(o=d)),l=e.width+l,isNaN(l)||(a=Math.max(a,l)),e=e.height+d,isNaN(e)||(r=Math.max(r,e))}0>h&&(i+=h),0>o&&(s+=o)}return{x:i,y:s,width:a,height:r}},setText:function(t,e){var i=t.node;i&&(i.innerHTML=e),this.setAttr(t,"text-anchor",t.anchor)},addListener:function(t,e,i){t.node["on"+e]=i},move:function(t,e,i){var s=t.node,a=s.style;"text"==t.type&&(i-=AmCharts.removePx(a.fontSize)/2-1),"oval"==t.shapeType&&(e-=AmCharts.removePx(a.width)/2,i-=AmCharts.removePx(a.height)/2),t=t.bw,isNaN(t)||(e-=t,i-=t),isNaN(e)||isNaN(i)||(s.style.left=e+"px",s.style.top=i+"px")},svgPathToVml:function(t){var e=t.split(" ");t="";var i,s,a=Math.round;for(s=0;s<e.length;s++){var r=e[s],h=r.substring(0,1),r=r.substring(1),o=r.split(","),n=a(o[0])+","+a(o[1]);if("M"==h&&(t+=" m "+n),"L"==h&&(t+=" l "+n),"Z"==h&&(t+=" x e"),"Q"==h){var l=i.length,d=i[l-1],u=o[0],c=o[1],n=o[2],m=o[3];i=a(i[l-2]/3+2/3*u),d=a(d/3+2/3*c),u=a(2/3*u+n/3),c=a(2/3*c+m/3),t+=" c "+i+","+d+","+u+","+c+","+n+","+m}"A"==h&&(t+=" wa "+r),"B"==h&&(t+=" at "+r),i=o}return t},animate:function(t,e,i,s,a){var r=t.node,h=this.chart;if("translate"==e){e=i.split(","),i=e[1];var o=r.offsetTop;h.animate(t,"left",r.offsetLeft,e[0],s,a,"px"),h.animate(t,"top",o,i,s,a,"px")}},clipRect:function(t,e,i,s,a){t=t.node,0===e&&0===i?(t.style.width=s+"px",t.style.height=a+"px",t.style.overflow="hidden"):t.style.clip="rect("+i+"px "+(e+s)+"px "+(i+a)+"px "+e+"px)"},rotate:function(t,e,i){if(0!==Number(e)){var s=t.node;t=s.style,i||(i=this.getBGColor(s.parentNode)),t.backgroundColor=i,t.paddingLeft=1,i=e*Math.PI/180;var a=Math.cos(i),r=Math.sin(i),h=AmCharts.removePx(t.left),o=AmCharts.removePx(t.top),n=s.offsetWidth,s=s.offsetHeight;e/=Math.abs(e),t.left=h+n/2-n/2*Math.cos(i)-e*s/2*Math.sin(i)+3,t.top=o-e*n/2*Math.sin(i)+e*s/2*Math.sin(i),t.cssText=t.cssText+"; filter:progid:DXImageTransform.Microsoft.Matrix(M11='"+a+"', M12='"+-r+"', M21='"+r+"', M22='"+a+"', sizingmethod='auto expand');"}},getBGColor:function(t){var e="#FFFFFF";if(t.style){var i=t.style.backgroundColor;""!==i?e=i:t.parentNode&&(e=this.getBGColor(t.parentNode))}return e},set:function(t){var e=new AmCharts.AmDObject("group",this.D);if(this.D.container.appendChild(e.node),t){var i;for(i=0;i<t.length;i++)e.push(t[i])}return e},gradient:function(t,e,i,s){var a="";"radialGradient"==e&&(e="gradientradial",i.reverse()),"linearGradient"==e&&(e="gradient");var r;for(r=0;r<i.length;r++){var h=Math.round(100*r/(i.length-1)),a=a+(h+"% "+i[r]);r<i.length-1&&(a+=",")}t=t.fill,90==s?s=0:270==s?s=180:180==s?s=90:0===s&&(s=270),8===document.documentMode?(t.type=e,t.angle=s):(t.setAttribute("type",e),t.setAttribute("angle",s)),a&&(t.colors.value=a)},remove:function(t){t.clipPath&&this.D.remove(t.clipPath),this.D.remove(t.node)},disableSelection:function(t){void 0!==typeof t.onselectstart&&(t.onselectstart=function(){return!1}),t.style.cursor="default"},pattern:function(t,e){var i=t.node,s=t.fill,a="none";e.color&&(a=e.color),i.fillColor=a,8===document.documentMode?(s.type="tile",s.src=e.url):(s.setAttribute("type","tile"),s.setAttribute("src",e.url))},update:function(){}}),AmCharts.SVGRenderer=AmCharts.Class({construct:function(t){this.D=t,this.animations=[]},create:function(t,e){return document.createElementNS(AmCharts.SVG_NS,e)},attr:function(t,e){for(var i in e)e.hasOwnProperty(i)&&this.setAttr(t,i,e[i])},setAttr:function(t,e,i){void 0!==i&&t.node.setAttribute(e,i)},animate:function(t,e,i,s,a){var r=t.node;t["an_"+e]&&AmCharts.removeFromArray(this.animations,t["an_"+e]),"translate"==e?(r=(r=r.getAttribute("transform"))?String(r).substring(10,r.length-1):"0,0",r=r.split(", ").join(" "),r=r.split(" ").join(","),0===r&&(r="0,0")):r=Number(r.getAttribute(e)),i={obj:t,frame:0,attribute:e,from:r,to:i,time:s,effect:a},this.animations.push(i),t["an_"+e]=i},update:function(){var t,e=this.animations;for(t=e.length-1;t>=0;t--){var i,s,a,r=e[t],h=1e3*r.time/AmCharts.updateRate,o=r.frame+1,n=r.obj,l=r.attribute;h>=o?(r.frame++,"translate"==l?(i=r.from.split(","),l=Number(i[0]),i=Number(i[1]),isNaN(i)&&(i=0),s=r.to.split(","),a=Number(s[0]),s=Number(s[1]),a=0===a-l?a:Math.round(AmCharts[r.effect](0,o,l,a-l,h)),r=0===s-i?s:Math.round(AmCharts[r.effect](0,o,i,s-i,h)),l="transform",r="translate("+a+","+r+")"):(s=Number(r.from),i=Number(r.to),a=i-s,r=AmCharts[r.effect](0,o,s,a,h),isNaN(r)&&(r=i),0===a&&this.animations.splice(t,1)),this.setAttr(n,l,r)):("translate"==l?(s=r.to.split(","),a=Number(s[0]),s=Number(s[1]),n.translate(a,s)):(i=Number(r.to),this.setAttr(n,l,i)),this.animations.splice(t,1))}},getBBox:function(t){if(t=t.node)try{return t.getBBox()}catch(e){}return{width:0,height:0,x:0,y:0}},path:function(t,e){t.node.setAttributeNS(AmCharts.SVG_XLINK,"xlink:href",e)},clipRect:function(t,e,i,s,a){var r=t.node,h=t.clipPath;h&&this.D.remove(h);var o=r.parentNode;o&&(r=document.createElementNS(AmCharts.SVG_NS,"clipPath"),h=AmCharts.getUniqueId(),r.setAttribute("id",h),this.D.rect(e,i,s,a,0,0,r),o.appendChild(r),e="#",AmCharts.baseHref&&!AmCharts.isIE&&(e=window.location.href+e),this.setAttr(t,"clip-path","url("+e+h+")"),this.clipPathC++,t.clipPath=r)},text:function(t,e,i){var s=new AmCharts.AmDObject("text",this.D);t=String(t).split("\n");var a,r=e["font-size"];for(a=0;a<t.length;a++){var h=this.create(null,"tspan");h.appendChild(document.createTextNode(t[a])),h.setAttribute("y",(r+2)*a+Math.round(r/2)),h.setAttribute("x",0),s.node.appendChild(h)}return s.node.setAttribute("y",Math.round(r/2)),this.attr(s,e),this.D.addToContainer(s.node,i),s},setText:function(t,e){var i=t.node;i&&(i.removeChild(i.firstChild),i.appendChild(document.createTextNode(e)))},move:function(t,e,i,s){e="translate("+e+","+i+")",s&&(e=e+" scale("+s+")"),this.setAttr(t,"transform",e)},rotate:function(t,e){var i=t.node.getAttribute("transform"),s="rotate("+e+")";i&&(s=i+" "+s),this.setAttr(t,"transform",s)},set:function(t){var e=new AmCharts.AmDObject("g",this.D);if(this.D.container.appendChild(e.node),t){var i;for(i=0;i<t.length;i++)e.push(t[i])}return e},addListener:function(t,e,i){t.node["on"+e]=i},gradient:function(t,e,i,s){var a=t.node,r=t.grad;if(r&&this.D.remove(r),e=document.createElementNS(AmCharts.SVG_NS,e),r=AmCharts.getUniqueId(),e.setAttribute("id",r),!isNaN(s)){var h=0,o=0,n=0,l=0;90==s?n=100:270==s?l=100:180==s?h=100:0===s&&(o=100),e.setAttribute("x1",h+"%"),e.setAttribute("x2",o+"%"),e.setAttribute("y1",n+"%"),e.setAttribute("y2",l+"%")}for(s=0;s<i.length;s++)h=document.createElementNS(AmCharts.SVG_NS,"stop"),o=100*s/(i.length-1),0===s&&(o=0),h.setAttribute("offset",o+"%"),h.setAttribute("stop-color",i[s]),e.appendChild(h);a.parentNode.appendChild(e),i="#",AmCharts.baseHref&&!AmCharts.isIE&&(i=window.location.href+i),a.setAttribute("fill","url("+i+r+")"),t.grad=e},pattern:function(t,e,i){var s=t.node;isNaN(i)&&(i=1);var a=t.patternNode;a&&this.D.remove(a);var a=document.createElementNS(AmCharts.SVG_NS,"pattern"),r=AmCharts.getUniqueId(),h=e;e.url&&(h=e.url);var o=Number(e.width);isNaN(o)&&(o=4);var n=Number(e.height);isNaN(n)&&(n=4),o/=i,n/=i,i=e.x,isNaN(i)&&(i=0);var l=-Math.random()*Number(e.randomX);isNaN(l)||(i=l),l=e.y,isNaN(l)&&(l=0);var d=-Math.random()*Number(e.randomY);isNaN(d)||(l=d),a.setAttribute("id",r),a.setAttribute("width",o),a.setAttribute("height",n),a.setAttribute("patternUnits","userSpaceOnUse"),a.setAttribute("xlink:href",h),e.color&&(d=document.createElementNS(AmCharts.SVG_NS,"rect"),d.setAttributeNS(null,"height",o),d.setAttributeNS(null,"width",n),d.setAttributeNS(null,"fill",e.color),a.appendChild(d)),this.D.image(h,0,0,o,n,a).translate(i,l),h="#",AmCharts.baseHref&&!AmCharts.isIE&&(h=window.location.href+h),s.setAttribute("fill","url("+h+r+")"),t.patternNode=a,s.parentNode.appendChild(a)},remove:function(t){t.clipPath&&this.D.remove(t.clipPath),t.grad&&this.D.remove(t.grad),t.patternNode&&this.D.remove(t.patternNode),this.D.remove(t.node)}}),AmCharts.AmDSet=AmCharts.Class({construct:function(){this.create("g")},attr:function(t){this.R.attr(this.node,t)},move:function(t,e){this.R.move(this.node,t,e)}}),AmCharts.AmLegend=AmCharts.Class({construct:function(t){this.cname="AmLegend",this.createEvents("rollOverMarker","rollOverItem","rollOutMarker","rollOutItem","showItem","hideItem","clickMarker","rollOverItem","rollOutItem","clickLabel"),this.position="bottom",this.borderColor=this.color="#000000",this.borderAlpha=0,this.markerLabelGap=5,this.verticalGap=10,this.align="left",this.horizontalGap=0,this.spacing=10,this.markerDisabledColor="#AAB3B3",this.markerType="square",this.markerSize=16,this.markerBorderThickness=this.markerBorderAlpha=1,this.marginBottom=this.marginTop=0,this.marginLeft=this.marginRight=20,this.autoMargins=!0,this.valueWidth=50,this.switchable=!0,this.switchType="x",this.switchColor="#FFFFFF",this.rollOverColor="#CC0000",this.reversedOrder=!1,this.labelText="[[title]]",this.valueText="[[value]]",this.useMarkerColorForLabels=!1,this.rollOverGraphAlpha=1,this.textClickEnabled=!1,this.equalWidths=!0,this.dateFormat="DD-MM-YYYY",this.backgroundColor="#FFFFFF",this.backgroundAlpha=0,this.useGraphSettings=!1,this.showEntries=!0,AmCharts.applyTheme(this,t,this.cname)},setData:function(t){this.legendData=t,this.invalidateSize()},invalidateSize:function(){this.destroy(),this.entries=[],this.valueLabels=[],(AmCharts.ifArray(this.legendData)||AmCharts.ifArray(this.data))&&this.drawLegend()},drawLegend:function(){var t=this.chart,e=this.position,i=this.width,s=t.divRealWidth,a=t.divRealHeight,r=this.div,h=this.legendData;if(this.data&&(h=this.data),isNaN(this.fontSize)&&(this.fontSize=t.fontSize),"right"==e||"left"==e)this.maxColumns=1,this.autoMargins&&(this.marginLeft=this.marginRight=10);else if(this.autoMargins){this.marginRight=t.marginRight,this.marginLeft=t.marginLeft;var o=t.autoMarginOffset;"bottom"==e?(this.marginBottom=o,this.marginTop=0):(this.marginTop=o,this.marginBottom=0)}var n;if(void 0!==i?n=AmCharts.toCoordinate(i,s):"right"!=e&&"left"!=e&&(n=t.realWidth),"outside"==e?(n=r.offsetWidth,a=r.offsetHeight,r.clientHeight&&(n=r.clientWidth,a=r.clientHeight)):(isNaN(n)||(r.style.width=n+"px"),r.className="amChartsLegend"),this.divWidth=n,(e=this.container)?(e.container.innerHTML="",r.appendChild(e.container),e.setSize(n,a)):e=new AmCharts.AmDraw(r,n,a,t),this.container=e,this.lx=0,this.ly=8,a=this.markerSize,a>this.fontSize&&(this.ly=a/2-1),a>0&&(this.lx+=a+this.markerLabelGap),this.titleWidth=0,(a=this.title)&&(t=AmCharts.text(this.container,a,this.color,t.fontFamily,this.fontSize,"start",!0),t.translate(this.marginLeft,this.marginTop+this.verticalGap+this.ly+1),t=t.getBBox(),this.titleWidth=t.width+15,this.titleHeight=t.height+6),this.index=this.maxLabelWidth=0,this.showEntries){for(t=0;t<h.length;t++)this.createEntry(h[t]);for(t=this.index=0;t<h.length;t++)this.createValue(h[t])}this.arrangeEntries(),this.updateValues()},arrangeEntries:function(){var t=this.position,e=this.marginLeft+this.titleWidth,i=this.marginRight,s=this.marginTop,a=this.marginBottom,r=this.horizontalGap,h=this.div,o=this.divWidth,n=this.maxColumns,l=this.verticalGap,d=this.spacing,u=o-i-e,c=0,m=0,p=this.container;this.set&&this.set.remove();var f=p.set();this.set=f,p=p.set(),f.push(p);var g,v,C=this.entries;for(v=0;v<C.length;v++){g=C[v].getBBox();var A=g.width;A>c&&(c=A),g=g.height,g>m&&(m=g)}var A=m=0,b=r,x=0,y=0;for(v=0;v<C.length;v++){var w=C[v];this.reversedOrder&&(w=C[C.length-v-1]),g=w.getBBox();var M;this.equalWidths?M=r+A*(c+d+this.markerLabelGap):(M=b,b=b+g.width+r+d),g.height>y&&(y=g.height),M+g.width>u&&v>0&&0!==A&&(m++,A=0,M=r,b=M+g.width+r+d,x=x+y+l,y=0),w.translate(M,x),A++,!isNaN(n)&&A>=n&&(A=0,m++,x=x+y+l,y=0),p.push(w)}g=p.getBBox(),n=g.height+2*l-1,"left"==t||"right"==t?(o=g.width+2*r,h.style.width=o+e+i+"px"):o=o-e-i-1,i=AmCharts.polygon(this.container,[0,o,o,0],[0,0,n,n],this.backgroundColor,this.backgroundAlpha,1,this.borderColor,this.borderAlpha),f.push(i),f.translate(e,s),i.toBack(),e=r,("top"==t||"bottom"==t||"absolute"==t||"outside"==t)&&("center"==this.align?e=r+(o-g.width)/2:"right"==this.align&&(e=r+o-g.width)),p.translate(e,l+1),this.titleHeight>n&&(n=this.titleHeight),t=n+s+a+1,0>t&&(t=0),h.style.height=Math.round(t)+"px"},createEntry:function(t){if(!1!==t.visibleInLegend){var e=this.chart,i=t.markerType;i||(i=this.markerType);var s=t.color,a=t.alpha;t.legendKeyColor&&(s=t.legendKeyColor()),t.legendKeyAlpha&&(a=t.legendKeyAlpha());var r;!0===t.hidden&&(r=s=this.markerDisabledColor);var h=t.pattern,o=t.customMarker;o||(o=this.customMarker);var n=this.container,l=this.markerSize,d=0,u=0,c=l/2;if(this.useGraphSettings)if(d=t.type,this.switchType=void 0,"line"==d||"step"==d||"smoothedLine"==d||"ohlc"==d)h=n.set(),t.hidden||(s=t.lineColorR,r=t.bulletBorderColorR),u=AmCharts.line(n,[0,2*l],[l/2,l/2],s,t.lineAlpha,t.lineThickness,t.dashLength),h.push(u),t.bullet&&(t.hidden||(s=t.bulletColorR),u=AmCharts.bullet(n,t.bullet,t.bulletSize,s,t.bulletAlpha,t.bulletBorderThickness,r,t.bulletBorderAlpha))&&(u.translate(l+1,l/2),h.push(u)),c=0,d=l,u=l/3;else{var m;t.getGradRotation&&(m=t.getGradRotation()),d=t.fillColorsR,!0===t.hidden&&(d=s),(h=this.createMarker("rectangle",d,t.fillAlphas,t.lineThickness,s,t.lineAlpha,m,h))&&(c=l,h.translate(c,l/2)),d=l}else o?(e.path&&(o=e.path+o),h=n.image(o,0,0,l,l)):(h=this.createMarker(i,s,a,void 0,void 0,void 0,void 0,h))&&h.translate(l/2,l/2);this.addListeners(h,t),n=n.set([h]),this.switchable&&t.switchable&&n.setAttr("cursor","pointer"),(r=this.switchType)&&"none"!=r&&("x"==r?(m=this.createX(),m.translate(l/2,l/2)):m=this.createV(),m.dItem=t,!0!==t.hidden?"x"==r?m.hide():m.show():"x"!=r&&m.hide(),this.switchable||m.hide(),this.addListeners(m,t),t.legendSwitch=m,n.push(m)),r=this.color,t.showBalloon&&this.textClickEnabled&&void 0!==this.selectedColor&&(r=this.selectedColor),this.useMarkerColorForLabels&&(r=s),!0===t.hidden&&(r=this.markerDisabledColor),s=AmCharts.massReplace(this.labelText,{"[[title]]":t.title}),m=this.fontSize,h&&m>=l&&h.translate(c,l/2+this.ly-m/2+(m+2-l)/2-u);var p;s&&(s=AmCharts.fixBrakes(s),t.legendTextReal=s,p=this.labelWidth,p=isNaN(p)?AmCharts.text(this.container,s,r,e.fontFamily,m,"start"):AmCharts.wrappedText(this.container,s,r,e.fontFamily,m,"start",!1,p,0),p.translate(this.lx+d,this.ly),n.push(p),e=p.getBBox().width,this.maxLabelWidth<e&&(this.maxLabelWidth=e)),this.entries[this.index]=n,t.legendEntry=this.entries[this.index],t.legendLabel=p,this.index++}},addListeners:function(t,e){var i=this;t&&t.mouseover(function(){i.rollOverMarker(e)}).mouseout(function(){i.rollOutMarker(e)}).click(function(){i.clickMarker(e)})},rollOverMarker:function(t){this.switchable&&this.dispatch("rollOverMarker",t),this.dispatch("rollOverItem",t)},rollOutMarker:function(t){this.switchable&&this.dispatch("rollOutMarker",t),this.dispatch("rollOutItem",t)},clickMarker:function(t){this.switchable&&(!0===t.hidden?this.dispatch("showItem",t):this.dispatch("hideItem",t)),this.dispatch("clickMarker",t)},rollOverLabel:function(t){t.hidden||(this.textClickEnabled&&t.legendLabel&&t.legendLabel.attr({fill:this.rollOverColor}),this.dispatch("rollOverItem",t))},rollOutLabel:function(t){if(!t.hidden){if(this.textClickEnabled&&t.legendLabel){var e=this.color;void 0!==this.selectedColor&&t.showBalloon&&(e=this.selectedColor),this.useMarkerColorForLabels&&(e=t.lineColor,void 0===e&&(e=t.color)),t.legendLabel.attr({fill:e})}this.dispatch("rollOutItem",t)}},clickLabel:function(t){this.textClickEnabled?t.hidden||this.dispatch("clickLabel",t):this.switchable&&(!0===t.hidden?this.dispatch("showItem",t):this.dispatch("hideItem",t))},dispatch:function(t,e){this.fire(t,{type:t,dataItem:e,target:this,chart:this.chart})},createValue:function(t){var e=this,i=e.fontSize;if(!1!==t.visibleInLegend){var s=e.maxLabelWidth;e.equalWidths||(e.valueAlign="left"),"left"==e.valueAlign&&(s=t.legendEntry.getBBox().width);var a=s;if(e.valueText&&0<e.valueWidth){var r=e.color;e.useMarkerColorForValues&&(r=t.color,t.legendKeyColor&&(r=t.legendKeyColor())),!0===t.hidden&&(r=e.markerDisabledColor);var h=e.valueText,s=s+e.lx+e.markerLabelGap+e.valueWidth,o="end";"left"==e.valueAlign&&(s-=e.valueWidth,o="start"),r=AmCharts.text(e.container,h,r,e.chart.fontFamily,i,o),r.translate(s,e.ly),e.entries[e.index].push(r),a+=e.valueWidth+2*e.markerLabelGap,r.dItem=t,e.valueLabels.push(r)}e.index++,r=e.markerSize,i+7>r&&(r=i+7,AmCharts.VML&&(r+=3)),i=e.container.rect(e.markerSize,0,a,r,0,0).attr({stroke:"none",fill:"#ffffff","fill-opacity":.005}),i.dItem=t,e.entries[e.index-1].push(i),i.mouseover(function(){e.rollOverLabel(t)}).mouseout(function(){e.rollOutLabel(t)}).click(function(){e.clickLabel(t)})}},createV:function(){var t=this.markerSize;return AmCharts.polygon(this.container,[t/5,t/2,t-t/5,t/2],[t/3,t-t/5,t/5,t/1.7],this.switchColor)},createX:function(){var t=(this.markerSize-4)/2,e={stroke:this.switchColor,"stroke-width":3},i=this.container,s=AmCharts.line(i,[-t,t],[-t,t]).attr(e),t=AmCharts.line(i,[-t,t],[t,-t]).attr(e);return this.container.set([s,t])},createMarker:function(t,e,i,s,a,r,h,o){var n=this.markerSize,l=this.container;return a||(a=this.markerBorderColor),a||(a=e),isNaN(s)&&(s=this.markerBorderThickness),isNaN(r)&&(r=this.markerBorderAlpha),AmCharts.bullet(l,t,n,e,i,s,a,r,n,h,o)},validateNow:function(){this.invalidateSize()},updateValues:function(){var t,e=this.valueLabels,i=this.chart,s=this.data;for(t=0;t<e.length;t++){var a=e[t],r=a.dItem,h=" ";if(s)a.text(r.value?r.value:"");else{if(void 0!==r.type){var o=r.currentDataItem,n=this.periodValueText;r.legendPeriodValueText&&(n=r.legendPeriodValueText),o?(h=this.valueText,r.legendValueText&&(h=r.legendValueText),h=i.formatString(h,o)):n&&(h=i.formatPeriodString(n,r))}else h=i.formatString(this.valueText,r);(n=this.valueFunction)&&(o&&(r=o),h=n(r,h)),a.text(h)}}},renderFix:function(){if(!AmCharts.VML){var t=this.container;t&&t.renderFix()}},destroy:function(){this.div.innerHTML="",AmCharts.remove(this.set)}}),AmCharts.formatMilliseconds=function(t,e){if(-1!=t.indexOf("fff")){var i=e.getMilliseconds(),s=String(i);10>i&&(s="00"+i),i>=10&&100>i&&(s="0"+i),t=t.replace(/fff/g,s)}return t},AmCharts.extractPeriod=function(t){var e=AmCharts.stripNumbers(t),i=1;return e!=t&&(i=Number(t.slice(0,t.indexOf(e)))),{period:e,count:i}},AmCharts.newDate=function(t,e){return date="fff"==e?AmCharts.useUTC?new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()):new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()):new Date(t)},AmCharts.resetDateToMin=function(t,e,i,s){void 0===s&&(s=1);var a,r,h,o,n,l,d;switch(AmCharts.useUTC?(a=t.getUTCFullYear(),r=t.getUTCMonth(),h=t.getUTCDate(),o=t.getUTCHours(),n=t.getUTCMinutes(),l=t.getUTCSeconds(),d=t.getUTCMilliseconds(),t=t.getUTCDay()):(a=t.getFullYear(),r=t.getMonth(),h=t.getDate(),o=t.getHours(),n=t.getMinutes(),l=t.getSeconds(),d=t.getMilliseconds(),t=t.getDay()),e){case"YYYY":a=Math.floor(a/i)*i,r=0,h=1,d=l=n=o=0;break;case"MM":r=Math.floor(r/i)*i,h=1,d=l=n=o=0;break;case"WW":0===t&&s>0&&(t=7),h=h-t+s,d=l=n=o=0;break;case"DD":d=l=n=o=0;break;case"hh":o=Math.floor(o/i)*i,d=l=n=0;break;case"mm":n=Math.floor(n/i)*i,d=l=0;break;case"ss":l=Math.floor(l/i)*i,d=0;break;case"fff":d=Math.floor(d/i)*i}return AmCharts.useUTC?(t=new Date,t.setUTCFullYear(a,r,h),t.setUTCHours(o,n,l,d)):t=new Date(a,r,h,o,n,l,d),t},AmCharts.getPeriodDuration=function(t,e){void 0===e&&(e=1);var i;switch(t){case"YYYY":i=316224e5;break;case"MM":i=26784e5;break;case"WW":i=6048e5;break;case"DD":i=864e5;break;case"hh":i=36e5;break;case"mm":i=6e4;break;case"ss":i=1e3;break;case"fff":i=1}return i*e},AmCharts.intervals={s:{nextInterval:"ss",contains:1e3},ss:{nextInterval:"mm",contains:60,count:0},mm:{nextInterval:"hh",contains:60,count:1},hh:{nextInterval:"DD",contains:24,count:2},DD:{nextInterval:"",contains:1/0,count:3}},AmCharts.getMaxInterval=function(t,e){var i=AmCharts.intervals;return t>=i[e].contains?(t=Math.round(t/i[e].contains),e=i[e].nextInterval,AmCharts.getMaxInterval(t,e)):"ss"==e?i[e].nextInterval:e},AmCharts.dayNames="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),AmCharts.shortDayNames="Sun Mon Tue Wed Thu Fri Sat".split(" "),AmCharts.monthNames="January February March April May June July August September October November December".split(" "),AmCharts.shortMonthNames="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),AmCharts.getWeekNumber=function(t){t=new Date(t),t.setHours(0,0,0),t.setDate(t.getDate()+4-(t.getDay()||7));var e=new Date(t.getFullYear(),0,1);return Math.ceil(((t-e)/864e5+1)/7)},AmCharts.stringToDate=function(t,e){var i={},s=[{pattern:"YYYY",period:"year"},{pattern:"YY",period:"year"},{pattern:"MM",period:"month"},{pattern:"M",period:"month"},{pattern:"DD",period:"date"},{pattern:"D",period:"date"},{pattern:"JJ",period:"hours"},{pattern:"J",period:"hours"},{pattern:"HH",period:"hours"},{pattern:"H",period:"hours"},{pattern:"KK",period:"hours"},{pattern:"K",period:"hours"},{pattern:"LL",period:"hours"},{pattern:"L",period:"hours"},{pattern:"NN",period:"minutes"},{pattern:"N",period:"minutes"},{pattern:"SS",period:"seconds"},{pattern:"S",period:"seconds"},{pattern:"QQQ",period:"milliseconds"},{pattern:"QQ",period:"milliseconds"},{pattern:"Q",period:"milliseconds"}],a=!0,r=e.indexOf("AA");-1!=r&&(t.substr(r,2),"pm"==t.toLowerCase&&(a=!1));var h,o,n,r=e;for(n=0;n<s.length;n++)o=s[n].period,i[o]=0,"date"==o&&(i[o]=1);for(n=0;n<s.length;n++)if(h=s[n].pattern,o=s[n].period,-1!=e.indexOf(h)){var l=AmCharts.getFromDateString(h,t,r);e=e.replace(h,""),("KK"==h||"K"==h||"LL"==h||"L"==h)&&(a||(l+=12)),i[o]=l}return new Date(i.year,i.month,i.date,i.hours,i.minutes,i.seconds,i.milliseconds)},AmCharts.getFromDateString=function(t,e,i){return void 0!==e?(i=i.indexOf(t),e=e.substr(i,t.length),"0"==e.charAt(0)&&(e=e.substr(1,e.length-1)),e=Number(e),isNaN(e)&&(e=0),-1!=t.indexOf("M")&&e--,e):void 0},AmCharts.formatDate=function(t,e){var i,s,a,r,h,o,n,l,d=AmCharts.getWeekNumber(t);AmCharts.useUTC?(i=t.getUTCFullYear(),s=t.getUTCMonth(),a=t.getUTCDate(),r=t.getUTCDay(),h=t.getUTCHours(),o=t.getUTCMinutes(),n=t.getUTCSeconds(),l=t.getUTCMilliseconds()):(i=t.getFullYear(),s=t.getMonth(),a=t.getDate(),r=t.getDay(),h=t.getHours(),o=t.getMinutes(),n=t.getSeconds(),l=t.getMilliseconds());var u=String(i).substr(2,2),c=s+1;9>s&&(c="0"+c);var m="0"+r;e=e.replace(/W/g,d),d=h,24==d&&(d=0);var p=d;10>p&&(p="0"+p),e=e.replace(/JJ/g,p),e=e.replace(/J/g,d),p=h,0===p&&(p=24,-1!=e.indexOf("H")&&a--),d=a,10>a&&(d="0"+a);var f=p;return 10>f&&(f="0"+f),e=e.replace(/HH/g,f),e=e.replace(/H/g,p),p=h,p>11&&(p-=12),f=p,10>f&&(f="0"+f),e=e.replace(/KK/g,f),e=e.replace(/K/g,p),p=h,0===p&&(p=12),p>12&&(p-=12),f=p,10>f&&(f="0"+f),e=e.replace(/LL/g,f),e=e.replace(/L/g,p),p=o,10>p&&(p="0"+p),e=e.replace(/NN/g,p),e=e.replace(/N/g,o),o=n,10>o&&(o="0"+o),e=e.replace(/SS/g,o),e=e.replace(/S/g,n),n=l,10>n&&(n="00"+n),100>n&&(n="0"+n),o=l,10>o&&(o="00"+o),e=e.replace(/QQQ/g,n),e=e.replace(/QQ/g,o),e=e.replace(/Q/g,l),e=12>h?e.replace(/A/g,"am"):e.replace(/A/g,"pm"),e=e.replace(/YYYY/g,"@IIII@"),e=e.replace(/YY/g,"@II@"),e=e.replace(/MMMM/g,"@XXXX@"),e=e.replace(/MMM/g,"@XXX@"),e=e.replace(/MM/g,"@XX@"),e=e.replace(/M/g,"@X@"),e=e.replace(/DD/g,"@RR@"),e=e.replace(/D/g,"@R@"),e=e.replace(/EEEE/g,"@PPPP@"),e=e.replace(/EEE/g,"@PPP@"),e=e.replace(/EE/g,"@PP@"),e=e.replace(/E/g,"@P@"),e=e.replace(/@IIII@/g,i),e=e.replace(/@II@/g,u),e=e.replace(/@XXXX@/g,AmCharts.monthNames[s]),e=e.replace(/@XXX@/g,AmCharts.shortMonthNames[s]),e=e.replace(/@XX@/g,c),e=e.replace(/@X@/g,s+1),e=e.replace(/@RR@/g,d),e=e.replace(/@R@/g,a),e=e.replace(/@PPPP@/g,AmCharts.dayNames[r]),e=e.replace(/@PPP@/g,AmCharts.shortDayNames[r]),e=e.replace(/@PP@/g,m),e=e.replace(/@P@/g,r)},AmCharts.changeDate=function(t,e,i,s,a){var r=-1;switch(void 0===s&&(s=!0),void 0===a&&(a=!1),!0===s&&(r=1),e){case"YYYY":t.setFullYear(t.getFullYear()+i*r),s||a||t.setDate(t.getDate()+1);break;case"MM":e=t.getMonth(),t.setMonth(t.getMonth()+i*r),t.getMonth()>e+i*r&&t.setDate(t.getDate()-1),s||a||t.setDate(t.getDate()+1);break;case"DD":t.setDate(t.getDate()+i*r);break;case"WW":t.setDate(t.getDate()+i*r*7);break;case"hh":t.setHours(t.getHours()+i*r);break;case"mm":t.setMinutes(t.getMinutes()+i*r);break;case"ss":t.setSeconds(t.getSeconds()+i*r);break;case"fff":t.setMilliseconds(t.getMilliseconds()+i*r)}return t};